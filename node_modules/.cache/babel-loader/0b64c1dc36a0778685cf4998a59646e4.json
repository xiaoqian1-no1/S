{"remainingRequest":"F:\\1\\smart\\vue\\node_modules\\babel-loader\\lib\\index.js!F:\\1\\smart\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\1\\smart\\vue\\src\\views\\FarmMap3D.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\1\\smart\\vue\\src\\views\\FarmMap3D.vue","mtime":1763448918466},{"path":"F:\\1\\smart\\vue\\babel.config.js","mtime":1718183300000},{"path":"F:\\1\\smart\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803512432},{"path":"F:\\1\\smart\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735803514062},{"path":"F:\\1\\smart\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803512432},{"path":"F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1735803514728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJzsKaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJzsKaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Zhcm1NYXAzRCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRUaW1lOiAnJywKICAgICAgc2VsZWN0ZWRGYXJtOiBudWxsLAogICAgICB3ZWF0aGVyOiB7CiAgICAgICAgdGVtcDogMjgsCiAgICAgICAgc3RhdHVzOiAn5pm0JwogICAgICB9LAogICAgICBzdW1tYXJ5OiB7CiAgICAgICAgZmFybUNvdW50OiAwLAogICAgICAgIHRvdGFsQXJlYTogMCwKICAgICAgICB0b3RhbFN0b2NrOiAwLAogICAgICAgIG5vcm1hbENvdW50OiAwCiAgICAgIH0sCiAgICAgIGZhcm1zOiBbXSwKICAgICAgLy8gVGhyZWUuanMg55u45YWzCiAgICAgIHNjZW5lOiBudWxsLAogICAgICBjYW1lcmE6IG51bGwsCiAgICAgIHJlbmRlcmVyOiBudWxsLAogICAgICBjb250cm9sczogbnVsbCwKICAgICAgZmFybUJsb2NrczogW10sCiAgICAgIGxhYmVsczogW10sCiAgICAgIC8vIOWtmOWCqOaJgOacieagh+etvueyvueBtQogICAgICByYXljYXN0ZXI6IG51bGwsCiAgICAgIG1vdXNlOiBudWxsLAogICAgICBzZWxlY3RlZEJsb2NrOiBudWxsLAogICAgICB0aW1lSW50ZXJ2YWw6IG51bGwsCiAgICAgIC8vIOaXtumXtOabtOaWsOWumuaXtuWZqAogICAgICBsYXN0UmVuZGVyVGltZTogbnVsbCwKICAgICAgLy8g5LiK5qyh5riy5p+T5pe26Ze077yM55So5LqO5bin546H5o6n5Yi2CiAgICAgIG1vdXNlTW92ZVRpbWVyOiBudWxsLAogICAgICAvLyDpvKDmoIfnp7vliqjoioLmtYHlrprml7blmagKICAgICAgYm91bmRNb3VzZUNsaWNrOiBudWxsLAogICAgICAvLyDnu5HlrprnmoTkuovku7blpITnkIblh73mlbAKICAgICAgYm91bmRNb3VzZU1vdmU6IG51bGwsCiAgICAgIGJvdW5kV2luZG93UmVzaXplOiBudWxsLAogICAgICAvLyDmqKHlnovliqDovb3lmajlkoznvJPlrZgKICAgICAgZ2x0ZkxvYWRlcjogbnVsbCwKICAgICAgbW9kZWxDYWNoZToge30sCiAgICAgIC8vIOe8k+WtmOW3suWKoOi9veeahOaooeWeiwoKICAgICAgLy8g8J+MviDkvZznianphY3nva7kuK3lv4MgLSDmt7vliqDmlrDmpI3nianlj6rpnIDlnKjov5nph4zphY3nva7ljbPlj68KICAgICAgY3JvcENvbmZpZzogewogICAgICAgICflsI/puqYnOiB7CiAgICAgICAgICBpY29uOiAn8J+MvicsCiAgICAgICAgICBjb2xvcjogMHhGNEQwM0YsCiAgICAgICAgICAvLyDph5Hpu4ToibIKICAgICAgICAgIG1vZGVsUGF0aDogJy9tb2RlbHMvY3JvcHMvd2hlYXQuZ2xiJwogICAgICAgIH0sCiAgICAgICAgJ+eOieexsyc6IHsKICAgICAgICAgIGljb246ICfwn4y9JywKICAgICAgICAgIGNvbG9yOiAweEYzOUMxMiwKICAgICAgICAgIC8vIOapmem7hOiJsgogICAgICAgICAgbW9kZWxQYXRoOiAnL21vZGVscy9jcm9wcy9jb3JuLmdsYicKICAgICAgICB9LAogICAgICAgICfmsLTnqLsnOiB7CiAgICAgICAgICBpY29uOiAn8J+MvicsCiAgICAgICAgICBjb2xvcjogMHg1MkJFODAsCiAgICAgICAgICAvLyDnu7/oibIKICAgICAgICAgIG1vZGVsUGF0aDogJy9tb2RlbHMvY3JvcHMvcmljZS5nbGInCiAgICAgICAgfSwKICAgICAgICAn5aSn6LGGJzogewogICAgICAgICAgaWNvbjogJ/Cfq5gnLAogICAgICAgICAgY29sb3I6IDB4ODVDMUUyLAogICAgICAgICAgLy8g5rWF6JOd6ImyCiAgICAgICAgICBtb2RlbFBhdGg6ICcvbW9kZWxzL2Nyb3BzL3NveWJlYW4uZ2xiJwogICAgICAgIH0sCiAgICAgICAgJ+eVquiMhCc6IHsKICAgICAgICAgIGljb246ICfwn42FJywKICAgICAgICAgIGNvbG9yOiAweEU3NEMzQywKICAgICAgICAgIC8vIOe6ouiJsgogICAgICAgICAgbW9kZWxQYXRoOiAnL21vZGVscy9jcm9wcy90b21hdG8uZ2xiJwogICAgICAgIH0sCiAgICAgICAgJ+m7hOeTnCc6IHsKICAgICAgICAgIGljb246ICfwn6WSJywKICAgICAgICAgIGNvbG9yOiAweDI3QUU2MCwKICAgICAgICAgIC8vIOa3see7v+iJsgogICAgICAgICAgbW9kZWxQYXRoOiAnL21vZGVscy9jcm9wcy9jdWN1bWJlci5nbGInCiAgICAgICAgfSwKICAgICAgICAn6L6j5qSSJzogewogICAgICAgICAgaWNvbjogJ/CfjLbvuI8nLAogICAgICAgICAgY29sb3I6IDB4QzAzOTJCLAogICAgICAgICAgLy8g5rex57qi6ImyCiAgICAgICAgICBtb2RlbFBhdGg6ICcvbW9kZWxzL2Nyb3BzL3BlcHBlci5nbGInCiAgICAgICAgfSwKICAgICAgICAn6IyE5a2QJzogewogICAgICAgICAgaWNvbjogJ/CfjYYnLAogICAgICAgICAgY29sb3I6IDB4OEU0NEFELAogICAgICAgICAgLy8g57Sr6ImyCiAgICAgICAgICBtb2RlbFBhdGg6ICcvbW9kZWxzL2Nyb3BzL2VnZ3BsYW50LmdsYicKICAgICAgICB9LAogICAgICAgICfnmb3oj5wnOiB7CiAgICAgICAgICBpY29uOiAn8J+lrCcsCiAgICAgICAgICBjb2xvcjogMHgyRUNDNzEsCiAgICAgICAgICAvLyDkuq7nu7/oibIKICAgICAgICAgIG1vZGVsUGF0aDogJy9tb2RlbHMvY3JvcHMvY2FiYmFnZS5nbGInCiAgICAgICAgfSwKICAgICAgICAn6JCd5Y2cJzogewogICAgICAgICAgaWNvbjogJ/CfpZUnLAogICAgICAgICAgY29sb3I6IDB4RTY3RTIyLAogICAgICAgICAgLy8g5qmZ6ImyCiAgICAgICAgICBtb2RlbFBhdGg6ICcvbW9kZWxzL2Nyb3BzL2NhcnJvdC5nbGInCiAgICAgICAgfSwKICAgICAgICAn5Zyf6LGGJzogewogICAgICAgICAgaWNvbjogJ/CfpZQnLAogICAgICAgICAgY29sb3I6IDB4RDRBQzZFLAogICAgICAgICAgLy8g5Zyf6buE6ImyCiAgICAgICAgICBtb2RlbFBhdGg6ICcvbW9kZWxzL2Nyb3BzL3BvdGF0by5nbGInCiAgICAgICAgfSwKICAgICAgICAn5Y2X55OcJzogewogICAgICAgICAgaWNvbjogJ/CfjoMnLAogICAgICAgICAgY29sb3I6IDB4RkY4QzAwLAogICAgICAgICAgLy8g5rex5qmZ6ImyCiAgICAgICAgICBtb2RlbFBhdGg6ICcvbW9kZWxzL2Nyb3BzL3B1bXBraW4uZ2xiJwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8g6buY6K6k6YWN572u77yI5b2T5L2c54mp5LiN5Zyo6YWN572u5Lit5pe25L2/55So77yJCiAgICAgIGRlZmF1bHRDcm9wQ29uZmlnOiB7CiAgICAgICAgaWNvbjogJ/CfjLEnLAogICAgICAgIGNvbG9yOiAweDUyQkU4MCwKICAgICAgICBtb2RlbFBhdGg6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnVwZGF0ZVRpbWUoKTsKICAgIHRoaXMudGltZUludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy51cGRhdGVUaW1lLCAxMDAwKTsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMudGltZUludGVydmFsKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lSW50ZXJ2YWwpOwogICAgfQogICAgLy8g6ZSA5q+BVGhyZWUuanPotYTmupAKICAgIGlmICh0aGlzLnJlbmRlcmVyKSB7CiAgICAgIHRoaXMucmVuZGVyZXIuZGlzcG9zZSgpOwogICAgICBpZiAodGhpcy4kcmVmcy50aHJlZUNvbnRhaW5lcikgewogICAgICAgIHRoaXMuJHJlZnMudGhyZWVDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTsKICAgICAgfQogICAgfQogICAgaWYgKHRoaXMuY29udHJvbHMpIHsKICAgICAgdGhpcy5jb250cm9scy5kaXNwb3NlKCk7CiAgICB9CiAgICAvLyDmuIXnkIbkuovku7bnm5HlkKwKICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuJHJlZnMudGhyZWVDb250YWluZXI7CiAgICBpZiAoY29udGFpbmVyKSB7CiAgICAgIGlmICh0aGlzLmJvdW5kTW91c2VDbGljaykgewogICAgICAgIGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRNb3VzZUNsaWNrKTsKICAgICAgfQogICAgICBpZiAodGhpcy5ib3VuZE1vdXNlTW92ZSkgewogICAgICAgIGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmJvdW5kTW91c2VNb3ZlKTsKICAgICAgfQogICAgfQogICAgaWYgKHRoaXMuYm91bmRXaW5kb3dSZXNpemUpIHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuYm91bmRXaW5kb3dSZXNpemUpOwogICAgfQoKICAgIC8vIOa4heeQhuWumuaXtuWZqAogICAgaWYgKHRoaXMubW91c2VNb3ZlVGltZXIpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubW91c2VNb3ZlVGltZXIpOwogICAgICB0aGlzLm1vdXNlTW92ZVRpbWVyID0gbnVsbDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZVRpbWUoKSB7CiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgIGNvbnN0IHllYXIgPSBub3cuZ2V0RnVsbFllYXIoKTsKICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcobm93LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpOwogICAgICBjb25zdCBkYXkgPSBTdHJpbmcobm93LmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgY29uc3QgaG91ciA9IFN0cmluZyhub3cuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgY29uc3QgbWludXRlID0gU3RyaW5nKG5vdy5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyk7CiAgICAgIGNvbnN0IHNlY29uZCA9IFN0cmluZyhub3cuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCAnMCcpOwogICAgICBjb25zdCB3ZWVrRGF5cyA9IFsn5pif5pyf5pelJywgJ+aYn+acn+S4gCcsICfmmJ/mnJ/kuownLCAn5pif5pyf5LiJJywgJ+aYn+acn+WbmycsICfmmJ/mnJ/kupQnLCAn5pif5pyf5YWtJ107CiAgICAgIGNvbnN0IHdlZWtEYXkgPSB3ZWVrRGF5c1tub3cuZ2V0RGF5KCldOwogICAgICB0aGlzLmN1cnJlbnRUaW1lID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfSAke3dlZWtEYXl9YDsKICAgIH0sCiAgICBhc3luYyBmZXRjaERhdGEoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgZmFybXNSZXMgPSBhd2FpdCB0aGlzLnJlcXVlc3QuZ2V0KCcvc3RhdGlzdGljL2Rhc2hib2FyZCcpOwogICAgICAgIGlmIChmYXJtc1Jlcy5jb2RlID09PSAnMjAwJykgewogICAgICAgICAgdGhpcy5mYXJtcyA9IGZhcm1zUmVzLmRhdGE7CiAgICAgICAgICBpZiAodGhpcy5mYXJtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGYXJtID0gdGhpcy5mYXJtc1swXTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5pbml0M0RNYXAoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBjb25zdCBzdW1tYXJ5UmVzID0gYXdhaXQgdGhpcy5yZXF1ZXN0LmdldCgnL3N0YXRpc3RpYy9kYXNoYm9hcmQvc3VtbWFyeScpOwogICAgICAgIGlmIChzdW1tYXJ5UmVzLmNvZGUgPT09ICcyMDAnKSB7CiAgICAgICAgICB0aGlzLnN1bW1hcnkgPSBzdW1tYXJ5UmVzLmRhdGE7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluaVsOaNruWksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5pWw5o2u5Yqg6L295aSx6LSlJyk7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RGYXJtKGZhcm0pIHsKICAgICAgdGhpcy5zZWxlY3RlZEZhcm0gPSBmYXJtOwogICAgICAvLyDlnKgzROWcuuaZr+S4remrmOS6ruWvueW6lOeahOaWueWdlwogICAgICB0aGlzLmhpZ2hsaWdodEZhcm1CbG9jayhmYXJtKTsKICAgIH0sCiAgICAvLyDorqHnrpfnjq/looPlgaXlurfor4TliIbvvIgwLTEwMO+8iQogICAgY2FsY3VsYXRlSGVhbHRoU2NvcmUoZmFybSkgewogICAgICBpZiAoIWZhcm0pIHJldHVybiAwOwogICAgICBjb25zdCBzY29yZXMgPSBbXTsKCiAgICAgIC8vIOa4qeW6puivhOWIhu+8iOacgOS9s+iMg+WbtCAyMC0yOMKwQ++8iQogICAgICBjb25zdCB0ZW1wID0gZmFybS50ZW1wZXJhdHVyZSB8fCAyNTsKICAgICAgaWYgKHRlbXAgPj0gMjAgJiYgdGVtcCA8PSAyOCkgewogICAgICAgIHNjb3Jlcy5wdXNoKDEwMCk7CiAgICAgIH0gZWxzZSBpZiAodGVtcCA+PSAxNSAmJiB0ZW1wIDw9IDMyKSB7CiAgICAgICAgc2NvcmVzLnB1c2goODApOwogICAgICB9IGVsc2UgewogICAgICAgIHNjb3Jlcy5wdXNoKDUwKTsKICAgICAgfQoKICAgICAgLy8g56m65rCU5rm/5bqm6K+E5YiG77yI5pyA5L2z6IyD5Zu0IDYwLTgwJe+8iQogICAgICBjb25zdCBhaXJIdW0gPSBmYXJtLmFpcmh1bWlkaXR5IHx8IDcwOwogICAgICBpZiAoYWlySHVtID49IDYwICYmIGFpckh1bSA8PSA4MCkgewogICAgICAgIHNjb3Jlcy5wdXNoKDEwMCk7CiAgICAgIH0gZWxzZSBpZiAoYWlySHVtID49IDUwICYmIGFpckh1bSA8PSA5MCkgewogICAgICAgIHNjb3Jlcy5wdXNoKDc1KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzY29yZXMucHVzaCg1MCk7CiAgICAgIH0KCiAgICAgIC8vIOWcn+WjpOa5v+W6puivhOWIhu+8iOacgOS9s+iMg+WbtCA0MC03MCXvvIkKICAgICAgY29uc3Qgc29pbEh1bSA9IGZhcm0uc29pbGh1bWlkaXR5IHx8IDYwOwogICAgICBpZiAoc29pbEh1bSA+PSA0MCAmJiBzb2lsSHVtIDw9IDcwKSB7CiAgICAgICAgc2NvcmVzLnB1c2goMTAwKTsKICAgICAgfSBlbHNlIGlmIChzb2lsSHVtID49IDMwICYmIHNvaWxIdW0gPD0gODApIHsKICAgICAgICBzY29yZXMucHVzaCg3NSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2NvcmVzLnB1c2goNTApOwogICAgICB9CgogICAgICAvLyDlhYnnhaflvLrluqbor4TliIbvvIjmnIDkvbPojIPlm7QgMjAwMDAtNTAwMDAgbHV477yJCiAgICAgIGNvbnN0IGxpZ2h0ID0gZmFybS5saWdodCB8fCAzMDAwMDsKICAgICAgaWYgKGxpZ2h0ID49IDIwMDAwICYmIGxpZ2h0IDw9IDUwMDAwKSB7CiAgICAgICAgc2NvcmVzLnB1c2goMTAwKTsKICAgICAgfSBlbHNlIGlmIChsaWdodCA+PSAxMDAwMCAmJiBsaWdodCA8PSA2MDAwMCkgewogICAgICAgIHNjb3Jlcy5wdXNoKDgwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzY29yZXMucHVzaCg2MCk7CiAgICAgIH0KCiAgICAgIC8vIENP4oKC6K+E5YiG77yI5pyA5L2z6IyD5Zu0IDM1MC00NTAgcHBt77yJCiAgICAgIGNvbnN0IGNhcmJvbiA9IGZhcm0uY2FyYm9uIHx8IDQwMDsKICAgICAgaWYgKGNhcmJvbiA+PSAzNTAgJiYgY2FyYm9uIDw9IDQ1MCkgewogICAgICAgIHNjb3Jlcy5wdXNoKDEwMCk7CiAgICAgIH0gZWxzZSBpZiAoY2FyYm9uID49IDMwMCAmJiBjYXJib24gPD0gNTAwKSB7CiAgICAgICAgc2NvcmVzLnB1c2goODUpOwogICAgICB9IGVsc2UgewogICAgICAgIHNjb3Jlcy5wdXNoKDY1KTsKICAgICAgfQoKICAgICAgLy8gUEjlgLzor4TliIbvvIjmnIDkvbPojIPlm7QgNi4wLTcuNe+8iQogICAgICBjb25zdCBwaCA9IGZhcm0ucGggfHwgNi44OwogICAgICBpZiAocGggPj0gNi4wICYmIHBoIDw9IDcuNSkgewogICAgICAgIHNjb3Jlcy5wdXNoKDEwMCk7CiAgICAgIH0gZWxzZSBpZiAocGggPj0gNS41ICYmIHBoIDw9IDguMCkgewogICAgICAgIHNjb3Jlcy5wdXNoKDgwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzY29yZXMucHVzaCg1NSk7CiAgICAgIH0KCiAgICAgIC8vIOiuoeeul+W5s+Wdh+WIhgogICAgICBjb25zdCBhdmdTY29yZSA9IHNjb3Jlcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHNjb3Jlcy5sZW5ndGg7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGF2Z1Njb3JlKTsKICAgIH0sCiAgICAvLyDmoLnmja7lgaXlurfmjIfmlbDojrflj5bpopzoibLvvIjkvJjnp4A957u/6Imy77yM6Imv5aW9PeiTneiJsu+8jOS4gOiIrD3pu4ToibLvvIzpnIDlhbPms6g957qi6Imy77yJCiAgICBnZXRIZWFsdGhDb2xvcihzY29yZSkgewogICAgICBpZiAoc2NvcmUgPj0gOTApIHsKICAgICAgICByZXR1cm4gMHg2N0MyM0E7IC8vIOe7v+iJsiAtIOS8mOengAogICAgICB9IGVsc2UgaWYgKHNjb3JlID49IDc1KSB7CiAgICAgICAgcmV0dXJuIDB4NDA5RUZGOyAvLyDok53oibIgLSDoia/lpb0KICAgICAgfSBlbHNlIGlmIChzY29yZSA+PSA2MCkgewogICAgICAgIHJldHVybiAweEU2QTIzQzsgLy8g6buE6ImyIC0g5LiA6IisCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDB4RjU2QzZDOyAvLyDnuqLoibIgLSDpnIDlhbPms6gKICAgICAgfQogICAgfSwKICAgIC8vIOa3t+WQiOS4pOenjeminOiJsgogICAgYmxlbmRDb2xvcnMoY29sb3IxLCBjb2xvcjIsIHJhdGlvKSB7CiAgICAgIGNvbnN0IHIxID0gY29sb3IxID4+IDE2ICYgMHhGRjsKICAgICAgY29uc3QgZzEgPSBjb2xvcjEgPj4gOCAmIDB4RkY7CiAgICAgIGNvbnN0IGIxID0gY29sb3IxICYgMHhGRjsKICAgICAgY29uc3QgcjIgPSBjb2xvcjIgPj4gMTYgJiAweEZGOwogICAgICBjb25zdCBnMiA9IGNvbG9yMiA+PiA4ICYgMHhGRjsKICAgICAgY29uc3QgYjIgPSBjb2xvcjIgJiAweEZGOwogICAgICBjb25zdCByID0gTWF0aC5yb3VuZChyMSAqICgxIC0gcmF0aW8pICsgcjIgKiByYXRpbyk7CiAgICAgIGNvbnN0IGcgPSBNYXRoLnJvdW5kKGcxICogKDEgLSByYXRpbykgKyBnMiAqIHJhdGlvKTsKICAgICAgY29uc3QgYiA9IE1hdGgucm91bmQoYjEgKiAoMSAtIHJhdGlvKSArIGIyICogcmF0aW8pOwogICAgICByZXR1cm4gciA8PCAxNiB8IGcgPDwgOCB8IGI7CiAgICB9LAogICAgLy8g5re75Yqg5YGl5bq35oyH5pWw5qCH562+CiAgICBhZGRIZWFsdGhJbmRleExhYmVsKHNjb3JlLCB4LCB5LCB6KSB7CiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGNhbnZhcy53aWR0aCA9IDEyMDsKICAgICAgY2FudmFzLmhlaWdodCA9IDQwOwoKICAgICAgLy8g5qC55o2u5YiG5pWw6K6+572u6IOM5pmv6aKc6ImyCiAgICAgIGxldCBiZ0NvbG9yID0gJ3JnYmEoMTAzLCAxOTQsIDU4LCAwLjkpJzsgLy8g57u/6ImyCiAgICAgIGxldCB0ZXh0Q29sb3IgPSAnI2ZmZmZmZic7CiAgICAgIGlmIChzY29yZSA+PSA5MCkgewogICAgICAgIGJnQ29sb3IgPSAncmdiYSgxMDMsIDE5NCwgNTgsIDAuOSknOyAvLyDnu7/oibIKICAgICAgfSBlbHNlIGlmIChzY29yZSA+PSA3NSkgewogICAgICAgIGJnQ29sb3IgPSAncmdiYSg2NCwgMTU4LCAyNTUsIDAuOSknOyAvLyDok53oibIKICAgICAgfSBlbHNlIGlmIChzY29yZSA+PSA2MCkgewogICAgICAgIGJnQ29sb3IgPSAncmdiYSgyMzAsIDE2MiwgNjAsIDAuOSknOyAvLyDpu4ToibIKICAgICAgICB0ZXh0Q29sb3IgPSAnI2ZmZmZmZic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYmdDb2xvciA9ICdyZ2JhKDI0NSwgMTA4LCAxMDgsIDAuOSknOyAvLyDnuqLoibIKICAgICAgfQoKICAgICAgLy8g57uY5Yi26IOM5pmvCiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gYmdDb2xvcjsKICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9ICdyZ2JhKDAsIDAsIDAsIDAuMiknOwogICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSA1OwogICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAxOwogICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAxOwogICAgICBjb25zdCByYWRpdXMgPSA2OwogICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOwogICAgICBjb250ZXh0Lm1vdmVUbyhyYWRpdXMsIDApOwogICAgICBjb250ZXh0LmxpbmVUbyhjYW52YXMud2lkdGggLSByYWRpdXMsIDApOwogICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oY2FudmFzLndpZHRoLCAwLCBjYW52YXMud2lkdGgsIHJhZGl1cyk7CiAgICAgIGNvbnRleHQubGluZVRvKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCAtIHJhZGl1cyk7CiAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsIGNhbnZhcy53aWR0aCAtIHJhZGl1cywgY2FudmFzLmhlaWdodCk7CiAgICAgIGNvbnRleHQubGluZVRvKHJhZGl1cywgY2FudmFzLmhlaWdodCk7CiAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbygwLCBjYW52YXMuaGVpZ2h0LCAwLCBjYW52YXMuaGVpZ2h0IC0gcmFkaXVzKTsKICAgICAgY29udGV4dC5saW5lVG8oMCwgcmFkaXVzKTsKICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKDAsIDAsIHJhZGl1cywgMCk7CiAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7CiAgICAgIGNvbnRleHQuZmlsbCgpOwoKICAgICAgLy8g57uY5Yi25paH5a2XCiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGV4dENvbG9yOwogICAgICBjb250ZXh0LmZvbnQgPSAnYm9sZCAxOHB4IEFyaWFsJzsKICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSAnY2VudGVyJzsKICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgY29udGV4dC5maWxsVGV4dChgJHtzY29yZX1gLCBjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMiAtIDUpOwogICAgICBjb250ZXh0LmZvbnQgPSAnMTJweCBBcmlhbCc7CiAgICAgIGNvbnRleHQuZmlsbFRleHQoJ+WBpeW6t+aMh+aVsCcsIGNhbnZhcy53aWR0aCAvIDIsIGNhbnZhcy5oZWlnaHQgLyAyICsgMTApOwoKICAgICAgLy8g5Yib5bu657q555CGCiAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVEhSRUUuQ2FudmFzVGV4dHVyZShjYW52YXMpOwogICAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTsKCiAgICAgIC8vIOWIm+W7uueyvueBtQogICAgICBjb25zdCBzcHJpdGVNYXRlcmlhbCA9IG5ldyBUSFJFRS5TcHJpdGVNYXRlcmlhbCh7CiAgICAgICAgbWFwOiB0ZXh0dXJlLAogICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLAogICAgICAgIGRlcHRoVGVzdDogZmFsc2UKICAgICAgfSk7CiAgICAgIGNvbnN0IHNwcml0ZSA9IG5ldyBUSFJFRS5TcHJpdGUoc3ByaXRlTWF0ZXJpYWwpOwogICAgICBzcHJpdGUucG9zaXRpb24uc2V0KHgsIHksIHopOwogICAgICBzcHJpdGUuc2NhbGUuc2V0KDIsIDIsIDEpOwogICAgICB0aGlzLnNjZW5lLmFkZChzcHJpdGUpOwogICAgICB0aGlzLmxhYmVscy5wdXNoKHNwcml0ZSk7CiAgICB9LAogICAgLy8g6I635Y+W5YGl5bq3562J57qnCiAgICBnZXRIZWFsdGhMZXZlbChmYXJtKSB7CiAgICAgIGNvbnN0IHNjb3JlID0gdGhpcy5jYWxjdWxhdGVIZWFsdGhTY29yZShmYXJtKTsKICAgICAgaWYgKHNjb3JlID49IDkwKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRleHQ6ICfkvJjnp4AnLAogICAgICAgICAgZGVzYzogJ+eOr+Wig+adoeS7tumdnuW4uOmAguWunOS9nOeJqeeUn+mVvycsCiAgICAgICAgICBjbGFzczogJ2xldmVsLWV4Y2VsbGVudCcKICAgICAgICB9OwogICAgICB9IGVsc2UgaWYgKHNjb3JlID49IDc1KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRleHQ6ICfoia/lpb0nLAogICAgICAgICAgZGVzYzogJ+eOr+Wig+adoeS7tumAguWunO+8jOWPr+aMgee7reebkea1iycsCiAgICAgICAgICBjbGFzczogJ2xldmVsLWdvb2QnCiAgICAgICAgfTsKICAgICAgfSBlbHNlIGlmIChzY29yZSA+PSA2MCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiAn5LiA6IisJywKICAgICAgICAgIGRlc2M6ICfpg6jliIbmjIfmoIfpnIDopoHosIPmlbTkvJjljJYnLAogICAgICAgICAgY2xhc3M6ICdsZXZlbC1ub3JtYWwnCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdGV4dDogJ+mcgOaUueWWhCcsCiAgICAgICAgICBkZXNjOiAn546v5aKD5p2h5Lu26ZyA6KaB5Y+K5pe26LCD5pW0JywKICAgICAgICAgIGNsYXNzOiAnbGV2ZWwtcG9vcicKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgLy8g6I635Y+W5YGl5bq36K+E5YiG5riQ5Y+Y6ImyCiAgICBnZXRIZWFsdGhTY29yZUdyYWRpZW50KGZhcm0pIHsKICAgICAgY29uc3Qgc2NvcmUgPSB0aGlzLmNhbGN1bGF0ZUhlYWx0aFNjb3JlKGZhcm0pOwogICAgICBpZiAoc2NvcmUgPj0gOTApIHsKICAgICAgICByZXR1cm4gJ2xpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSknOwogICAgICB9IGVsc2UgaWYgKHNjb3JlID49IDc1KSB7CiAgICAgICAgcmV0dXJuICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNDNlOTdiIDAlLCAjMzhmOWQ3IDEwMCUpJzsKICAgICAgfSBlbHNlIGlmIChzY29yZSA+PSA2MCkgewogICAgICAgIHJldHVybiAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2ZhNzA5YSAwJSwgI2ZlZTE0MCAxMDAlKSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZjA5M2ZiIDAlLCAjZjU1NzZjIDEwMCUpJzsKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPlueOr+Wig+aMh+agh+aVsOaNrgogICAgZ2V0RW52TWV0cmljcyhmYXJtKSB7CiAgICAgIGlmICghZmFybSkgcmV0dXJuIFtdOwogICAgICByZXR1cm4gW3sKICAgICAgICBrZXk6ICd0ZW1wJywKICAgICAgICBsYWJlbDogJ+a4qeW6picsCiAgICAgICAgdmFsdWU6IGAke2Zhcm0udGVtcGVyYXR1cmV9wrBDYCwKICAgICAgICBpY29uOiAn8J+Moe+4jycsCiAgICAgICAgcGVyY2VudDogdGhpcy5ub3JtYWxpemVWYWx1ZShmYXJtLnRlbXBlcmF0dXJlLCAwLCA0MCwgMTAwKSwKICAgICAgICBjb2xvcjogdGhpcy5nZXRNZXRyaWNDb2xvcihmYXJtLnRlbXBlcmF0dXJlLCAyMCwgMjgsIDE1LCAzMiksCiAgICAgICAgc3RhdHVzOiB0aGlzLmdldE1ldHJpY1N0YXR1cyhmYXJtLnRlbXBlcmF0dXJlLCAyMCwgMjgsIDE1LCAzMiksCiAgICAgICAgc3RhdHVzQ29sb3I6IHRoaXMuZ2V0TWV0cmljU3RhdHVzQ29sb3IoZmFybS50ZW1wZXJhdHVyZSwgMjAsIDI4LCAxNSwgMzIpCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdhaXJIdW0nLAogICAgICAgIGxhYmVsOiAn56m65rCU5rm/5bqmJywKICAgICAgICB2YWx1ZTogYCR7ZmFybS5haXJodW1pZGl0eX0lYCwKICAgICAgICBpY29uOiAn8J+SpycsCiAgICAgICAgcGVyY2VudDogZmFybS5haXJodW1pZGl0eSwKICAgICAgICBjb2xvcjogdGhpcy5nZXRNZXRyaWNDb2xvcihmYXJtLmFpcmh1bWlkaXR5LCA2MCwgODAsIDUwLCA5MCksCiAgICAgICAgc3RhdHVzOiB0aGlzLmdldE1ldHJpY1N0YXR1cyhmYXJtLmFpcmh1bWlkaXR5LCA2MCwgODAsIDUwLCA5MCksCiAgICAgICAgc3RhdHVzQ29sb3I6IHRoaXMuZ2V0TWV0cmljU3RhdHVzQ29sb3IoZmFybS5haXJodW1pZGl0eSwgNjAsIDgwLCA1MCwgOTApCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdzb2lsSHVtJywKICAgICAgICBsYWJlbDogJ+Wcn+WjpOa5v+W6picsCiAgICAgICAgdmFsdWU6IGAke2Zhcm0uc29pbGh1bWlkaXR5fSVgLAogICAgICAgIGljb246ICfwn4yxJywKICAgICAgICBwZXJjZW50OiBmYXJtLnNvaWxodW1pZGl0eSwKICAgICAgICBjb2xvcjogdGhpcy5nZXRNZXRyaWNDb2xvcihmYXJtLnNvaWxodW1pZGl0eSwgNDAsIDcwLCAzMCwgODApLAogICAgICAgIHN0YXR1czogdGhpcy5nZXRNZXRyaWNTdGF0dXMoZmFybS5zb2lsaHVtaWRpdHksIDQwLCA3MCwgMzAsIDgwKSwKICAgICAgICBzdGF0dXNDb2xvcjogdGhpcy5nZXRNZXRyaWNTdGF0dXNDb2xvcihmYXJtLnNvaWxodW1pZGl0eSwgNDAsIDcwLCAzMCwgODApCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdsaWdodCcsCiAgICAgICAgbGFiZWw6ICflhYnnhacnLAogICAgICAgIHZhbHVlOiBgJHsoZmFybS5saWdodCAvIDEwMDApLnRvRml4ZWQoMSl9a2AsCiAgICAgICAgaWNvbjogJ+KYgO+4jycsCiAgICAgICAgcGVyY2VudDogdGhpcy5ub3JtYWxpemVWYWx1ZShmYXJtLmxpZ2h0LCAwLCA2MDAwMCwgMTAwKSwKICAgICAgICBjb2xvcjogdGhpcy5nZXRNZXRyaWNDb2xvcihmYXJtLmxpZ2h0LCAyMDAwMCwgNTAwMDAsIDEwMDAwLCA2MDAwMCksCiAgICAgICAgc3RhdHVzOiB0aGlzLmdldE1ldHJpY1N0YXR1cyhmYXJtLmxpZ2h0LCAyMDAwMCwgNTAwMDAsIDEwMDAwLCA2MDAwMCksCiAgICAgICAgc3RhdHVzQ29sb3I6IHRoaXMuZ2V0TWV0cmljU3RhdHVzQ29sb3IoZmFybS5saWdodCwgMjAwMDAsIDUwMDAwLCAxMDAwMCwgNjAwMDApCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdjYXJib24nLAogICAgICAgIGxhYmVsOiAnQ0/igoInLAogICAgICAgIHZhbHVlOiBgJHtmYXJtLmNhcmJvbn1wcG1gLAogICAgICAgIGljb246ICfwn4yr77iPJywKICAgICAgICBwZXJjZW50OiB0aGlzLm5vcm1hbGl6ZVZhbHVlKGZhcm0uY2FyYm9uLCAzMDAsIDUwMCwgMTAwKSwKICAgICAgICBjb2xvcjogdGhpcy5nZXRNZXRyaWNDb2xvcihmYXJtLmNhcmJvbiwgMzUwLCA0NTAsIDMwMCwgNTAwKSwKICAgICAgICBzdGF0dXM6IHRoaXMuZ2V0TWV0cmljU3RhdHVzKGZhcm0uY2FyYm9uLCAzNTAsIDQ1MCwgMzAwLCA1MDApLAogICAgICAgIHN0YXR1c0NvbG9yOiB0aGlzLmdldE1ldHJpY1N0YXR1c0NvbG9yKGZhcm0uY2FyYm9uLCAzNTAsIDQ1MCwgMzAwLCA1MDApCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdwaCcsCiAgICAgICAgbGFiZWw6ICdQSOWAvCcsCiAgICAgICAgdmFsdWU6IGZhcm0ucGgsCiAgICAgICAgaWNvbjogJ+Kal++4jycsCiAgICAgICAgcGVyY2VudDogdGhpcy5ub3JtYWxpemVWYWx1ZShmYXJtLnBoLCA1LCA4LCAxMDApLAogICAgICAgIGNvbG9yOiB0aGlzLmdldE1ldHJpY0NvbG9yKGZhcm0ucGgsIDYuMCwgNy41LCA1LjUsIDguMCksCiAgICAgICAgc3RhdHVzOiB0aGlzLmdldE1ldHJpY1N0YXR1cyhmYXJtLnBoLCA2LjAsIDcuNSwgNS41LCA4LjApLAogICAgICAgIHN0YXR1c0NvbG9yOiB0aGlzLmdldE1ldHJpY1N0YXR1c0NvbG9yKGZhcm0ucGgsIDYuMCwgNy41LCA1LjUsIDguMCkKICAgICAgfV07CiAgICB9LAogICAgLy8g5qCH5YeG5YyW5pWw5YC85Yiw55m+5YiG5q+UCiAgICBub3JtYWxpemVWYWx1ZSh2YWx1ZSwgbWluLCBtYXgsIHNjYWxlID0gMTAwKSB7CiAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCgodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbikgKiBzY2FsZSwgMCksIHNjYWxlKTsKICAgIH0sCiAgICAvLyDojrflj5bmjIfmoIfpopzoibIKICAgIGdldE1ldHJpY0NvbG9yKHZhbHVlLCBpZGVhbE1pbiwgaWRlYWxNYXgsIGFjY2VwdE1pbiwgYWNjZXB0TWF4KSB7CiAgICAgIGlmICh2YWx1ZSA+PSBpZGVhbE1pbiAmJiB2YWx1ZSA8PSBpZGVhbE1heCkgewogICAgICAgIHJldHVybiAnIzY3QzIzQSc7IC8vIOe7v+iJsiAtIOeQhuaDswogICAgICB9IGVsc2UgaWYgKHZhbHVlID49IGFjY2VwdE1pbiAmJiB2YWx1ZSA8PSBhY2NlcHRNYXgpIHsKICAgICAgICByZXR1cm4gJyNFNkEyM0MnOyAvLyDmqZnoibIgLSDlj6/mjqXlj5cKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJyNGNTZDNkMnOyAvLyDnuqLoibIgLSDpnIDmlLnlloQKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluaMh+agh+eKtuaAgeaWh+acrAogICAgZ2V0TWV0cmljU3RhdHVzKHZhbHVlLCBpZGVhbE1pbiwgaWRlYWxNYXgsIGFjY2VwdE1pbiwgYWNjZXB0TWF4KSB7CiAgICAgIGlmICh2YWx1ZSA+PSBpZGVhbE1pbiAmJiB2YWx1ZSA8PSBpZGVhbE1heCkgewogICAgICAgIHJldHVybiAn55CG5oOzJzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA+PSBhY2NlcHRNaW4gJiYgdmFsdWUgPD0gYWNjZXB0TWF4KSB7CiAgICAgICAgcmV0dXJuICfmraPluLgnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAn6aKE6K2mJzsKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluaMh+agh+eKtuaAgeminOiJsgogICAgZ2V0TWV0cmljU3RhdHVzQ29sb3IodmFsdWUsIGlkZWFsTWluLCBpZGVhbE1heCwgYWNjZXB0TWluLCBhY2NlcHRNYXgpIHsKICAgICAgaWYgKHZhbHVlID49IGlkZWFsTWluICYmIHZhbHVlIDw9IGlkZWFsTWF4KSB7CiAgICAgICAgcmV0dXJuICcjNjdDMjNBJzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA+PSBhY2NlcHRNaW4gJiYgdmFsdWUgPD0gYWNjZXB0TWF4KSB7CiAgICAgICAgcmV0dXJuICcjRTZBMjNDJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJyNGNTZDNkMnOwogICAgICB9CiAgICB9LAogICAgLy8g6K6h566XU1ZH5ZyG546v55qEZGFzaGFycmF5CiAgICBjYWxjdWxhdGVEYXNoQXJyYXkocGVyY2VudCkgewogICAgICBjb25zdCBjaXJjdW1mZXJlbmNlID0gMiAqIE1hdGguUEkgKiAzMjsgLy8g5Y2K5b6EMzIKICAgICAgY29uc3QgZmlsbGVkID0gcGVyY2VudCAvIDEwMCAqIGNpcmN1bWZlcmVuY2U7CiAgICAgIHJldHVybiBgJHtmaWxsZWR9ICR7Y2lyY3VtZmVyZW5jZX1gOwogICAgfSwKICAgIC8vIOiOt+WPluaZuuiDveW7uuiurgogICAgZ2V0U21hcnRTdWdnZXN0aW9ucyhmYXJtKSB7CiAgICAgIGlmICghZmFybSkgcmV0dXJuIFtdOwogICAgICBjb25zdCBzdWdnZXN0aW9ucyA9IFtdOwoKICAgICAgLy8g5rip5bqm5bu66K6uCiAgICAgIGlmIChmYXJtLnRlbXBlcmF0dXJlIDwgMjApIHsKICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHsKICAgICAgICAgIGljb246ICfwn4yh77iPJywKICAgICAgICAgIHRleHQ6ICfmuKnluqblgY/kvY4nLAogICAgICAgICAgYWN0aW9uOiAn5bu66K6u5aKe5Yqg5L+d5rip5o6q5pa95oiW6LCD5pW056eN5qSN5pe26Ze0JywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGZhcm0udGVtcGVyYXR1cmUgPiAyOCkgewogICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goewogICAgICAgICAgaWNvbjogJ/CfjKHvuI8nLAogICAgICAgICAgdGV4dDogJ+a4qeW6puWBj+mrmCcsCiAgICAgICAgICBhY3Rpb246ICflu7rorq7lop7liqDpga7pmLPnvZHmiJbliqDlvLrpgJrpo47pmY3muKknLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIOa5v+W6puW7uuiurgogICAgICBpZiAoZmFybS5zb2lsaHVtaWRpdHkgPCA0MCkgewogICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goewogICAgICAgICAgaWNvbjogJ/CfkqcnLAogICAgICAgICAgdGV4dDogJ+Wcn+WjpOa5v+W6puS4jei2sycsCiAgICAgICAgICBhY3Rpb246ICflu7rorq7lj4rml7bngYzmuonvvIzkv53mjIHlnJ/lo6Tmub/mtqYnLAogICAgICAgICAgdHlwZTogJ2RhbmdlcicKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChmYXJtLnNvaWxodW1pZGl0eSA+IDcwKSB7CiAgICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7CiAgICAgICAgICBpY29uOiAn8J+SpycsCiAgICAgICAgICB0ZXh0OiAn5Zyf5aOk5rm/5bqm6L+H6auYJywKICAgICAgICAgIGFjdGlvbjogJ+W7uuiuruWKoOW8uuaOkuawtO+8jOmYsuatouagueezu+iFkOeDgicsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgLy8g5YWJ54Wn5bu66K6uCiAgICAgIGlmIChmYXJtLmxpZ2h0IDwgMjAwMDApIHsKICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKHsKICAgICAgICAgIGljb246ICfimIDvuI8nLAogICAgICAgICAgdGV4dDogJ+WFieeFp+S4jei2sycsCiAgICAgICAgICBhY3Rpb246ICflu7rorq7ooaXlhYXkurrlt6XlhYnmupDmiJbosIPmlbTnp43mpI3lr4bluqYnLAogICAgICAgICAgdHlwZTogJ2luZm8nCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIFBI5YC85bu66K6uCiAgICAgIGlmIChmYXJtLnBoIDwgNi4wKSB7CiAgICAgICAgc3VnZ2VzdGlvbnMucHVzaCh7CiAgICAgICAgICBpY29uOiAn4pqX77iPJywKICAgICAgICAgIHRleHQ6ICdQSOWAvOWBj+mFuCcsCiAgICAgICAgICBhY3Rpb246ICflu7rorq7mlr3nlKjnn7PngbDmiJbojYnmnKjngbDosIPoioLlnJ/lo6TphbjnorHluqYnLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAoZmFybS5waCA+IDcuNSkgewogICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goewogICAgICAgICAgaWNvbjogJ+Kal++4jycsCiAgICAgICAgICB0ZXh0OiAnUEjlgLzlgY/norEnLAogICAgICAgICAgYWN0aW9uOiAn5bu66K6u5pa955So56Gr56O657KJ5oiW5pyJ5py66IKl6LCD6IqCJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pOwogICAgICB9CgogICAgICAvLyDlpoLmnpzkuIDliIfmraPluLgKICAgICAgaWYgKHN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goewogICAgICAgICAgaWNvbjogJ+KchScsCiAgICAgICAgICB0ZXh0OiAn546v5aKD5p2h5Lu25LyY6ImvJywKICAgICAgICAgIGFjdGlvbjogJ+e7p+e7reS/neaMgeW9k+WJjeeuoeeQhuaOquaWvScsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gc3VnZ2VzdGlvbnM7CiAgICB9LAogICAgaGlnaGxpZ2h0RmFybUJsb2NrKGZhcm0pIHsKICAgICAgaWYgKCFmYXJtIHx8IHRoaXMuZmFybUJsb2Nrcy5sZW5ndGggPT09IDApIHJldHVybjsKCiAgICAgIC8vIOaJvuWIsOWvueW6lOeahOWGnOeUsOe7hAogICAgICBjb25zdCBncm91cCA9IHRoaXMuZmFybUJsb2Nrcy5maW5kKGcgPT4gZy51c2VyRGF0YS5mYXJtICYmIGcudXNlckRhdGEuZmFybS5pZCA9PT0gZmFybS5pZCk7CiAgICAgIGlmIChncm91cCkgewogICAgICAgIHRoaXMuc2VsZWN0QmxvY2soZ3JvdXApOwogICAgICB9CiAgICB9LAogICAgaW5pdDNETWFwKCkgewogICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLiRyZWZzLnRocmVlQ29udGFpbmVyOwogICAgICBpZiAoIWNvbnRhaW5lcikgewogICAgICAgIGNvbnNvbGUud2FybignM0TlrrnlmajmnKrmib7liLAnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZmFybXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgY29uc29sZS53YXJuKCfmsqHmnInlhpznlLDmlbDmja7vvIzml6Dms5XliJ3lp4vljJYzROWcsOWbvicpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5aaC5p6c5bey57uP5Yid5aeL5YyW6L+H77yM5YWI5riF55CGCiAgICAgIGlmICh0aGlzLnJlbmRlcmVyKSB7CiAgICAgICAgdGhpcy5yZW5kZXJlci5kaXNwb3NlKCk7CiAgICAgICAgaWYgKGNvbnRhaW5lci5jb250YWlucyh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpKSB7CiAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgY29uc3Qgd2lkdGggPSBjb250YWluZXIuY2xpZW50V2lkdGg7CiAgICAgIGNvbnN0IGhlaWdodCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7CgogICAgICAvLyDliJvlu7rlnLrmma8KICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOwoKICAgICAgLy8g5Yib5bu655u45py6CiAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDYwLCB3aWR0aCAvIGhlaWdodCwgMC4xLCAxMDAwKTsKICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDQwLCA1MCwgNDApOwogICAgICB0aGlzLmNhbWVyYS5sb29rQXQoMCwgMCwgMCk7CgogICAgICAvLyDliJvlu7rmuLLmn5PlmaggLSDkvJjljJbmgKfog73orr7nva4KICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsKICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLAogICAgICAgIC8vIOWFs+mXreaKl+mUr+m9v+aPkOWNh+aAp+iDvQogICAgICAgIHBvd2VyUHJlZmVyZW5jZTogJ2hpZ2gtcGVyZm9ybWFuY2UnIC8vIOS8mOWFiOaAp+iDvQogICAgICB9KTsKICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpOwogICAgICAvLyDpmZDliLblg4/ntKDmr5TvvIzpgb/lhY3pq5hEUEnorr7lpIfov4fluqbmuLLmn5MKICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKE1hdGgubWluKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCAyKSk7CiAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlOwogICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDsgLy8g5L2/55So6L2v6Zi05b2xCiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpOwoKICAgICAgLy8g5re75Yqg6L2o6YGT5o6n5Yi25ZmoIC0g5LyY5YyW6YWN572uCiAgICAgIHRoaXMuY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTsKICAgICAgdGhpcy5jb250cm9scy5lbmFibGVEYW1waW5nID0gdHJ1ZTsKICAgICAgdGhpcy5jb250cm9scy5kYW1waW5nRmFjdG9yID0gMC4wNTsKICAgICAgdGhpcy5jb250cm9scy5taW5EaXN0YW5jZSA9IDIwOwogICAgICB0aGlzLmNvbnRyb2xzLm1heERpc3RhbmNlID0gMTUwOwogICAgICB0aGlzLmNvbnRyb2xzLm1heFBvbGFyQW5nbGUgPSBNYXRoLlBJIC8gMi4yOwogICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVBhbiA9IHRydWU7IC8vIOWFgeiuuOW5s+enuwogICAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZVpvb20gPSB0cnVlOyAvLyDlhYHorrjnvKnmlL4KICAgICAgdGhpcy5jb250cm9scy5lbmFibGVSb3RhdGUgPSB0cnVlOyAvLyDlhYHorrjml4vovawKICAgICAgdGhpcy5jb250cm9scy5yb3RhdGVTcGVlZCA9IDAuNTsgLy8g6ZmN5L2O5peL6L2s6YCf5bqm77yM5o+Q5Y2H5pON5L2c5L2T6aqMCiAgICAgIHRoaXMuY29udHJvbHMuem9vbVNwZWVkID0gMC44OyAvLyDpmY3kvY7nvKnmlL7pgJ/luqYKICAgICAgdGhpcy5jb250cm9scy5wYW5TcGVlZCA9IDAuODsgLy8g6ZmN5L2O5bmz56e76YCf5bqmCgogICAgICAvLyDmt7vliqDlhYnmupDns7vnu58KICAgICAgLy8gMS4g546v5aKD5YWJ77yI5qih5ouf5aSp56m65pWj5bCE5YWJ77yJCiAgICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhCMEM0REUsIDAuNik7CiAgICAgIHRoaXMuc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7CgogICAgICAvLyAyLiDkuLvlhYnmupDvvIjlpKrpmLPlhYnvvIktIOmZjeS9jumYtOW9seWIhui+qOeOh+aPkOWNh+aAp+iDvQogICAgICBjb25zdCBzdW5MaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4RkZGOERDLCAxLjIpOwogICAgICBzdW5MaWdodC5wb3NpdGlvbi5zZXQoNjAsIDEwMCwgNDApOwogICAgICBzdW5MaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTsKICAgICAgc3VuTGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSAxMDI0OyAvLyDpmY3kvY7pmLTlvbHliIbovqjnjofvvJoyMDQ4IC0+IDEwMjQKICAgICAgc3VuTGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMTAyNDsKICAgICAgc3VuTGlnaHQuc2hhZG93LmNhbWVyYS5uZWFyID0gMC41OwogICAgICBzdW5MaWdodC5zaGFkb3cuY2FtZXJhLmZhciA9IDI1MDsKICAgICAgc3VuTGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gLTEwMDsKICAgICAgc3VuTGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IDEwMDsKICAgICAgc3VuTGlnaHQuc2hhZG93LmNhbWVyYS50b3AgPSAxMDA7CiAgICAgIHN1bkxpZ2h0LnNoYWRvdy5jYW1lcmEuYm90dG9tID0gLTEwMDsKICAgICAgc3VuTGlnaHQuc2hhZG93LmJpYXMgPSAtMC4wMDAxOwogICAgICBzdW5MaWdodC5zaGFkb3cucmFkaXVzID0gNDsgLy8g5re75Yqg6Zi05b2x5qih57OK5Y2K5b6E77yM5YeP5bCR6ZSv6b2/CiAgICAgIHRoaXMuc2NlbmUuYWRkKHN1bkxpZ2h0KTsKCiAgICAgIC8vIDMuIOWNiueQg+WFie+8iOWkqeepuuWSjOWcsOmdoueahOminOiJsui/h+a4oe+8iQogICAgICBjb25zdCBoZW1pc3BoZXJlTGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4ODdDRUVCLCAweDZCNUQ0RiwgMC41KTsKICAgICAgdGhpcy5zY2VuZS5hZGQoaGVtaXNwaGVyZUxpZ2h0KTsKICAgICAgdGhpcy5jcmVhdGVHcm91bmQoKTsKCiAgICAgIC8vIOWIm+W7uuWGnOeUsOaWueWdlwogICAgICB0aGlzLmNyZWF0ZUZhcm1CbG9ja3MoKTsKCiAgICAgIC8vIOWIneWni+WMluWwhOe6v+ajgOa1iwogICAgICB0aGlzLnJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTsKICAgICAgdGhpcy5tb3VzZSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7CgogICAgICAvLyDnu5Hlrprkuovku7blpITnkIblh73mlbDvvIjkv53lrZjlvJXnlKjku6Xkvr/lkI7nu63muIXnkIbvvIkKICAgICAgdGhpcy5ib3VuZE1vdXNlQ2xpY2sgPSB0aGlzLm9uTW91c2VDbGljay5iaW5kKHRoaXMpOwogICAgICB0aGlzLmJvdW5kTW91c2VNb3ZlID0gdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpOwogICAgICB0aGlzLmJvdW5kV2luZG93UmVzaXplID0gdGhpcy5vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpOwoKICAgICAgLy8g5re75Yqg6byg5qCH5LqL5Lu2CiAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRNb3VzZUNsaWNrKTsKICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuYm91bmRNb3VzZU1vdmUsIHsKICAgICAgICBwYXNzaXZlOiB0cnVlCiAgICAgIH0pOyAvLyDkvb/nlKhwYXNzaXZl5o+Q5Y2H5oCn6IO9CgogICAgICAvLyDnqpflj6PlpKflsI/osIPmlbQKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuYm91bmRXaW5kb3dSZXNpemUpOwoKICAgICAgLy8g5byA5aeL5Yqo55S75b6q546vCiAgICAgIHRoaXMuYW5pbWF0ZSgpOwogICAgfSwKICAgIGNyZWF0ZVNvaWxUZXh0dXJlKCkgewogICAgICAvLyDliJvlu7rlnJ/lo6TnurnnkIYgLSDkvJjljJbnurnnkIbnlJ/miJDmgKfog70KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIGNhbnZhcy53aWR0aCA9IDI1NjsgLy8g6ZmN5L2O57q555CG5YiG6L6o546H77yaNTEyIC0+IDI1NgogICAgICBjYW52YXMuaGVpZ2h0ID0gMjU2OwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKCiAgICAgIC8vIOWfuuehgOWcn+WjpOminOiJsgogICAgICBjb25zdCBzb2lsQ29sb3JzID0gWycjNUQ0RTM3JywKICAgICAgLy8g5rex5qOVCiAgICAgICcjNkI1RDRGJywKICAgICAgLy8g5Lit5qOVCiAgICAgICcjN0E2QTUyJywKICAgICAgLy8g5rWF5qOVCiAgICAgICcjOEI3MzU1JywKICAgICAgLy8g5Zyf6buECiAgICAgICcjNEEzQzJBJyAvLyDmmpfmo5UKICAgICAgXTsKCiAgICAgIC8vIOWhq+WFheWfuuehgOminOiJsgogICAgICBjdHguZmlsbFN0eWxlID0gc29pbENvbG9yc1sxXTsKICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CgogICAgICAvLyDlh4/lsJHpopfnspLmlbDph4/mj5DljYfmgKfog73vvJo1MDAwIC0+IDE1MDAKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNTAwOyBpKyspIHsKICAgICAgICBjb25zdCB4ID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhcy53aWR0aDsKICAgICAgICBjb25zdCB5ID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhcy5oZWlnaHQ7CiAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGgucmFuZG9tKCkgKiAyICsgMC41OyAvLyDnqI3lvq7lh4/lsI/popfnspLlpKflsI8KICAgICAgICBjb25zdCBjb2xvckluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc29pbENvbG9ycy5sZW5ndGgpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSBzb2lsQ29sb3JzW2NvbG9ySW5kZXhdOwogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IE1hdGgucmFuZG9tKCkgKiAwLjUgKyAwLjM7IC8vIOmZjeS9jumAj+aYjuW6puWPmOWMluiMg+WbtAogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHguYXJjKHgsIHksIHNpemUsIDAsIE1hdGguUEkgKiAyKTsKICAgICAgICBjdHguZmlsbCgpOwogICAgICB9CgogICAgICAvLyDmt7vliqDlnJ/lo6Too4LnurkKICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC4zOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzRBM0MyQSc7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzU7IGkrKykgewogICAgICAgIGN0eC5saW5lV2lkdGggPSBNYXRoLnJhbmRvbSgpICogMiArIDAuNTsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY29uc3Qgc3RhcnRYID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhcy53aWR0aDsKICAgICAgICBjb25zdCBzdGFydFkgPSBNYXRoLnJhbmRvbSgpICogY2FudmFzLmhlaWdodDsKICAgICAgICBjdHgubW92ZVRvKHN0YXJ0WCwgc3RhcnRZKTsKICAgICAgICBjb25zdCBzZWdtZW50cyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQpICsgMzsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNlZ21lbnRzOyBqKyspIHsKICAgICAgICAgIGNvbnN0IGVuZFggPSBzdGFydFggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA3MDsKICAgICAgICAgIGNvbnN0IGVuZFkgPSBzdGFydFkgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA3MDsKICAgICAgICAgIGN0eC5saW5lVG8oZW5kWCwgZW5kWSk7CiAgICAgICAgfQogICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgfQoKICAgICAgLy8g5re75Yqg5bCP55+z5a2QCiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNzsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNTA7IGkrKykgewogICAgICAgIGNvbnN0IHggPSBNYXRoLnJhbmRvbSgpICogY2FudmFzLndpZHRoOwogICAgICAgIGNvbnN0IHkgPSBNYXRoLnJhbmRvbSgpICogY2FudmFzLmhlaWdodDsKICAgICAgICBjb25zdCBzaXplID0gTWF0aC5yYW5kb20oKSAqIDQgKyAxOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSBNYXRoLnJhbmRvbSgpID4gMC41ID8gJyM5QjhCN0UnIDogJyM4QTc5NjgnOwogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHguYXJjKHgsIHksIHNpemUsIDAsIE1hdGguUEkgKiAyKTsKICAgICAgICBjdHguZmlsbCgpOwogICAgICB9CiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDEuMDsKICAgICAgcmV0dXJuIG5ldyBUSFJFRS5DYW52YXNUZXh0dXJlKGNhbnZhcyk7CiAgICB9LAogICAgY3JlYXRlR3JvdW5kKCkgewogICAgICAvLyDliJvlu7rlnLDpnaLvvIjluKbotbfkvI/nmoTlnJ/lo6TnurnnkIbvvIktIOmZjeS9juWIhuauteaVsOaPkOWNh+aAp+iDvQogICAgICBjb25zdCBncm91bmRHZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIwMCwgMjAwLCA0MCwgNDApOyAvLyDpmY3kvY7liIbmrrXmlbDvvJo4MHg4MCAtPiA0MHg0MAogICAgICBjb25zdCBwb3NpdGlvbnMgPSBncm91bmRHZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uOwoKICAgICAgLy8g5re75Yqg5pu06Ieq54S255qE5Zyw5b2i6LW35LyP77yI5LyY5YyW5b6q546v77yJCiAgICAgIGNvbnN0IHBvc2l0aW9uQXJyYXkgPSBwb3NpdGlvbnMuYXJyYXk7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9zaXRpb25BcnJheS5sZW5ndGg7IGkgKz0gMykgewogICAgICAgIGNvbnN0IHggPSBwb3NpdGlvbkFycmF5W2ldOwogICAgICAgIGNvbnN0IHkgPSBwb3NpdGlvbkFycmF5W2kgKyAxXTsKICAgICAgICBjb25zdCBub2lzZSA9IE1hdGguc2luKHggKiAwLjA1KSAqIE1hdGguY29zKHkgKiAwLjA1KSAqIDAuNSArIE1hdGguc2luKHggKiAwLjIpICogTWF0aC5jb3MoeSAqIDAuMikgKiAwLjI7CiAgICAgICAgcG9zaXRpb25BcnJheVtpICsgMl0gPSBub2lzZTsKICAgICAgfQogICAgICBwb3NpdGlvbnMubmVlZHNVcGRhdGUgPSB0cnVlOwogICAgICBncm91bmRHZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscygpOwoKICAgICAgLy8g5Yib5bu65Zyf5aOk57q555CGCiAgICAgIGNvbnN0IHNvaWxUZXh0dXJlID0gdGhpcy5jcmVhdGVTb2lsVGV4dHVyZSgpOwogICAgICBzb2lsVGV4dHVyZS53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nOwogICAgICBzb2lsVGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nOwogICAgICBzb2lsVGV4dHVyZS5yZXBlYXQuc2V0KDE4LCAxOCk7CgogICAgICAvLyDliJvlu7rluKbnurnnkIbnmoTlnJ/lo6TmnZDotKgKICAgICAgY29uc3QgZ3JvdW5kTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoewogICAgICAgIG1hcDogc29pbFRleHR1cmUsCiAgICAgICAgcm91Z2huZXNzOiAwLjk1LAogICAgICAgIG1ldGFsbmVzczogMC4wNSwKICAgICAgICBmbGF0U2hhZGluZzogZmFsc2UKICAgICAgfSk7CiAgICAgIGNvbnN0IGdyb3VuZCA9IG5ldyBUSFJFRS5NZXNoKGdyb3VuZEdlb21ldHJ5LCBncm91bmRNYXRlcmlhbCk7CiAgICAgIGdyb3VuZC5yb3RhdGlvbi54ID0gLU1hdGguUEkgLyAyOwogICAgICBncm91bmQucmVjZWl2ZVNoYWRvdyA9IHRydWU7CiAgICAgIHRoaXMuc2NlbmUuYWRkKGdyb3VuZCk7CgogICAgICAvLyDmt7vliqDlpKnnqbrpopzoibLvvIjmuJDlj5jog4zmma/vvIkKICAgICAgdGhpcy5zY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKDB4ODdDRUVCKTsgLy8g5aSp56m66JOdCgogICAgICAvLyDmt7vliqDpm77mlYjmnpzvvIzlop7liqDmma/mt7EKICAgICAgdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nKDB4ODdDRUVCLCA1MCwgMjAwKTsKICAgIH0sCiAgICBjcmVhdGVGYXJtQmxvY2tzKCkgewogICAgICAvLyDmuIXnqbrkuYvliY3nmoTmlrnlnZflkozmoIfnrb4KICAgICAgdGhpcy5mYXJtQmxvY2tzLmZvckVhY2goYmxvY2sgPT4gewogICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKGJsb2NrKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZmFybUJsb2NrcyA9IFtdOwoKICAgICAgLy8g5riF56m65LmL5YmN55qE5qCH562+CiAgICAgIHRoaXMubGFiZWxzLmZvckVhY2gobGFiZWwgPT4gewogICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKGxhYmVsKTsKICAgICAgfSk7CiAgICAgIHRoaXMubGFiZWxzID0gW107CgogICAgICAvLyDmoLnmja7lhpznlLDmlbDph4/liqjmgIHorqHnrpfluIPlsYAKICAgICAgY29uc3QgZmFybUNvdW50ID0gdGhpcy5mYXJtcy5sZW5ndGg7CiAgICAgIGNvbnN0IGNvbHMgPSBNYXRoLmNlaWwoTWF0aC5zcXJ0KGZhcm1Db3VudCkpOwogICAgICBjb25zdCBzcGFjaW5nID0gMTU7CiAgICAgIHRoaXMuZmFybXMuZm9yRWFjaCgoZmFybSwgaW5kZXgpID0+IHsKICAgICAgICBjb25zdCByb3cgPSBNYXRoLmZsb29yKGluZGV4IC8gY29scyk7CiAgICAgICAgY29uc3QgY29sID0gaW5kZXggJSBjb2xzOwoKICAgICAgICAvLyDorqHnrpfkvY3nva7vvIjlsYXkuK3mjpLliJfvvIkKICAgICAgICBjb25zdCBvZmZzZXRYID0gKGNvbHMgLSAxKSAqIHNwYWNpbmcgLyAyOwogICAgICAgIGNvbnN0IG9mZnNldFogPSAoTWF0aC5jZWlsKGZhcm1Db3VudCAvIGNvbHMpIC0gMSkgKiBzcGFjaW5nIC8gMjsKICAgICAgICBjb25zdCB4ID0gY29sICogc3BhY2luZyAtIG9mZnNldFg7CiAgICAgICAgY29uc3QgeiA9IHJvdyAqIHNwYWNpbmcgLSBvZmZzZXRaOwoKICAgICAgICAvLyDmoLnmja7pnaLnp6/orqHnrpflnLDlnZflpKflsI8KICAgICAgICBjb25zdCBhcmVhID0gcGFyc2VGbG9hdChmYXJtLmFyZWEpIHx8IDEwOwogICAgICAgIGNvbnN0IHNpemUgPSBNYXRoLnNxcnQoYXJlYSkgKiAwLjg7CgogICAgICAgIC8vIOWIm+W7uuWGnOeUsOWcsOWdl+e7hAogICAgICAgIGNvbnN0IGZhcm1Hcm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpOwoKICAgICAgICAvLyAxLiDliJvlu7rlhpznlLDlnLDpnaLvvIjlubPpk7rvvIznlaXpq5jkuo7lnLDpnaLvvIktIOmZjeS9juWIhuauteaVsOaPkOWNh+aAp+iDvQogICAgICAgIGNvbnN0IGZpZWxkR2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeShzaXplLCBzaXplLCA0LCA0KTsgLy8g6ZmN5L2O5YiG5q615pWw77yaOHg4IC0+IDR4NAoKICAgICAgICAvLyDmt7vliqDkvZzniannurnnkIbotbfkvI/vvIjmqKHmi5/kvZzniannlJ/plb/vvIkKICAgICAgICBjb25zdCBmaWVsZFBvc2l0aW9ucyA9IGZpZWxkR2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkUG9zaXRpb25zLmNvdW50OyBpKyspIHsKICAgICAgICAgIGNvbnN0IGZ4ID0gZmllbGRQb3NpdGlvbnMuZ2V0WChpKTsKICAgICAgICAgIGNvbnN0IGZ5ID0gZmllbGRQb3NpdGlvbnMuZ2V0WShpKTsKICAgICAgICAgIGNvbnN0IGNyb3BIZWlnaHQgPSBNYXRoLnNpbihmeCAqIDIpICogTWF0aC5jb3MoZnkgKiAyKSAqIDAuMiArIDAuMzsKICAgICAgICAgIGZpZWxkUG9zaXRpb25zLnNldFooaSwgY3JvcEhlaWdodCk7CiAgICAgICAgfQogICAgICAgIGZpZWxkR2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTsKCiAgICAgICAgLy8g5qC55o2u5L2c54mp57G75Z6L6K6+572u5Z+656GA6aKc6Imy77yI5LuO6YWN572u5Lit5b+D6I635Y+W77yJCiAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5jcm9wQ29uZmlnW2Zhcm0uY3JvcF0gfHwgdGhpcy5kZWZhdWx0Q3JvcENvbmZpZzsKICAgICAgICBjb25zdCBiYXNlQ29sb3IgPSBjb25maWcuY29sb3I7CgogICAgICAgIC8vIOagueaNruWBpeW6t+aMh+aVsOWKqOaAgeiwg+aVtOminOiJsgogICAgICAgIGNvbnN0IGhlYWx0aFNjb3JlID0gdGhpcy5jYWxjdWxhdGVIZWFsdGhTY29yZShmYXJtKTsKICAgICAgICBjb25zdCBoZWFsdGhDb2xvciA9IHRoaXMuZ2V0SGVhbHRoQ29sb3IoaGVhbHRoU2NvcmUpOwoKICAgICAgICAvLyDmt7flkIjln7rnoYDpopzoibLlkozlgaXlurfpopzoibLvvIjlgaXlurfmjIfmlbDlvbHlk40zMCXvvIkKICAgICAgICBjb25zdCBmaW5hbENvbG9yID0gdGhpcy5ibGVuZENvbG9ycyhiYXNlQ29sb3IsIGhlYWx0aENvbG9yLCAwLjMpOwogICAgICAgIGNvbnN0IGZpZWxkTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoewogICAgICAgICAgY29sb3I6IGZpbmFsQ29sb3IsCiAgICAgICAgICByb3VnaG5lc3M6IDAuNywKICAgICAgICAgIG1ldGFsbmVzczogMC4xLAogICAgICAgICAgZmxhdFNoYWRpbmc6IGZhbHNlLAogICAgICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZQogICAgICAgIH0pOwogICAgICAgIGNvbnN0IGZpZWxkID0gbmV3IFRIUkVFLk1lc2goZmllbGRHZW9tZXRyeSwgZmllbGRNYXRlcmlhbCk7CiAgICAgICAgZmllbGQucm90YXRpb24ueCA9IC1NYXRoLlBJIC8gMjsKICAgICAgICBmaWVsZC5wb3NpdGlvbi55ID0gMC4zOwogICAgICAgIGZpZWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlOwogICAgICAgIGZpZWxkLmNhc3RTaGFkb3cgPSB0cnVlOwogICAgICAgIGZhcm1Hcm91cC5hZGQoZmllbGQpOwoKICAgICAgICAvLyAyLiDliJvlu7rnlLDln4LovrnmoYbvvIjmo5XoibLlnJ/lo6TvvIkKICAgICAgICBjb25zdCBib3JkZXJIZWlnaHQgPSAwLjM7CiAgICAgICAgY29uc3QgYm9yZGVyV2lkdGggPSAwLjI7CiAgICAgICAgY29uc3QgYm9yZGVyTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoewogICAgICAgICAgY29sb3I6IDB4OEI2RjQ3LAogICAgICAgICAgcm91Z2huZXNzOiAwLjksCiAgICAgICAgICBtZXRhbG5lc3M6IDAuMQogICAgICAgIH0pOwoKICAgICAgICAvLyDlm5vmnaHnlLDln4IKICAgICAgICBjb25zdCBib3JkZXJzID0gW3sKICAgICAgICAgIHc6IHNpemUgKyBib3JkZXJXaWR0aCAqIDIsCiAgICAgICAgICBoOiBib3JkZXJXaWR0aCwKICAgICAgICAgIHg6IDAsCiAgICAgICAgICB6OiAtc2l6ZSAvIDIgLSBib3JkZXJXaWR0aCAvIDIKICAgICAgICB9LAogICAgICAgIC8vIOWJjQogICAgICAgIHsKICAgICAgICAgIHc6IHNpemUgKyBib3JkZXJXaWR0aCAqIDIsCiAgICAgICAgICBoOiBib3JkZXJXaWR0aCwKICAgICAgICAgIHg6IDAsCiAgICAgICAgICB6OiBzaXplIC8gMiArIGJvcmRlcldpZHRoIC8gMgogICAgICAgIH0sCiAgICAgICAgLy8g5ZCOCiAgICAgICAgewogICAgICAgICAgdzogYm9yZGVyV2lkdGgsCiAgICAgICAgICBoOiBzaXplLAogICAgICAgICAgeDogLXNpemUgLyAyIC0gYm9yZGVyV2lkdGggLyAyLAogICAgICAgICAgejogMAogICAgICAgIH0sCiAgICAgICAgLy8g5bemCiAgICAgICAgewogICAgICAgICAgdzogYm9yZGVyV2lkdGgsCiAgICAgICAgICBoOiBzaXplLAogICAgICAgICAgeDogc2l6ZSAvIDIgKyBib3JkZXJXaWR0aCAvIDIsCiAgICAgICAgICB6OiAwCiAgICAgICAgfSAvLyDlj7MKICAgICAgICBdOwogICAgICAgIGJvcmRlcnMuZm9yRWFjaChiID0+IHsKICAgICAgICAgIGNvbnN0IGJvcmRlckdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoYi53LCBib3JkZXJIZWlnaHQsIGIuaCk7CiAgICAgICAgICBjb25zdCBib3JkZXIgPSBuZXcgVEhSRUUuTWVzaChib3JkZXJHZW9tLCBib3JkZXJNYXRlcmlhbCk7CiAgICAgICAgICBib3JkZXIucG9zaXRpb24uc2V0KGIueCwgYm9yZGVySGVpZ2h0IC8gMiwgYi56KTsKICAgICAgICAgIGJvcmRlci5jYXN0U2hhZG93ID0gdHJ1ZTsKICAgICAgICAgIGJvcmRlci5yZWNlaXZlU2hhZG93ID0gdHJ1ZTsKICAgICAgICAgIGZhcm1Hcm91cC5hZGQoYm9yZGVyKTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gMy4g6K6+572u5pW05Liq5Yac55Sw57uE55qE5L2N572uCiAgICAgICAgZmFybUdyb3VwLnBvc2l0aW9uLnNldCh4LCAwLCB6KTsKCiAgICAgICAgLy8g5a2Y5YKo5Yac55Sw5pWw5o2uCiAgICAgICAgZmFybUdyb3VwLnVzZXJEYXRhID0gewogICAgICAgICAgZmFybTogZmFybSwKICAgICAgICAgIG9yaWdpbmFsQ29sb3I6IGJhc2VDb2xvciwKICAgICAgICAgIGhlYWx0aFNjb3JlOiBoZWFsdGhTY29yZSwKICAgICAgICAgIGhlYWx0aENvbG9yOiBoZWFsdGhDb2xvcgogICAgICAgIH07CiAgICAgICAgdGhpcy5zY2VuZS5hZGQoZmFybUdyb3VwKTsKICAgICAgICB0aGlzLmZhcm1CbG9ja3MucHVzaChmYXJtR3JvdXApOwoKICAgICAgICAvLyDmt7vliqAgM0Qg5qSN54mp5qih5Z6LCiAgICAgICAgdGhpcy5hZGRDcm9wTW9kZWxzKGZhcm0uY3JvcCwgeCwgeiwgc2l6ZSwgYmFzZUNvbG9yKTsKCiAgICAgICAgLy8g5re75Yqg5L2c54mp5qCH562+77yI5pi+56S65L2c54mp57G75Z6L77yJCiAgICAgICAgdGhpcy5hZGRDcm9wTGFiZWwoZmFybS5jcm9wLCB4LCAyLjUsIHosIGJhc2VDb2xvcik7CgogICAgICAgIC8vIOa3u+WKoOWBpeW6t+aMh+aVsOagh+etvgogICAgICAgIHRoaXMuYWRkSGVhbHRoSW5kZXhMYWJlbChoZWFsdGhTY29yZSwgeCwgMy4wLCB6KTsKCiAgICAgICAgLy8g5re75Yqg5Zyw5Z2X5ZCN56ew5qCH562+77yI5bCP6ICM566A5rSB77yJCiAgICAgICAgdGhpcy5hZGRGaWVsZE5hbWVMYWJlbChmYXJtLmZhcm0sIHgsIDMuNSwgeik7CgogICAgICAgIC8vIOa3u+WKoOWcsOWdgOagh+etvgogICAgICAgIGlmIChmYXJtLmFkZHJlc3MpIHsKICAgICAgICAgIHRoaXMuYWRkQWRkcmVzc0xhYmVsKGZhcm0uYWRkcmVzcywgeCwgNC4yLCB6KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWKoOi9veWklumDqCAzRCDmqKHlnovvvIjmlK/mjIHnvJPlrZjvvIkKICAgIGFzeW5jIGxvYWRDcm9wTW9kZWwoY3JvcFR5cGUpIHsKICAgICAgLy8g5aaC5p6c5bey57yT5a2Y77yM55u05o6l6L+U5ZueCiAgICAgIGlmICh0aGlzLm1vZGVsQ2FjaGVbY3JvcFR5cGVdKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWxDYWNoZVtjcm9wVHlwZV0uY2xvbmUoKTsKICAgICAgfQoKICAgICAgLy8g5LuO6YWN572u5Lit5b+D6I635Y+W5qih5Z6L6Lev5b6ECiAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY3JvcENvbmZpZ1tjcm9wVHlwZV0gfHwgdGhpcy5kZWZhdWx0Q3JvcENvbmZpZzsKICAgICAgY29uc3QgbW9kZWxQYXRoID0gY29uZmlnLm1vZGVsUGF0aDsKICAgICAgaWYgKCFtb2RlbFBhdGgpIHsKICAgICAgICBjb25zb2xlLndhcm4oYOacquaJvuWIsCAke2Nyb3BUeXBlfSDnmoTmqKHlnovot6/lvoTvvIzkvb/nlKjpu5jorqTlh6DkvZXkvZNgKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgLy8g5Yid5aeL5YyW5Yqg6L295ZmoCiAgICAgIGlmICghdGhpcy5nbHRmTG9hZGVyKSB7CiAgICAgICAgdGhpcy5nbHRmTG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIC8vIOWKoOi9veaooeWeiwogICAgICAgIGNvbnN0IGdsdGYgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICB0aGlzLmdsdGZMb2FkZXIubG9hZChtb2RlbFBhdGgsIGdsdGYgPT4gcmVzb2x2ZShnbHRmKSwgdW5kZWZpbmVkLCBlcnJvciA9PiByZWplY3QoZXJyb3IpKTsKICAgICAgICB9KTsKCiAgICAgICAgLy8g57yT5a2Y5qih5Z6LCiAgICAgICAgdGhpcy5tb2RlbENhY2hlW2Nyb3BUeXBlXSA9IGdsdGYuc2NlbmU7CiAgICAgICAgY29uc29sZS5sb2coYOKchSDmiJDlip/liqDovb0gJHtjcm9wVHlwZX0g5qih5Z6LYCk7CiAgICAgICAgcmV0dXJuIGdsdGYuc2NlbmUuY2xvbmUoKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyDliqDovb0gJHtjcm9wVHlwZX0g5qih5Z6L5aSx6LSlOmAsIGVycm9yLm1lc3NhZ2UpOwogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgLy8g5re75YqgIDNEIOakjeeJqeaooeWei++8iOS8mOWFiOS9v+eUqOWklumDqOaooeWei++8jOmZjee6p+WIsOWHoOS9leS9k++8iQogICAgYXN5bmMgYWRkQ3JvcE1vZGVscyhjcm9wVHlwZSwgeCwgeiwgZmllbGRTaXplLCBjcm9wQ29sb3IpIHsKICAgICAgLy8g5LyY5YyW5qSN54mp5pWw6YeP77ya5qC55o2u6Z2i56ev5Yqo5oCB6LCD5pW077yM5L2G6ZmQ5Yi25pyA5aSn5YC8CiAgICAgIGNvbnN0IGJhc2VDb3VudCA9IE1hdGguZmxvb3IoZmllbGRTaXplICogMS41KTsgLy8g6ZmN5L2O5a+G5bqm77yaMyAtPiAxLjUKICAgICAgY29uc3QgbWF4Q291bnQgPSAyMDsgLy8g6ZmQ5Yi25pyA5aSn5qSN54mp5pWw6YeP77yM6YG/5YWN5oCn6IO96Zeu6aKYCiAgICAgIGNvbnN0IHBsYW50Q291bnQgPSBNYXRoLm1pbihiYXNlQ291bnQsIG1heENvdW50KTsKICAgICAgY29uc3Qgc3BhY2luZyA9IGZpZWxkU2l6ZSAvIE1hdGgubWF4KHBsYW50Q291bnQsIDEpOwoKICAgICAgLy8g5bCd6K+V5Yqg6L295aSW6YOo5qih5Z6LCiAgICAgIGNvbnN0IGV4dGVybmFsTW9kZWwgPSBhd2FpdCB0aGlzLmxvYWRDcm9wTW9kZWwoY3JvcFR5cGUpOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsYW50Q291bnQ7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGxhbnRDb3VudDsgaisrKSB7CiAgICAgICAgICBjb25zdCBvZmZzZXRYID0gKGkgLSBwbGFudENvdW50IC8gMikgKiBzcGFjaW5nICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogc3BhY2luZyAqIDAuMzsKICAgICAgICAgIGNvbnN0IG9mZnNldFogPSAoaiAtIHBsYW50Q291bnQgLyAyKSAqIHNwYWNpbmcgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBzcGFjaW5nICogMC4zOwogICAgICAgICAgY29uc3QgcGxhbnRYID0geCArIG9mZnNldFg7CiAgICAgICAgICBjb25zdCBwbGFudFogPSB6ICsgb2Zmc2V0WjsKICAgICAgICAgIGxldCBwbGFudDsKCiAgICAgICAgICAvLyDlpoLmnpzmnInlpJbpg6jmqKHlnovvvIzkvb/nlKjlpJbpg6jmqKHlnosKICAgICAgICAgIGlmIChleHRlcm5hbE1vZGVsKSB7CiAgICAgICAgICAgIHBsYW50ID0gZXh0ZXJuYWxNb2RlbC5jbG9uZSgpOwogICAgICAgICAgICAvLyDkuLrlpJbpg6jmqKHlnovlkK/nlKjpmLTlvbHvvIjku4Xpg6jliIbmpI3nianmipXlsITpmLTlvbHku6Xmj5DljYfmgKfog73vvIkKICAgICAgICAgICAgY29uc3QgZW5hYmxlU2hhZG93ID0gKGkgKyBqKSAlIDMgPT09IDA7IC8vIOWPquaciTEvM+eahOakjeeJqeaKleWwhOmYtOW9sQogICAgICAgICAgICBwbGFudC50cmF2ZXJzZShjaGlsZCA9PiB7CiAgICAgICAgICAgICAgaWYgKGNoaWxkLmlzTWVzaCkgewogICAgICAgICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IGVuYWJsZVNoYWRvdzsKICAgICAgICAgICAgICAgIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSBmYWxzZTsgLy8g5qSN54mp5LiN5o6l5pS26Zi05b2xCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIOmZjee6p++8muS9v+eUqOWHoOS9leS9k+WIm+W7uuakjeeJqQogICAgICAgICAgICBzd2l0Y2ggKGNyb3BUeXBlKSB7CiAgICAgICAgICAgICAgY2FzZSAn5bCP6bqmJzoKICAgICAgICAgICAgICAgIHBsYW50ID0gdGhpcy5jcmVhdGVXaGVhdFBsYW50KGNyb3BDb2xvcik7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlICfnjonnsbMnOgogICAgICAgICAgICAgICAgcGxhbnQgPSB0aGlzLmNyZWF0ZUNvcm5QbGFudChjcm9wQ29sb3IpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgY2FzZSAn5rC056i7JzoKICAgICAgICAgICAgICAgIHBsYW50ID0gdGhpcy5jcmVhdGVSaWNlUGxhbnQoY3JvcENvbG9yKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgJ+Wkp+ixhic6CiAgICAgICAgICAgICAgY2FzZSAn55m96I+cJzoKICAgICAgICAgICAgICBjYXNlICfpu4Tnk5wnOgogICAgICAgICAgICAgICAgcGxhbnQgPSB0aGlzLmNyZWF0ZUxlYWZ5UGxhbnQoY3JvcENvbG9yKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgJ+eVquiMhCc6CiAgICAgICAgICAgICAgY2FzZSAn6L6j5qSSJzoKICAgICAgICAgICAgICAgIHBsYW50ID0gdGhpcy5jcmVhdGVWaW5lUGxhbnQoY3JvcENvbG9yKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICBwbGFudCA9IHRoaXMuY3JlYXRlR2VuZXJpY1BsYW50KGNyb3BDb2xvcik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChwbGFudCkgewogICAgICAgICAgICBwbGFudC5wb3NpdGlvbi5zZXQocGxhbnRYLCAwLjUsIHBsYW50Wik7CiAgICAgICAgICAgIC8vIOWHj+Wwkemaj+acuue8qeaUvuiMg+WbtOS7peaPkOWNh+aAp+iDvQogICAgICAgICAgICBjb25zdCBzY2FsZSA9IDAuOSArIE1hdGgucmFuZG9tKCkgKiAwLjI7IC8vIOe7n+S4gOe8qeaUvuWAvAogICAgICAgICAgICBwbGFudC5zY2FsZS5zZXQoc2NhbGUsIHNjYWxlLCBzY2FsZSk7CiAgICAgICAgICAgIC8vIOS7hemDqOWIhuakjeeJqeaKleWwhOmYtOW9sQogICAgICAgICAgICBjb25zdCBlbmFibGVTaGFkb3cgPSAoaSArIGopICUgMyA9PT0gMDsKICAgICAgICAgICAgcGxhbnQudHJhdmVyc2UoY2hpbGQgPT4gewogICAgICAgICAgICAgIGlmIChjaGlsZC5pc01lc2gpIHsKICAgICAgICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSBlbmFibGVTaGFkb3c7CiAgICAgICAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQocGxhbnQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOWIm+W7uuWwj+m6puakjeeJqe+8iOe7humVv+eahOiMju+8iQogICAgY3JlYXRlV2hlYXRQbGFudChjb2xvcikgewogICAgICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpOwoKICAgICAgLy8g6IyO56eGCiAgICAgIGNvbnN0IHN0ZW1HZW9tZXRyeSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDAuMDIsIDAuMDMsIDEuMiwgNik7CiAgICAgIGNvbnN0IHN0ZW1NYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7CiAgICAgICAgY29sb3I6IDB4OEI3MzU1LAogICAgICAgIHJvdWdobmVzczogMC44CiAgICAgIH0pOwogICAgICBjb25zdCBzdGVtID0gbmV3IFRIUkVFLk1lc2goc3RlbUdlb21ldHJ5LCBzdGVtTWF0ZXJpYWwpOwogICAgICBzdGVtLnBvc2l0aW9uLnkgPSAwLjY7CiAgICAgIHN0ZW0uY2FzdFNoYWRvdyA9IHRydWU7CiAgICAgIGdyb3VwLmFkZChzdGVtKTsKCiAgICAgIC8vIOm6puepl++8iOmhtumDqO+8iQogICAgICBjb25zdCBoZWFkR2VvbWV0cnkgPSBuZXcgVEhSRUUuQ29uZUdlb21ldHJ5KDAuMTUsIDAuNCwgOCk7CiAgICAgIGNvbnN0IGhlYWRNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7CiAgICAgICAgY29sb3I6IGNvbG9yLAogICAgICAgIHJvdWdobmVzczogMC42CiAgICAgIH0pOwogICAgICBjb25zdCBoZWFkID0gbmV3IFRIUkVFLk1lc2goaGVhZEdlb21ldHJ5LCBoZWFkTWF0ZXJpYWwpOwogICAgICBoZWFkLnBvc2l0aW9uLnkgPSAxLjQ7CiAgICAgIGhlYWQuY2FzdFNoYWRvdyA9IHRydWU7CiAgICAgIGdyb3VwLmFkZChoZWFkKTsKICAgICAgcmV0dXJuIGdyb3VwOwogICAgfSwKICAgIC8vIOWIm+W7uueOieexs+akjeeJqe+8iOeyl+WjrueahOiMjiArIOWkp+WPtuWtkO+8iQogICAgY3JlYXRlQ29yblBsYW50KGNvbG9yKSB7CiAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7CgogICAgICAvLyDnspfojI4KICAgICAgY29uc3Qgc3RlbUdlb21ldHJ5ID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMC4wNSwgMC4wOCwgMS44LCA4KTsKICAgICAgY29uc3Qgc3RlbU1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsKICAgICAgICBjb2xvcjogMHg3Q0IzNDIsCiAgICAgICAgcm91Z2huZXNzOiAwLjcKICAgICAgfSk7CiAgICAgIGNvbnN0IHN0ZW0gPSBuZXcgVEhSRUUuTWVzaChzdGVtR2VvbWV0cnksIHN0ZW1NYXRlcmlhbCk7CiAgICAgIHN0ZW0ucG9zaXRpb24ueSA9IDAuOTsKICAgICAgc3RlbS5jYXN0U2hhZG93ID0gdHJ1ZTsKICAgICAgZ3JvdXAuYWRkKHN0ZW0pOwoKICAgICAgLy8g5Y+25a2QCiAgICAgIGNvbnN0IGxlYWZHZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDAuMywgMC44KTsKICAgICAgY29uc3QgbGVhZk1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsKICAgICAgICBjb2xvcjogMHg1NThCMkYsCiAgICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSwKICAgICAgICByb3VnaG5lc3M6IDAuOAogICAgICB9KTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICBjb25zdCBsZWFmID0gbmV3IFRIUkVFLk1lc2gobGVhZkdlb21ldHJ5LCBsZWFmTWF0ZXJpYWwpOwogICAgICAgIGxlYWYucG9zaXRpb24ueSA9IDAuOCArIGkgKiAwLjM7CiAgICAgICAgbGVhZi5yb3RhdGlvbi55ID0gTWF0aC5QSSAvIDIgKiBpOwogICAgICAgIGxlYWYucm90YXRpb24ueiA9IE1hdGguUEkgLyA2OwogICAgICAgIGxlYWYuY2FzdFNoYWRvdyA9IHRydWU7CiAgICAgICAgZ3JvdXAuYWRkKGxlYWYpOwogICAgICB9CgogICAgICAvLyDnjonnsbPmo5IKICAgICAgY29uc3QgY29ybkdlb21ldHJ5ID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMC4xLCAwLjEsIDAuNCwgOCk7CiAgICAgIGNvbnN0IGNvcm5NYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7CiAgICAgICAgY29sb3I6IGNvbG9yLAogICAgICAgIHJvdWdobmVzczogMC42CiAgICAgIH0pOwogICAgICBjb25zdCBjb3JuID0gbmV3IFRIUkVFLk1lc2goY29ybkdlb21ldHJ5LCBjb3JuTWF0ZXJpYWwpOwogICAgICBjb3JuLnBvc2l0aW9uLnNldCgwLjE1LCAxLjIsIDApOwogICAgICBjb3JuLnJvdGF0aW9uLnogPSBNYXRoLlBJIC8gNDsKICAgICAgY29ybi5jYXN0U2hhZG93ID0gdHJ1ZTsKICAgICAgZ3JvdXAuYWRkKGNvcm4pOwogICAgICByZXR1cm4gZ3JvdXA7CiAgICB9LAogICAgLy8g5Yib5bu65rC056i75qSN54mp77yI5byv5puy55qE6IyO77yJCiAgICBjcmVhdGVSaWNlUGxhbnQoY29sb3IpIHsKICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTsKCiAgICAgIC8vIOiMjuenhgogICAgICBjb25zdCBzdGVtR2VvbWV0cnkgPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLjAyLCAwLjAzLCAxLjAsIDYpOwogICAgICBjb25zdCBzdGVtTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoewogICAgICAgIGNvbG9yOiAweDdDQjM0MiwKICAgICAgICByb3VnaG5lc3M6IDAuOAogICAgICB9KTsKICAgICAgY29uc3Qgc3RlbSA9IG5ldyBUSFJFRS5NZXNoKHN0ZW1HZW9tZXRyeSwgc3RlbU1hdGVyaWFsKTsKICAgICAgc3RlbS5wb3NpdGlvbi55ID0gMC41OwogICAgICBzdGVtLmNhc3RTaGFkb3cgPSB0cnVlOwogICAgICBncm91cC5hZGQoc3RlbSk7CgogICAgICAvLyDnqLvnqZfvvIjlvK/mm7LnmoTvvIkKICAgICAgY29uc3QgcmljZUdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuMTIsIDgsIDgpOwogICAgICBjb25zdCByaWNlTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoewogICAgICAgIGNvbG9yOiBjb2xvciwKICAgICAgICByb3VnaG5lc3M6IDAuNgogICAgICB9KTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHsKICAgICAgICBjb25zdCByaWNlID0gbmV3IFRIUkVFLk1lc2gocmljZUdlb21ldHJ5LCByaWNlTWF0ZXJpYWwpOwogICAgICAgIHJpY2UucG9zaXRpb24uc2V0KE1hdGguc2luKGkgKiAwLjMpICogMC4xNSwgMS4wIC0gaSAqIDAuMSwgTWF0aC5jb3MoaSAqIDAuMykgKiAwLjE1KTsKICAgICAgICByaWNlLnNjYWxlLnNldCgxLCAxLjUsIDEpOwogICAgICAgIHJpY2UuY2FzdFNoYWRvdyA9IHRydWU7CiAgICAgICAgZ3JvdXAuYWRkKHJpY2UpOwogICAgICB9CiAgICAgIHJldHVybiBncm91cDsKICAgIH0sCiAgICAvLyDliJvlu7rlj7boj5znsbvmpI3nianvvIjlpKfosYbjgIHnmb3oj5znrYnvvIkKICAgIGNyZWF0ZUxlYWZ5UGxhbnQoY29sb3IpIHsKICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTsKCiAgICAgIC8vIOWkmuWxguWPtuWtkAogICAgICBjb25zdCBsZWFmR2VvbWV0cnkgPSBuZXcgVEhSRUUuQ2lyY2xlR2VvbWV0cnkoMC4yLCA4KTsKICAgICAgY29uc3QgbGVhZk1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsKICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSwKICAgICAgICByb3VnaG5lc3M6IDAuNwogICAgICB9KTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHsKICAgICAgICBjb25zdCBsZWFmID0gbmV3IFRIUkVFLk1lc2gobGVhZkdlb21ldHJ5LCBsZWFmTWF0ZXJpYWwpOwogICAgICAgIGxlYWYucG9zaXRpb24ueSA9IDAuMyArIGkgKiAwLjE7CiAgICAgICAgbGVhZi5yb3RhdGlvbi55ID0gTWF0aC5QSSAvIDMgKiBpOwogICAgICAgIGxlYWYucm90YXRpb24ueCA9IC1NYXRoLlBJIC8gMiArIE1hdGguUEkgLyA4OwogICAgICAgIGxlYWYuc2NhbGUuc2V0KDEgLSBpICogMC4xLCAxIC0gaSAqIDAuMSwgMSk7CiAgICAgICAgbGVhZi5jYXN0U2hhZG93ID0gdHJ1ZTsKICAgICAgICBncm91cC5hZGQobGVhZik7CiAgICAgIH0KICAgICAgcmV0dXJuIGdyb3VwOwogICAgfSwKICAgIC8vIOWIm+W7uuiXpOiUk+exu+akjeeJqe+8iOeVquiMhOOAgei+o+akkuetie+8iQogICAgY3JlYXRlVmluZVBsYW50KGNvbG9yKSB7CiAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7CgogICAgICAvLyDkuLvojI4KICAgICAgY29uc3Qgc3RlbUdlb21ldHJ5ID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMC4wMywgMC4wNCwgMS4yLCA2KTsKICAgICAgY29uc3Qgc3RlbU1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsKICAgICAgICBjb2xvcjogMHg1NThCMkYsCiAgICAgICAgcm91Z2huZXNzOiAwLjgKICAgICAgfSk7CiAgICAgIGNvbnN0IHN0ZW0gPSBuZXcgVEhSRUUuTWVzaChzdGVtR2VvbWV0cnksIHN0ZW1NYXRlcmlhbCk7CiAgICAgIHN0ZW0ucG9zaXRpb24ueSA9IDAuNjsKICAgICAgc3RlbS5jYXN0U2hhZG93ID0gdHJ1ZTsKICAgICAgZ3JvdXAuYWRkKHN0ZW0pOwoKICAgICAgLy8g5Y+25a2QCiAgICAgIGNvbnN0IGxlYWZHZW9tZXRyeSA9IG5ldyBUSFJFRS5DaXJjbGVHZW9tZXRyeSgwLjE1LCA2KTsKICAgICAgY29uc3QgbGVhZk1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsKICAgICAgICBjb2xvcjogMHg0Q0FGNTAsCiAgICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSwKICAgICAgICByb3VnaG5lc3M6IDAuNwogICAgICB9KTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICBjb25zdCBsZWFmID0gbmV3IFRIUkVFLk1lc2gobGVhZkdlb21ldHJ5LCBsZWFmTWF0ZXJpYWwpOwogICAgICAgIGxlYWYucG9zaXRpb24uc2V0KE1hdGguY29zKGkgKiBNYXRoLlBJIC8gMikgKiAwLjIsIDAuNSArIGkgKiAwLjIsIE1hdGguc2luKGkgKiBNYXRoLlBJIC8gMikgKiAwLjIpOwogICAgICAgIGxlYWYucm90YXRpb24ueSA9IGkgKiBNYXRoLlBJIC8gMjsKICAgICAgICBsZWFmLmNhc3RTaGFkb3cgPSB0cnVlOwogICAgICAgIGdyb3VwLmFkZChsZWFmKTsKICAgICAgfQoKICAgICAgLy8g5p6c5a6eCiAgICAgIGNvbnN0IGZydWl0R2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMC4xLCA4LCA4KTsKICAgICAgY29uc3QgZnJ1aXRNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7CiAgICAgICAgY29sb3I6IGNvbG9yLAogICAgICAgIHJvdWdobmVzczogMC40LAogICAgICAgIG1ldGFsbmVzczogMC4xCiAgICAgIH0pOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykgewogICAgICAgIGNvbnN0IGZydWl0ID0gbmV3IFRIUkVFLk1lc2goZnJ1aXRHZW9tZXRyeSwgZnJ1aXRNYXRlcmlhbCk7CiAgICAgICAgZnJ1aXQucG9zaXRpb24uc2V0KE1hdGguY29zKGkgKiBNYXRoLlBJICogMiAvIDMpICogMC4xNSwgMC44ICsgTWF0aC5yYW5kb20oKSAqIDAuMywgTWF0aC5zaW4oaSAqIE1hdGguUEkgKiAyIC8gMykgKiAwLjE1KTsKICAgICAgICBmcnVpdC5jYXN0U2hhZG93ID0gdHJ1ZTsKICAgICAgICBncm91cC5hZGQoZnJ1aXQpOwogICAgICB9CiAgICAgIHJldHVybiBncm91cDsKICAgIH0sCiAgICAvLyDliJvlu7rpgJrnlKjmpI3niakKICAgIGNyZWF0ZUdlbmVyaWNQbGFudChjb2xvcikgewogICAgICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpOwogICAgICBjb25zdCBzdGVtR2VvbWV0cnkgPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLjAzLCAwLjA0LCAwLjgsIDYpOwogICAgICBjb25zdCBzdGVtTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoewogICAgICAgIGNvbG9yOiAweDdDQjM0MiwKICAgICAgICByb3VnaG5lc3M6IDAuOAogICAgICB9KTsKICAgICAgY29uc3Qgc3RlbSA9IG5ldyBUSFJFRS5NZXNoKHN0ZW1HZW9tZXRyeSwgc3RlbU1hdGVyaWFsKTsKICAgICAgc3RlbS5wb3NpdGlvbi55ID0gMC40OwogICAgICBzdGVtLmNhc3RTaGFkb3cgPSB0cnVlOwogICAgICBncm91cC5hZGQoc3RlbSk7CiAgICAgIGNvbnN0IHRvcEdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuMTUsIDgsIDgpOwogICAgICBjb25zdCB0b3BNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7CiAgICAgICAgY29sb3I6IGNvbG9yLAogICAgICAgIHJvdWdobmVzczogMC42CiAgICAgIH0pOwogICAgICBjb25zdCB0b3AgPSBuZXcgVEhSRUUuTWVzaCh0b3BHZW9tZXRyeSwgdG9wTWF0ZXJpYWwpOwogICAgICB0b3AucG9zaXRpb24ueSA9IDAuOTsKICAgICAgdG9wLmNhc3RTaGFkb3cgPSB0cnVlOwogICAgICBncm91cC5hZGQodG9wKTsKICAgICAgcmV0dXJuIGdyb3VwOwogICAgfSwKICAgIC8vIOa3u+WKoOeugOa0geeahOWcsOWdl+WQjeensOagh+etvgogICAgYWRkRmllbGROYW1lTGFiZWwoZmFybU5hbWUsIHgsIHksIHopIHsKICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgY2FudmFzLndpZHRoID0gMTYwOwogICAgICBjYW52YXMuaGVpZ2h0ID0gNDA7CgogICAgICAvLyDljYrpgI/mmI7og4zmma8KICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjg4KSc7CiAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAncmdiYSgwLCAwLCAwLCAwLjE1KSc7CiAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDU7CiAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDE7CiAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDE7CiAgICAgIGNvbnN0IHJhZGl1cyA9IDY7CiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICAgIGNvbnRleHQubW92ZVRvKHJhZGl1cywgMCk7CiAgICAgIGNvbnRleHQubGluZVRvKGNhbnZhcy53aWR0aCAtIHJhZGl1cywgMCk7CiAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhjYW52YXMud2lkdGgsIDAsIGNhbnZhcy53aWR0aCwgcmFkaXVzKTsKICAgICAgY29udGV4dC5saW5lVG8oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0IC0gcmFkaXVzKTsKICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgY2FudmFzLndpZHRoIC0gcmFkaXVzLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgY29udGV4dC5saW5lVG8ocmFkaXVzLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKDAsIGNhbnZhcy5oZWlnaHQsIDAsIGNhbnZhcy5oZWlnaHQgLSByYWRpdXMpOwogICAgICBjb250ZXh0LmxpbmVUbygwLCByYWRpdXMpOwogICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oMCwgMCwgcmFkaXVzLCAwKTsKICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTsKICAgICAgY29udGV4dC5maWxsKCk7CiAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAndHJhbnNwYXJlbnQnOwoKICAgICAgLy8g5Zyw5Z2X5ZCN56ewCiAgICAgIGNvbnRleHQuZm9udCA9ICdCb2xkIDE2cHggQXJpYWwnOwogICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjNjA2MjY2JzsKICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSAnY2VudGVyJzsKICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgY29udGV4dC5maWxsVGV4dChmYXJtTmFtZSwgY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIpOwogICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRIUkVFLkNhbnZhc1RleHR1cmUoY2FudmFzKTsKICAgICAgY29uc3Qgc3ByaXRlTWF0ZXJpYWwgPSBuZXcgVEhSRUUuU3ByaXRlTWF0ZXJpYWwoewogICAgICAgIG1hcDogdGV4dHVyZSwKICAgICAgICBzaXplQXR0ZW51YXRpb246IHRydWUKICAgICAgfSk7CiAgICAgIGNvbnN0IHNwcml0ZSA9IG5ldyBUSFJFRS5TcHJpdGUoc3ByaXRlTWF0ZXJpYWwpOwogICAgICBzcHJpdGUucG9zaXRpb24uc2V0KHgsIHksIHopOwogICAgICBzcHJpdGUuc2NhbGUuc2V0KDIuOCwgMC43LCAxKTsKICAgICAgdGhpcy5zY2VuZS5hZGQoc3ByaXRlKTsKICAgIH0sCiAgICAvLyDmt7vliqDlnLDlnYDmoIfnrb4KICAgIGFkZEFkZHJlc3NMYWJlbChhZGRyZXNzLCB4LCB5LCB6KSB7CiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGNhbnZhcy53aWR0aCA9IDIwMDsKICAgICAgY2FudmFzLmhlaWdodCA9IDM1OwoKICAgICAgLy8g5Y2K6YCP5piO6IOM5pmv77yI5rWF6JOd6Imy77yJCiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoMjMwLCAyNDQsIDI1NSwgMC45KSc7CiAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAncmdiYSgwLCAwLCAwLCAwLjEyKSc7CiAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDQ7CiAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDE7CiAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDE7CiAgICAgIGNvbnN0IHJhZGl1cyA9IDU7CiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICAgIGNvbnRleHQubW92ZVRvKHJhZGl1cywgMCk7CiAgICAgIGNvbnRleHQubGluZVRvKGNhbnZhcy53aWR0aCAtIHJhZGl1cywgMCk7CiAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhjYW52YXMud2lkdGgsIDAsIGNhbnZhcy53aWR0aCwgcmFkaXVzKTsKICAgICAgY29udGV4dC5saW5lVG8oY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0IC0gcmFkaXVzKTsKICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgY2FudmFzLndpZHRoIC0gcmFkaXVzLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgY29udGV4dC5saW5lVG8ocmFkaXVzLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKDAsIGNhbnZhcy5oZWlnaHQsIDAsIGNhbnZhcy5oZWlnaHQgLSByYWRpdXMpOwogICAgICBjb250ZXh0LmxpbmVUbygwLCByYWRpdXMpOwogICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oMCwgMCwgcmFkaXVzLCAwKTsKICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTsKICAgICAgY29udGV4dC5maWxsKCk7CgogICAgICAvLyDmt7vliqDovrnmoYYKICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjNDA5RUZGJzsKICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxLjU7CiAgICAgIGNvbnRleHQuc3Ryb2tlKCk7CiAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAndHJhbnNwYXJlbnQnOwoKICAgICAgLy8g57uY5Yi25Zyw5Z2A5Zu+5qCH5ZKM5paH5a2XCiAgICAgIGNvbnRleHQuZm9udCA9ICcxM3B4IEFyaWFsJzsKICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzQwOUVGRic7CiAgICAgIGNvbnRleHQudGV4dEFsaWduID0gJ2xlZnQnOwogICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnOwoKICAgICAgLy8g5Zyw5Z2A5Zu+5qCHCiAgICAgIGNvbnRleHQuZmlsbFRleHQoJ/Cfk40nLCAxMCwgY2FudmFzLmhlaWdodCAvIDIpOwoKICAgICAgLy8g5Zyw5Z2A5paH5a2X77yI5aaC5p6c5aSq6ZW/5YiZ5oiq5pat77yJCiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyM2MDYyNjYnOwogICAgICBjb25zdCBtYXhXaWR0aCA9IGNhbnZhcy53aWR0aCAtIDQwOwogICAgICBsZXQgZGlzcGxheUFkZHJlc3MgPSBhZGRyZXNzOwogICAgICBpZiAoY29udGV4dC5tZWFzdXJlVGV4dChhZGRyZXNzKS53aWR0aCA+IG1heFdpZHRoKSB7CiAgICAgICAgd2hpbGUgKGNvbnRleHQubWVhc3VyZVRleHQoZGlzcGxheUFkZHJlc3MgKyAnLi4uJykud2lkdGggPiBtYXhXaWR0aCAmJiBkaXNwbGF5QWRkcmVzcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBkaXNwbGF5QWRkcmVzcyA9IGRpc3BsYXlBZGRyZXNzLnNsaWNlKDAsIC0xKTsKICAgICAgICB9CiAgICAgICAgZGlzcGxheUFkZHJlc3MgKz0gJy4uLic7CiAgICAgIH0KICAgICAgY29udGV4dC5maWxsVGV4dChkaXNwbGF5QWRkcmVzcywgMzAsIGNhbnZhcy5oZWlnaHQgLyAyKTsKICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBUSFJFRS5DYW52YXNUZXh0dXJlKGNhbnZhcyk7CiAgICAgIGNvbnN0IHNwcml0ZU1hdGVyaWFsID0gbmV3IFRIUkVFLlNwcml0ZU1hdGVyaWFsKHsKICAgICAgICBtYXA6IHRleHR1cmUsCiAgICAgICAgc2l6ZUF0dGVudWF0aW9uOiB0cnVlLAogICAgICAgIHRyYW5zcGFyZW50OiB0cnVlCiAgICAgIH0pOwogICAgICBjb25zdCBzcHJpdGUgPSBuZXcgVEhSRUUuU3ByaXRlKHNwcml0ZU1hdGVyaWFsKTsKICAgICAgc3ByaXRlLnBvc2l0aW9uLnNldCh4LCB5LCB6KTsKICAgICAgc3ByaXRlLnNjYWxlLnNldCgzLjIsIDAuNTYsIDEpOwogICAgICB0aGlzLnNjZW5lLmFkZChzcHJpdGUpOwogICAgfSwKICAgIC8vIOa3u+WKoOS9nOeJqeexu+Wei+agh+etvgogICAgYWRkQ3JvcExhYmVsKGNyb3BOYW1lLCB4LCB5LCB6LCBjcm9wQ29sb3IpIHsKICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgY2FudmFzLndpZHRoID0gMTYwOwogICAgICBjYW52YXMuaGVpZ2h0ID0gNTA7CgogICAgICAvLyDnu5jliLbog4zmma/ljaHniYfvvIjluKbovrnmoYbvvIkKICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkyKSc7CiAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAncmdiYSgwLCAwLCAwLCAwLjIpJzsKICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gNjsKICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMTsKICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMTsKCiAgICAgIC8vIOWchuinkuefqeW9ogogICAgICBjb25zdCByYWRpdXMgPSA4OwogICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOwogICAgICBjb250ZXh0Lm1vdmVUbyhyYWRpdXMsIDApOwogICAgICBjb250ZXh0LmxpbmVUbyhjYW52YXMud2lkdGggLSByYWRpdXMsIDApOwogICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oY2FudmFzLndpZHRoLCAwLCBjYW52YXMud2lkdGgsIHJhZGl1cyk7CiAgICAgIGNvbnRleHQubGluZVRvKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCAtIHJhZGl1cyk7CiAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsIGNhbnZhcy53aWR0aCAtIHJhZGl1cywgY2FudmFzLmhlaWdodCk7CiAgICAgIGNvbnRleHQubGluZVRvKHJhZGl1cywgY2FudmFzLmhlaWdodCk7CiAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbygwLCBjYW52YXMuaGVpZ2h0LCAwLCBjYW52YXMuaGVpZ2h0IC0gcmFkaXVzKTsKICAgICAgY29udGV4dC5saW5lVG8oMCwgcmFkaXVzKTsKICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKDAsIDAsIHJhZGl1cywgMCk7CiAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7CiAgICAgIGNvbnRleHQuZmlsbCgpOwoKICAgICAgLy8g57uY5Yi26L655qGGCiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyBjcm9wQ29sb3IudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDYsICcwJyk7CiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMjsKICAgICAgY29udGV4dC5zdHJva2UoKTsKCiAgICAgIC8vIOmHjee9rumYtOW9sQogICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJ3RyYW5zcGFyZW50JzsKICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDsKCiAgICAgIC8vIOe7mOWItuS9nOeJqeWbvuagh+WSjOWQjeensAogICAgICBjb250ZXh0LmZvbnQgPSAnQm9sZCAyMHB4IEFyaWFsJzsKICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyBjcm9wQ29sb3IudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDYsICcwJyk7CiAgICAgIGNvbnRleHQudGV4dEFsaWduID0gJ2NlbnRlcic7CiAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7CgogICAgICAvLyDku47phY3nva7kuK3lv4Pojrflj5bkvZznianlm77moIcKICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5jcm9wQ29uZmlnW2Nyb3BOYW1lXSB8fCB0aGlzLmRlZmF1bHRDcm9wQ29uZmlnOwogICAgICBjb25zdCBpY29uID0gY29uZmlnLmljb247CiAgICAgIGNvbnRleHQuZmlsbFRleHQoaWNvbiArICcgJyArIGNyb3BOYW1lLCBjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7CiAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVEhSRUUuQ2FudmFzVGV4dHVyZShjYW52YXMpOwogICAgICBjb25zdCBzcHJpdGVNYXRlcmlhbCA9IG5ldyBUSFJFRS5TcHJpdGVNYXRlcmlhbCh7CiAgICAgICAgbWFwOiB0ZXh0dXJlLAogICAgICAgIHNpemVBdHRlbnVhdGlvbjogdHJ1ZSwKICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZQogICAgICB9KTsKICAgICAgY29uc3Qgc3ByaXRlID0gbmV3IFRIUkVFLlNwcml0ZShzcHJpdGVNYXRlcmlhbCk7CiAgICAgIHNwcml0ZS5wb3NpdGlvbi5zZXQoeCwgeSwgeik7CiAgICAgIHNwcml0ZS5zY2FsZS5zZXQoMi44LCAwLjksIDEpOwogICAgICB0aGlzLnNjZW5lLmFkZChzcHJpdGUpOwogICAgfSwKICAgIGFkZFRleHRMYWJlbCh0ZXh0LCB4LCB5LCB6KSB7CiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGNhbnZhcy53aWR0aCA9IDI1NjsKICAgICAgY2FudmFzLmhlaWdodCA9IDY0OwogICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknOwogICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgIGNvbnRleHQuZm9udCA9ICdCb2xkIDIwcHggQXJpYWwnOwogICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMzAzMTMzJzsKICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSAnY2VudGVyJzsKICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgY29udGV4dC5maWxsVGV4dCh0ZXh0LCBjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7CiAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVEhSRUUuQ2FudmFzVGV4dHVyZShjYW52YXMpOwogICAgICBjb25zdCBzcHJpdGVNYXRlcmlhbCA9IG5ldyBUSFJFRS5TcHJpdGVNYXRlcmlhbCh7CiAgICAgICAgbWFwOiB0ZXh0dXJlCiAgICAgIH0pOwogICAgICBjb25zdCBzcHJpdGUgPSBuZXcgVEhSRUUuU3ByaXRlKHNwcml0ZU1hdGVyaWFsKTsKICAgICAgc3ByaXRlLnBvc2l0aW9uLnNldCh4LCB5LCB6KTsKICAgICAgc3ByaXRlLnNjYWxlLnNldCg2LCAxLjUsIDEpOwogICAgICB0aGlzLnNjZW5lLmFkZChzcHJpdGUpOwogICAgfSwKICAgIG9uTW91c2VDbGljayhldmVudCkgewogICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLiRyZWZzLnRocmVlQ29udGFpbmVyOwogICAgICBpZiAoIWNvbnRhaW5lciB8fCAhdGhpcy5jYW1lcmEgfHwgIXRoaXMucmF5Y2FzdGVyKSByZXR1cm47CiAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHRoaXMubW91c2UueCA9IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIHJlY3Qud2lkdGggKiAyIC0gMTsKICAgICAgdGhpcy5tb3VzZS55ID0gLSgoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wKSAvIHJlY3QuaGVpZ2h0KSAqIDIgKyAxOwogICAgICB0aGlzLnJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHRoaXMubW91c2UsIHRoaXMuY2FtZXJhKTsKCiAgICAgIC8vIOS8mOWMlu+8muebtOaOpeajgOa1i+WGnOeUsOWcsOWdl+e7hO+8jOS9v+eUqHJlY3Vyc2l2ZeWPguaVsAogICAgICBjb25zdCBpbnRlcnNlY3RzID0gdGhpcy5yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyh0aGlzLmZhcm1CbG9ja3MsIHRydWUpOwogICAgICBpZiAoaW50ZXJzZWN0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g5om+5Yiw5a+55bqU55qE5Yac55Sw57uECiAgICAgICAgbGV0IGNsaWNrZWRHcm91cCA9IGludGVyc2VjdHNbMF0ub2JqZWN0OwogICAgICAgIHdoaWxlIChjbGlja2VkR3JvdXAucGFyZW50ICYmICghY2xpY2tlZEdyb3VwLnVzZXJEYXRhIHx8ICFjbGlja2VkR3JvdXAudXNlckRhdGEuZmFybSkpIHsKICAgICAgICAgIGNsaWNrZWRHcm91cCA9IGNsaWNrZWRHcm91cC5wYXJlbnQ7CiAgICAgICAgfQogICAgICAgIGlmIChjbGlja2VkR3JvdXAudXNlckRhdGEgJiYgY2xpY2tlZEdyb3VwLnVzZXJEYXRhLmZhcm0pIHsKICAgICAgICAgIHRoaXMuc2VsZWN0QmxvY2soY2xpY2tlZEdyb3VwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBvbk1vdXNlTW92ZShldmVudCkgewogICAgICAvLyDoioLmtYHlpITnkIbvvJrpgb/lhY3popHnuYHop6blj5Hlr7zoh7TmgKfog73pl67popgKICAgICAgaWYgKHRoaXMubW91c2VNb3ZlVGltZXIpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5tb3VzZU1vdmVUaW1lcik7CiAgICAgIH0KICAgICAgdGhpcy5tb3VzZU1vdmVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuJHJlZnMudGhyZWVDb250YWluZXI7CiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIXRoaXMuY2FtZXJhIHx8ICF0aGlzLnJheWNhc3RlcikgcmV0dXJuOwogICAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdGhpcy5tb3VzZS54ID0gKGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQpIC8gcmVjdC53aWR0aCAqIDIgLSAxOwogICAgICAgIHRoaXMubW91c2UueSA9IC0oKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCkgLyByZWN0LmhlaWdodCkgKiAyICsgMTsKICAgICAgICB0aGlzLnJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHRoaXMubW91c2UsIHRoaXMuY2FtZXJhKTsKCiAgICAgICAgLy8g5LyY5YyW77ya55u05o6l5qOA5rWL5Yac55Sw5Zyw5Z2X57uE77yM5L2/55SocmVjdXJzaXZl5Y+C5pWw77yM6YG/5YWN5omL5Yqo6YGN5Y6GCiAgICAgICAgY29uc3QgaW50ZXJzZWN0cyA9IHRoaXMucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHModGhpcy5mYXJtQmxvY2tzLCB0cnVlKTsKCiAgICAgICAgLy8g6YeN572u5omA5pyJ5Zyw5Z2X55qE6auY5LquCiAgICAgICAgdGhpcy5mYXJtQmxvY2tzLmZvckVhY2goZ3JvdXAgPT4gewogICAgICAgICAgaWYgKGdyb3VwICE9PSB0aGlzLnNlbGVjdGVkQmxvY2spIHsKICAgICAgICAgICAgZ3JvdXAudHJhdmVyc2UoY2hpbGQgPT4gewogICAgICAgICAgICAgIGlmIChjaGlsZC5pc01lc2ggJiYgY2hpbGQubWF0ZXJpYWwpIHsKICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLmVtaXNzaXZlID0gbmV3IFRIUkVFLkNvbG9yKDB4MDAwMDAwKTsKICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLmVtaXNzaXZlSW50ZW5zaXR5ID0gMDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICAvLyDpq5jkuq7mgqzlgZznmoTlnLDlnZcKICAgICAgICBpZiAoaW50ZXJzZWN0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBsZXQgaG92ZXJlZEdyb3VwID0gaW50ZXJzZWN0c1swXS5vYmplY3Q7CiAgICAgICAgICB3aGlsZSAoaG92ZXJlZEdyb3VwLnBhcmVudCAmJiAoIWhvdmVyZWRHcm91cC51c2VyRGF0YSB8fCAhaG92ZXJlZEdyb3VwLnVzZXJEYXRhLmZhcm0pKSB7CiAgICAgICAgICAgIGhvdmVyZWRHcm91cCA9IGhvdmVyZWRHcm91cC5wYXJlbnQ7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaG92ZXJlZEdyb3VwLnVzZXJEYXRhICYmIGhvdmVyZWRHcm91cC51c2VyRGF0YS5mYXJtICYmIGhvdmVyZWRHcm91cCAhPT0gdGhpcy5zZWxlY3RlZEJsb2NrKSB7CiAgICAgICAgICAgIGhvdmVyZWRHcm91cC50cmF2ZXJzZShjaGlsZCA9PiB7CiAgICAgICAgICAgICAgaWYgKGNoaWxkLmlzTWVzaCAmJiBjaGlsZC5tYXRlcmlhbCkgewogICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwuZW1pc3NpdmUgPSBuZXcgVEhSRUUuQ29sb3IoMHgwMEFBRkYpOwogICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHkgPSAwLjM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7CiAgICAgICAgfQogICAgICB9LCA1MCk7IC8vIDUwbXPoioLmtYHvvIzlh4/lsJHmgKfog73lvIDplIAKICAgIH0sCiAgICBzZWxlY3RCbG9jayhncm91cCkgewogICAgICAvLyDph43nva7kuYvliY3pgInkuK3nmoTlnLDlnZcKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRCbG9jaykgewogICAgICAgIHRoaXMuc2VsZWN0ZWRCbG9jay50cmF2ZXJzZShjaGlsZCA9PiB7CiAgICAgICAgICBpZiAoY2hpbGQuaXNNZXNoICYmIGNoaWxkLm1hdGVyaWFsKSB7CiAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLmVtaXNzaXZlID0gbmV3IFRIUkVFLkNvbG9yKDB4MDAwMDAwKTsKICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHkgPSAwOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICAvLyDpq5jkuq7mlrDpgInkuK3nmoTlnLDlnZcKICAgICAgdGhpcy5zZWxlY3RlZEJsb2NrID0gZ3JvdXA7CiAgICAgIGdyb3VwLnRyYXZlcnNlKGNoaWxkID0+IHsKICAgICAgICBpZiAoY2hpbGQuaXNNZXNoICYmIGNoaWxkLm1hdGVyaWFsKSB7CiAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5lbWlzc2l2ZSA9IG5ldyBUSFJFRS5Db2xvcigweEZGQUEwMCk7CiAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5lbWlzc2l2ZUludGVuc2l0eSA9IDAuNTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8g5pu05paw6YCJ5Lit55qE5Yac55SwCiAgICAgIHRoaXMuc2VsZWN0ZWRGYXJtID0gZ3JvdXAudXNlckRhdGEuZmFybTsKICAgIH0sCiAgICBvbldpbmRvd1Jlc2l6ZSgpIHsKICAgICAgaWYgKCF0aGlzLmNhbWVyYSB8fCAhdGhpcy5yZW5kZXJlciB8fCAhdGhpcy4kcmVmcy50aHJlZUNvbnRhaW5lcikgcmV0dXJuOwogICAgICBjb25zdCB3aWR0aCA9IHRoaXMuJHJlZnMudGhyZWVDb250YWluZXIuY2xpZW50V2lkdGg7CiAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuJHJlZnMudGhyZWVDb250YWluZXIuY2xpZW50SGVpZ2h0OwogICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB3aWR0aCAvIGhlaWdodDsKICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpOwogICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7CiAgICB9LAogICAgYW5pbWF0ZSgpIHsKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZS5iaW5kKHRoaXMpKTsKCiAgICAgIC8vIOiKgua1geaOp+WItu+8muWPquWcqOmcgOimgeaXtuabtOaWsAogICAgICBpZiAodGhpcy5jb250cm9scykgewogICAgICAgIHRoaXMuY29udHJvbHMudXBkYXRlKCk7CiAgICAgIH0KCiAgICAgIC8vIOS9v+eUqOiKgua1gea4suafk++8mumZjeS9jua4suafk+mikeeOhwogICAgICBpZiAoIXRoaXMubGFzdFJlbmRlclRpbWUpIHsKICAgICAgICB0aGlzLmxhc3RSZW5kZXJUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIH0KICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIGNvbnN0IGRlbHRhVGltZSA9IG5vdyAtIHRoaXMubGFzdFJlbmRlclRpbWU7CgogICAgICAvLyDpmZDliLbluKfnjofkuLo2MGZwc++8iOe6pjE2LjY3bXPkuIDluKfvvIkKICAgICAgaWYgKGRlbHRhVGltZSA+PSAxNi42NykgewogICAgICAgIGlmICh0aGlzLnJlbmRlcmVyICYmIHRoaXMuc2NlbmUgJiYgdGhpcy5jYW1lcmEpIHsKICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5sYXN0UmVuZGVyVGltZSA9IG5vdzsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["THREE","OrbitControls","GLTFLoader","name","data","currentTime","selectedFarm","weather","temp","status","summary","farmCount","totalArea","totalStock","normalCount","farms","scene","camera","renderer","controls","farmBlocks","labels","raycaster","mouse","selectedBlock","timeInterval","lastRenderTime","mouseMoveTimer","boundMouseClick","boundMouseMove","boundWindowResize","gltfLoader","modelCache","cropConfig","icon","color","modelPath","defaultCropConfig","mounted","updateTime","setInterval","fetchData","beforeDestroy","clearInterval","dispose","$refs","threeContainer","removeChild","domElement","container","removeEventListener","window","clearTimeout","methods","now","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hour","getHours","minute","getMinutes","second","getSeconds","weekDays","weekDay","getDay","farmsRes","request","get","code","length","$nextTick","init3DMap","summaryRes","error","console","$message","selectFarm","farm","highlightFarmBlock","calculateHealthScore","scores","temperature","push","airHum","airhumidity","soilHum","soilhumidity","light","carbon","ph","avgScore","reduce","a","b","Math","round","getHealthColor","score","blendColors","color1","color2","ratio","r1","g1","b1","r2","g2","b2","r","g","addHealthIndexLabel","x","y","z","canvas","document","createElement","context","getContext","width","height","bgColor","textColor","fillStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","radius","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fill","font","textAlign","textBaseline","fillText","texture","CanvasTexture","needsUpdate","spriteMaterial","SpriteMaterial","map","transparent","depthTest","sprite","Sprite","position","set","scale","add","getHealthLevel","text","desc","class","getHealthScoreGradient","getEnvMetrics","key","label","value","percent","normalizeValue","getMetricColor","getMetricStatus","statusColor","getMetricStatusColor","toFixed","min","max","idealMin","idealMax","acceptMin","acceptMax","calculateDashArray","circumference","PI","filled","getSmartSuggestions","suggestions","action","type","group","find","userData","id","selectBlock","warn","contains","clientWidth","clientHeight","Scene","PerspectiveCamera","lookAt","WebGLRenderer","antialias","powerPreference","setSize","setPixelRatio","devicePixelRatio","shadowMap","enabled","PCFSoftShadowMap","appendChild","enableDamping","dampingFactor","minDistance","maxDistance","maxPolarAngle","enablePan","enableZoom","enableRotate","rotateSpeed","zoomSpeed","panSpeed","ambientLight","AmbientLight","sunLight","DirectionalLight","castShadow","shadow","mapSize","near","far","left","right","top","bottom","bias","hemisphereLight","HemisphereLight","createGround","createFarmBlocks","Raycaster","Vector2","onMouseClick","bind","onMouseMove","onWindowResize","addEventListener","passive","animate","createSoilTexture","ctx","soilColors","fillRect","i","random","size","colorIndex","floor","globalAlpha","arc","strokeStyle","lineWidth","startX","startY","segments","j","endX","endY","stroke","groundGeometry","PlaneGeometry","positions","attributes","positionArray","array","noise","sin","cos","computeVertexNormals","soilTexture","wrapS","RepeatWrapping","wrapT","repeat","groundMaterial","MeshStandardMaterial","roughness","metalness","flatShading","ground","Mesh","rotation","receiveShadow","background","Color","fog","Fog","forEach","block","remove","cols","ceil","sqrt","spacing","index","row","col","offsetX","offsetZ","area","parseFloat","farmGroup","Group","fieldGeometry","fieldPositions","count","fx","getX","fy","getY","cropHeight","setZ","config","crop","baseColor","healthScore","healthColor","finalColor","fieldMaterial","side","DoubleSide","field","borderHeight","borderWidth","borderMaterial","borders","w","h","borderGeom","BoxGeometry","border","originalColor","addCropModels","addCropLabel","addFieldNameLabel","address","addAddressLabel","loadCropModel","cropType","clone","gltf","Promise","resolve","reject","load","undefined","log","message","fieldSize","cropColor","baseCount","maxCount","plantCount","externalModel","plantX","plantZ","plant","enableShadow","traverse","child","isMesh","createWheatPlant","createCornPlant","createRicePlant","createLeafyPlant","createVinePlant","createGenericPlant","stemGeometry","CylinderGeometry","stemMaterial","stem","headGeometry","ConeGeometry","headMaterial","head","leafGeometry","leafMaterial","leaf","cornGeometry","cornMaterial","corn","riceGeometry","SphereGeometry","riceMaterial","rice","CircleGeometry","fruitGeometry","fruitMaterial","fruit","topGeometry","topMaterial","farmName","sizeAttenuation","maxWidth","displayAddress","measureText","slice","cropName","toString","addTextLabel","event","rect","getBoundingClientRect","clientX","clientY","setFromCamera","intersects","intersectObjects","clickedGroup","object","parent","setTimeout","material","emissive","emissiveIntensity","hoveredGroup","style","cursor","aspect","updateProjectionMatrix","requestAnimationFrame","update","performance","deltaTime","render"],"sources":["src/views/FarmMap3D.vue"],"sourcesContent":["<template>\r\n  <div class=\"farm-map-3d\">\r\n    <!--  -->\r\n    <div class=\"top-bar\">\r\n      <div class=\"title\">\r\n        <i class=\"el-icon-s-data\"></i>\r\n         3D \r\n      </div>\r\n      <div class=\"time\">{{ currentTime }}</div>\r\n      <div class=\"weather\">\r\n        <i class=\"el-icon-sunny\"></i>\r\n        {{ weather.temp }}C {{ weather.status }}\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <div class=\"main-container\">\r\n      <!--  -->\r\n      <div class=\"left-panel\">\r\n        <!--  -->\r\n        <div class=\"stats-grid\">\r\n          <div class=\"stat-card\" style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\">\r\n            <div class=\"stat-icon\"></div>\r\n            <div class=\"stat-info\">\r\n              <div class=\"stat-label\"></div>\r\n              <div class=\"stat-value\">{{ summary.farmCount }}<span class=\"unit\"></span></div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"stat-card\" style=\"background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\">\r\n            <div class=\"stat-icon\"></div>\r\n            <div class=\"stat-info\">\r\n              <div class=\"stat-label\"></div>\r\n              <div class=\"stat-value\">{{ summary.totalArea }}<span class=\"unit\"></span></div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"stat-card\" style=\"background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\">\r\n            <div class=\"stat-icon\"></div>\r\n            <div class=\"stat-info\">\r\n              <div class=\"stat-label\"></div>\r\n              <div class=\"stat-value\">{{ summary.totalStock }}<span class=\"unit\"></span></div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"stat-card\" style=\"background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);\">\r\n            <div class=\"stat-icon\"></div>\r\n            <div class=\"stat-info\">\r\n              <div class=\"stat-label\"></div>\r\n              <div class=\"stat-value\">{{ summary.normalCount }}<span class=\"unit\"></span></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!--  -->\r\n        <div class=\"farm-list-panel\">\r\n          <div class=\"panel-title\">\r\n            <i class=\"el-icon-menu\"></i>\r\n            \r\n          </div>\r\n          <div class=\"farm-list\">\r\n            <div \r\n              v-for=\"(farm, index) in farms\" \r\n              :key=\"index\"\r\n              class=\"farm-item\"\r\n              :class=\"{ active: selectedFarm && selectedFarm.id === farm.id }\"\r\n              @click=\"selectFarm(farm)\"\r\n            >\r\n              <div class=\"farm-header\">\r\n                <span class=\"farm-name\">{{ farm.farm }}</span>\r\n                <el-tag :type=\"farm.state === '' ? 'success' : 'warning'\" size=\"mini\">\r\n                  {{ farm.state }}\r\n                </el-tag>\r\n              </div>\r\n              <div class=\"farm-info\">\r\n                <div class=\"info-row\">\r\n                  <span> {{ farm.crop }}</span>\r\n                  <span> {{ farm.area }}</span>\r\n                </div>\r\n                <div class=\"info-row\">\r\n                  <span> {{ farm.number }}</span>\r\n                  <span> {{ farm.address }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 3D  -->\r\n      <div class=\"center-panel\">\r\n        <div class=\"panel-title\">\r\n          <i class=\"el-icon-view\"></i>\r\n           3D \r\n        </div>\r\n        <div class=\"map-3d\" ref=\"threeContainer\"></div>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class=\"right-panel\">\r\n        <div class=\"panel-title\">\r\n          <i class=\"el-icon-document\"></i>\r\n          \r\n        </div>\r\n        <div v-if=\"selectedFarm\" class=\"farm-detail\">\r\n          <div class=\"detail-header\">\r\n            <h3>{{ selectedFarm.farm }}</h3>\r\n            <el-tag :type=\"selectedFarm.state === '' ? 'success' : 'warning'\">\r\n              {{ selectedFarm.state }}\r\n            </el-tag>\r\n          </div>\r\n          \r\n          <div class=\"detail-grid\">\r\n            <div class=\"detail-item\">\r\n              <div class=\"label\"></div>\r\n              <div class=\"value\">{{ selectedFarm.crop }}</div>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n              <div class=\"label\"></div>\r\n              <div class=\"value\">{{ selectedFarm.area }} </div>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n              <div class=\"label\"></div>\r\n              <div class=\"value\">{{ selectedFarm.number }} </div>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n              <div class=\"label\"></div>\r\n              <div class=\"value\">{{ selectedFarm.address }}</div>\r\n            </div>\r\n            <div class=\"detail-item\">\r\n              <div class=\"label\"></div>\r\n              <div class=\"value\">{{ selectedFarm.keeper }}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <!--  -->\r\n          <div class=\"env-health-score\">\r\n            <div class=\"score-circle\" :style=\"{ background: getHealthScoreGradient(selectedFarm) }\">\r\n              <div class=\"score-inner\">\r\n                <div class=\"score-number\">{{ calculateHealthScore(selectedFarm) }}</div>\r\n                <div class=\"score-label\"></div>\r\n              </div>\r\n            </div>\r\n            <div class=\"score-status\">\r\n              <div class=\"status-badge\" :class=\"getHealthLevel(selectedFarm).class\">\r\n                {{ getHealthLevel(selectedFarm).text }}\r\n              </div>\r\n              <div class=\"status-desc\">{{ getHealthLevel(selectedFarm).desc }}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <!--  -  -->\r\n          <div class=\"env-section\">\r\n            <div class=\"section-title\">\r\n              <span> </span>\r\n              <span class=\"update-time\">{{ currentTime.split(' ')[1] }}</span>\r\n            </div>\r\n            \r\n            <!--  -->\r\n            <div class=\"env-circles\">\r\n              <div class=\"circle-item\" v-for=\"item in getEnvMetrics(selectedFarm)\" :key=\"item.key\">\r\n                <div class=\"circle-progress\">\r\n                  <svg width=\"80\" height=\"80\" class=\"progress-ring\">\r\n                    <circle\r\n                      class=\"progress-ring-bg\"\r\n                      cx=\"40\"\r\n                      cy=\"40\"\r\n                      r=\"32\"\r\n                      fill=\"none\"\r\n                      stroke=\"#f0f0f0\"\r\n                      stroke-width=\"6\"\r\n                    />\r\n                    <circle\r\n                      class=\"progress-ring-circle\"\r\n                      cx=\"40\"\r\n                      cy=\"40\"\r\n                      r=\"32\"\r\n                      fill=\"none\"\r\n                      :stroke=\"item.color\"\r\n                      stroke-width=\"6\"\r\n                      stroke-linecap=\"round\"\r\n                      :stroke-dasharray=\"calculateDashArray(item.percent)\"\r\n                      :stroke-dashoffset=\"0\"\r\n                      transform=\"rotate(-90 40 40)\"\r\n                    />\r\n                  </svg>\r\n                  <div class=\"circle-content\">\r\n                    <div class=\"circle-icon\">{{ item.icon }}</div>\r\n                    <div class=\"circle-value\">{{ item.value }}</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"circle-label\">{{ item.label }}</div>\r\n                <div class=\"circle-status\" :style=\"{ color: item.statusColor }\">\r\n                  {{ item.status }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!--  -->\r\n            <div class=\"smart-suggestions\">\r\n              <div class=\"suggestion-title\">\r\n                <i class=\"el-icon-magic-stick\"></i>\r\n                \r\n              </div>\r\n              <div class=\"suggestion-list\">\r\n                <div \r\n                  v-for=\"(suggestion, index) in getSmartSuggestions(selectedFarm)\" \r\n                  :key=\"index\"\r\n                  class=\"suggestion-item\"\r\n                  :class=\"suggestion.type\"\r\n                >\r\n                  <div class=\"suggestion-icon\">{{ suggestion.icon }}</div>\r\n                  <div class=\"suggestion-content\">\r\n                    <div class=\"suggestion-text\">{{ suggestion.text }}</div>\r\n                    <div class=\"suggestion-action\">{{ suggestion.action }}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-else class=\"no-selection\">\r\n          <i class=\"el-icon-info\"></i>\r\n          <p></p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\n\r\nexport default {\r\n  name: 'FarmMap3D',\r\n  data() {\r\n    return {\r\n      currentTime: '',\r\n      selectedFarm: null,\r\n      weather: {\r\n        temp: 28,\r\n        status: ''\r\n      },\r\n      summary: {\r\n        farmCount: 0,\r\n        totalArea: 0,\r\n        totalStock: 0,\r\n        normalCount: 0\r\n      },\r\n      farms: [],\r\n      \r\n      // Three.js \r\n      scene: null,\r\n      camera: null,\r\n      renderer: null,\r\n      controls: null,\r\n      farmBlocks: [],\r\n      labels: [], // \r\n      raycaster: null,\r\n      mouse: null,\r\n      selectedBlock: null,\r\n      timeInterval: null, // \r\n      lastRenderTime: null, // \r\n      mouseMoveTimer: null, // \r\n      boundMouseClick: null, // \r\n      boundMouseMove: null,\r\n      boundWindowResize: null,\r\n      \r\n      // \r\n      gltfLoader: null,\r\n      modelCache: {}, // \r\n      \r\n      //   - \r\n      cropConfig: {\r\n        '': {\r\n          icon: '',\r\n          color: 0xF4D03F,  // \r\n          modelPath: '/models/crops/wheat.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0xF39C12,  // \r\n          modelPath: '/models/crops/corn.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0x52BE80,  // \r\n          modelPath: '/models/crops/rice.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0x85C1E2,  // \r\n          modelPath: '/models/crops/soybean.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0xE74C3C,  // \r\n          modelPath: '/models/crops/tomato.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0x27AE60,  // \r\n          modelPath: '/models/crops/cucumber.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0xC0392B,  // \r\n          modelPath: '/models/crops/pepper.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0x8E44AD,  // \r\n          modelPath: '/models/crops/eggplant.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0x2ECC71,  // \r\n          modelPath: '/models/crops/cabbage.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0xE67E22,  // \r\n          modelPath: '/models/crops/carrot.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0xD4AC6E,  // \r\n          modelPath: '/models/crops/potato.glb'\r\n        },\r\n        '': {\r\n          icon: '',\r\n          color: 0xFF8C00,  // \r\n          modelPath: '/models/crops/pumpkin.glb'\r\n        }\r\n      },\r\n      \r\n      // \r\n      defaultCropConfig: {\r\n        icon: '',\r\n        color: 0x52BE80,\r\n        modelPath: null\r\n      }\r\n    };\r\n  },\r\n  \r\n  mounted() {\r\n    this.updateTime();\r\n    this.timeInterval = setInterval(this.updateTime, 1000);\r\n    this.fetchData();\r\n  },\r\n  \r\n  beforeDestroy() {\r\n    if (this.timeInterval) {\r\n      clearInterval(this.timeInterval);\r\n    }\r\n    // Three.js\r\n    if (this.renderer) {\r\n      this.renderer.dispose();\r\n      if (this.$refs.threeContainer) {\r\n        this.$refs.threeContainer.removeChild(this.renderer.domElement);\r\n      }\r\n    }\r\n    if (this.controls) {\r\n      this.controls.dispose();\r\n    }\r\n    // \r\n    const container = this.$refs.threeContainer;\r\n    if (container) {\r\n      if (this.boundMouseClick) {\r\n        container.removeEventListener('click', this.boundMouseClick);\r\n      }\r\n      if (this.boundMouseMove) {\r\n        container.removeEventListener('mousemove', this.boundMouseMove);\r\n      }\r\n    }\r\n    if (this.boundWindowResize) {\r\n      window.removeEventListener('resize', this.boundWindowResize);\r\n    }\r\n    \r\n    // \r\n    if (this.mouseMoveTimer) {\r\n      clearTimeout(this.mouseMoveTimer);\r\n      this.mouseMoveTimer = null;\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    updateTime() {\r\n      const now = new Date();\r\n      const year = now.getFullYear();\r\n      const month = String(now.getMonth() + 1).padStart(2, '0');\r\n      const day = String(now.getDate()).padStart(2, '0');\r\n      const hour = String(now.getHours()).padStart(2, '0');\r\n      const minute = String(now.getMinutes()).padStart(2, '0');\r\n      const second = String(now.getSeconds()).padStart(2, '0');\r\n      const weekDays = ['', '', '', '', '', '', ''];\r\n      const weekDay = weekDays[now.getDay()];\r\n      \r\n      this.currentTime = `${year}-${month}-${day} ${hour}:${minute}:${second} ${weekDay}`;\r\n    },\r\n    \r\n    async fetchData() {\r\n      try {\r\n        const farmsRes = await this.request.get('/statistic/dashboard');\r\n        if (farmsRes.code === '200') {\r\n          this.farms = farmsRes.data;\r\n          if (this.farms.length > 0) {\r\n            this.selectedFarm = this.farms[0];\r\n          }\r\n          this.$nextTick(() => {\r\n            this.init3DMap();\r\n          });\r\n        }\r\n        \r\n        const summaryRes = await this.request.get('/statistic/dashboard/summary');\r\n        if (summaryRes.code === '200') {\r\n          this.summary = summaryRes.data;\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        this.$message.error('');\r\n      }\r\n    },\r\n    \r\n    selectFarm(farm) {\r\n      this.selectedFarm = farm;\r\n      // 3D\r\n      this.highlightFarmBlock(farm);\r\n    },\r\n    \r\n    // 0-100\r\n    calculateHealthScore(farm) {\r\n      if (!farm) return 0;\r\n      \r\n      const scores = [];\r\n      \r\n      //  20-28C\r\n      const temp = farm.temperature || 25;\r\n      if (temp >= 20 && temp <= 28) {\r\n        scores.push(100);\r\n      } else if (temp >= 15 && temp <= 32) {\r\n        scores.push(80);\r\n      } else {\r\n        scores.push(50);\r\n      }\r\n      \r\n      //  60-80%\r\n      const airHum = farm.airhumidity || 70;\r\n      if (airHum >= 60 && airHum <= 80) {\r\n        scores.push(100);\r\n      } else if (airHum >= 50 && airHum <= 90) {\r\n        scores.push(75);\r\n      } else {\r\n        scores.push(50);\r\n      }\r\n      \r\n      //  40-70%\r\n      const soilHum = farm.soilhumidity || 60;\r\n      if (soilHum >= 40 && soilHum <= 70) {\r\n        scores.push(100);\r\n      } else if (soilHum >= 30 && soilHum <= 80) {\r\n        scores.push(75);\r\n      } else {\r\n        scores.push(50);\r\n      }\r\n      \r\n      //  20000-50000 lux\r\n      const light = farm.light || 30000;\r\n      if (light >= 20000 && light <= 50000) {\r\n        scores.push(100);\r\n      } else if (light >= 10000 && light <= 60000) {\r\n        scores.push(80);\r\n      } else {\r\n        scores.push(60);\r\n      }\r\n      \r\n      // CO 350-450 ppm\r\n      const carbon = farm.carbon || 400;\r\n      if (carbon >= 350 && carbon <= 450) {\r\n        scores.push(100);\r\n      } else if (carbon >= 300 && carbon <= 500) {\r\n        scores.push(85);\r\n      } else {\r\n        scores.push(65);\r\n      }\r\n      \r\n      // PH 6.0-7.5\r\n      const ph = farm.ph || 6.8;\r\n      if (ph >= 6.0 && ph <= 7.5) {\r\n        scores.push(100);\r\n      } else if (ph >= 5.5 && ph <= 8.0) {\r\n        scores.push(80);\r\n      } else {\r\n        scores.push(55);\r\n      }\r\n      \r\n      // \r\n      const avgScore = scores.reduce((a, b) => a + b, 0) / scores.length;\r\n      return Math.round(avgScore);\r\n    },\r\n    \r\n    // ====\r\n    getHealthColor(score) {\r\n      if (score >= 90) {\r\n        return 0x67C23A; //  - \r\n      } else if (score >= 75) {\r\n        return 0x409EFF; //  - \r\n      } else if (score >= 60) {\r\n        return 0xE6A23C; //  - \r\n      } else {\r\n        return 0xF56C6C; //  - \r\n      }\r\n    },\r\n    \r\n    // \r\n    blendColors(color1, color2, ratio) {\r\n      const r1 = (color1 >> 16) & 0xFF;\r\n      const g1 = (color1 >> 8) & 0xFF;\r\n      const b1 = color1 & 0xFF;\r\n      \r\n      const r2 = (color2 >> 16) & 0xFF;\r\n      const g2 = (color2 >> 8) & 0xFF;\r\n      const b2 = color2 & 0xFF;\r\n      \r\n      const r = Math.round(r1 * (1 - ratio) + r2 * ratio);\r\n      const g = Math.round(g1 * (1 - ratio) + g2 * ratio);\r\n      const b = Math.round(b1 * (1 - ratio) + b2 * ratio);\r\n      \r\n      return (r << 16) | (g << 8) | b;\r\n    },\r\n    \r\n    // \r\n    addHealthIndexLabel(score, x, y, z) {\r\n      const canvas = document.createElement('canvas');\r\n      const context = canvas.getContext('2d');\r\n      canvas.width = 120;\r\n      canvas.height = 40;\r\n      \r\n      // \r\n      let bgColor = 'rgba(103, 194, 58, 0.9)'; // \r\n      let textColor = '#ffffff';\r\n      if (score >= 90) {\r\n        bgColor = 'rgba(103, 194, 58, 0.9)'; // \r\n      } else if (score >= 75) {\r\n        bgColor = 'rgba(64, 158, 255, 0.9)'; // \r\n      } else if (score >= 60) {\r\n        bgColor = 'rgba(230, 162, 60, 0.9)'; // \r\n        textColor = '#ffffff';\r\n      } else {\r\n        bgColor = 'rgba(245, 108, 108, 0.9)'; // \r\n      }\r\n      \r\n      // \r\n      context.fillStyle = bgColor;\r\n      context.shadowColor = 'rgba(0, 0, 0, 0.2)';\r\n      context.shadowBlur = 5;\r\n      context.shadowOffsetX = 1;\r\n      context.shadowOffsetY = 1;\r\n      \r\n      const radius = 6;\r\n      context.beginPath();\r\n      context.moveTo(radius, 0);\r\n      context.lineTo(canvas.width - radius, 0);\r\n      context.quadraticCurveTo(canvas.width, 0, canvas.width, radius);\r\n      context.lineTo(canvas.width, canvas.height - radius);\r\n      context.quadraticCurveTo(canvas.width, canvas.height, canvas.width - radius, canvas.height);\r\n      context.lineTo(radius, canvas.height);\r\n      context.quadraticCurveTo(0, canvas.height, 0, canvas.height - radius);\r\n      context.lineTo(0, radius);\r\n      context.quadraticCurveTo(0, 0, radius, 0);\r\n      context.closePath();\r\n      context.fill();\r\n      \r\n      // \r\n      context.fillStyle = textColor;\r\n      context.font = 'bold 18px Arial';\r\n      context.textAlign = 'center';\r\n      context.textBaseline = 'middle';\r\n      context.fillText(`${score}`, canvas.width / 2, canvas.height / 2 - 5);\r\n      \r\n      context.font = '12px Arial';\r\n      context.fillText('', canvas.width / 2, canvas.height / 2 + 10);\r\n      \r\n      // \r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      texture.needsUpdate = true;\r\n      \r\n      // \r\n      const spriteMaterial = new THREE.SpriteMaterial({\r\n        map: texture,\r\n        transparent: true,\r\n        depthTest: false\r\n      });\r\n      const sprite = new THREE.Sprite(spriteMaterial);\r\n      sprite.position.set(x, y, z);\r\n      sprite.scale.set(2, 2, 1);\r\n      \r\n      this.scene.add(sprite);\r\n      this.labels.push(sprite);\r\n    },\r\n    \r\n    // \r\n    getHealthLevel(farm) {\r\n      const score = this.calculateHealthScore(farm);\r\n      \r\n      if (score >= 90) {\r\n        return {\r\n          text: '',\r\n          desc: '',\r\n          class: 'level-excellent'\r\n        };\r\n      } else if (score >= 75) {\r\n        return {\r\n          text: '',\r\n          desc: '',\r\n          class: 'level-good'\r\n        };\r\n      } else if (score >= 60) {\r\n        return {\r\n          text: '',\r\n          desc: '',\r\n          class: 'level-normal'\r\n        };\r\n      } else {\r\n        return {\r\n          text: '',\r\n          desc: '',\r\n          class: 'level-poor'\r\n        };\r\n      }\r\n    },\r\n    \r\n    // \r\n    getHealthScoreGradient(farm) {\r\n      const score = this.calculateHealthScore(farm);\r\n      \r\n      if (score >= 90) {\r\n        return 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';\r\n      } else if (score >= 75) {\r\n        return 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)';\r\n      } else if (score >= 60) {\r\n        return 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)';\r\n      } else {\r\n        return 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';\r\n      }\r\n    },\r\n    \r\n    // \r\n    getEnvMetrics(farm) {\r\n      if (!farm) return [];\r\n      \r\n      return [\r\n        {\r\n          key: 'temp',\r\n          label: '',\r\n          value: `${farm.temperature}C`,\r\n          icon: '',\r\n          percent: this.normalizeValue(farm.temperature, 0, 40, 100),\r\n          color: this.getMetricColor(farm.temperature, 20, 28, 15, 32),\r\n          status: this.getMetricStatus(farm.temperature, 20, 28, 15, 32),\r\n          statusColor: this.getMetricStatusColor(farm.temperature, 20, 28, 15, 32)\r\n        },\r\n        {\r\n          key: 'airHum',\r\n          label: '',\r\n          value: `${farm.airhumidity}%`,\r\n          icon: '',\r\n          percent: farm.airhumidity,\r\n          color: this.getMetricColor(farm.airhumidity, 60, 80, 50, 90),\r\n          status: this.getMetricStatus(farm.airhumidity, 60, 80, 50, 90),\r\n          statusColor: this.getMetricStatusColor(farm.airhumidity, 60, 80, 50, 90)\r\n        },\r\n        {\r\n          key: 'soilHum',\r\n          label: '',\r\n          value: `${farm.soilhumidity}%`,\r\n          icon: '',\r\n          percent: farm.soilhumidity,\r\n          color: this.getMetricColor(farm.soilhumidity, 40, 70, 30, 80),\r\n          status: this.getMetricStatus(farm.soilhumidity, 40, 70, 30, 80),\r\n          statusColor: this.getMetricStatusColor(farm.soilhumidity, 40, 70, 30, 80)\r\n        },\r\n        {\r\n          key: 'light',\r\n          label: '',\r\n          value: `${(farm.light / 1000).toFixed(1)}k`,\r\n          icon: '',\r\n          percent: this.normalizeValue(farm.light, 0, 60000, 100),\r\n          color: this.getMetricColor(farm.light, 20000, 50000, 10000, 60000),\r\n          status: this.getMetricStatus(farm.light, 20000, 50000, 10000, 60000),\r\n          statusColor: this.getMetricStatusColor(farm.light, 20000, 50000, 10000, 60000)\r\n        },\r\n        {\r\n          key: 'carbon',\r\n          label: 'CO',\r\n          value: `${farm.carbon}ppm`,\r\n          icon: '',\r\n          percent: this.normalizeValue(farm.carbon, 300, 500, 100),\r\n          color: this.getMetricColor(farm.carbon, 350, 450, 300, 500),\r\n          status: this.getMetricStatus(farm.carbon, 350, 450, 300, 500),\r\n          statusColor: this.getMetricStatusColor(farm.carbon, 350, 450, 300, 500)\r\n        },\r\n        {\r\n          key: 'ph',\r\n          label: 'PH',\r\n          value: farm.ph,\r\n          icon: '',\r\n          percent: this.normalizeValue(farm.ph, 5, 8, 100),\r\n          color: this.getMetricColor(farm.ph, 6.0, 7.5, 5.5, 8.0),\r\n          status: this.getMetricStatus(farm.ph, 6.0, 7.5, 5.5, 8.0),\r\n          statusColor: this.getMetricStatusColor(farm.ph, 6.0, 7.5, 5.5, 8.0)\r\n        }\r\n      ];\r\n    },\r\n    \r\n    // \r\n    normalizeValue(value, min, max, scale = 100) {\r\n      return Math.min(Math.max(((value - min) / (max - min)) * scale, 0), scale);\r\n    },\r\n    \r\n    // \r\n    getMetricColor(value, idealMin, idealMax, acceptMin, acceptMax) {\r\n      if (value >= idealMin && value <= idealMax) {\r\n        return '#67C23A'; //  - \r\n      } else if (value >= acceptMin && value <= acceptMax) {\r\n        return '#E6A23C'; //  - \r\n      } else {\r\n        return '#F56C6C'; //  - \r\n      }\r\n    },\r\n    \r\n    // \r\n    getMetricStatus(value, idealMin, idealMax, acceptMin, acceptMax) {\r\n      if (value >= idealMin && value <= idealMax) {\r\n        return '';\r\n      } else if (value >= acceptMin && value <= acceptMax) {\r\n        return '';\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n    \r\n    // \r\n    getMetricStatusColor(value, idealMin, idealMax, acceptMin, acceptMax) {\r\n      if (value >= idealMin && value <= idealMax) {\r\n        return '#67C23A';\r\n      } else if (value >= acceptMin && value <= acceptMax) {\r\n        return '#E6A23C';\r\n      } else {\r\n        return '#F56C6C';\r\n      }\r\n    },\r\n    \r\n    // SVGdasharray\r\n    calculateDashArray(percent) {\r\n      const circumference = 2 * Math.PI * 32; // 32\r\n      const filled = (percent / 100) * circumference;\r\n      return `${filled} ${circumference}`;\r\n    },\r\n    \r\n    // \r\n    getSmartSuggestions(farm) {\r\n      if (!farm) return [];\r\n      \r\n      const suggestions = [];\r\n      \r\n      // \r\n      if (farm.temperature < 20) {\r\n        suggestions.push({\r\n          icon: '',\r\n          text: '',\r\n          action: '',\r\n          type: 'warning'\r\n        });\r\n      } else if (farm.temperature > 28) {\r\n        suggestions.push({\r\n          icon: '',\r\n          text: '',\r\n          action: '',\r\n          type: 'warning'\r\n        });\r\n      }\r\n      \r\n      // \r\n      if (farm.soilhumidity < 40) {\r\n        suggestions.push({\r\n          icon: '',\r\n          text: '',\r\n          action: '',\r\n          type: 'danger'\r\n        });\r\n      } else if (farm.soilhumidity > 70) {\r\n        suggestions.push({\r\n          icon: '',\r\n          text: '',\r\n          action: '',\r\n          type: 'warning'\r\n        });\r\n      }\r\n      \r\n      // \r\n      if (farm.light < 20000) {\r\n        suggestions.push({\r\n          icon: '',\r\n          text: '',\r\n          action: '',\r\n          type: 'info'\r\n        });\r\n      }\r\n      \r\n      // PH\r\n      if (farm.ph < 6.0) {\r\n        suggestions.push({\r\n          icon: '',\r\n          text: 'PH',\r\n          action: '',\r\n          type: 'warning'\r\n        });\r\n      } else if (farm.ph > 7.5) {\r\n        suggestions.push({\r\n          icon: '',\r\n          text: 'PH',\r\n          action: '',\r\n          type: 'warning'\r\n        });\r\n      }\r\n      \r\n      // \r\n      if (suggestions.length === 0) {\r\n        suggestions.push({\r\n          icon: '',\r\n          text: '',\r\n          action: '',\r\n          type: 'success'\r\n        });\r\n      }\r\n      \r\n      return suggestions;\r\n    },\r\n    \r\n    highlightFarmBlock(farm) {\r\n      if (!farm || this.farmBlocks.length === 0) return;\r\n      \r\n      // \r\n      const group = this.farmBlocks.find(g => g.userData.farm && g.userData.farm.id === farm.id);\r\n      if (group) {\r\n        this.selectBlock(group);\r\n      }\r\n    },\r\n    \r\n    init3DMap() {\r\n      const container = this.$refs.threeContainer;\r\n      if (!container) {\r\n        console.warn('3D');\r\n        return;\r\n      }\r\n      if (this.farms.length === 0) {\r\n        console.warn('3D');\r\n        return;\r\n      }\r\n      \r\n      // \r\n      if (this.renderer) {\r\n        this.renderer.dispose();\r\n        if (container.contains(this.renderer.domElement)) {\r\n          container.removeChild(this.renderer.domElement);\r\n        }\r\n      }\r\n      \r\n      const width = container.clientWidth;\r\n      const height = container.clientHeight;\r\n      \r\n      // \r\n      this.scene = new THREE.Scene();\r\n      \r\n      // \r\n      this.camera = new THREE.PerspectiveCamera(60, width / height, 0.1, 1000);\r\n      this.camera.position.set(40, 50, 40);\r\n      this.camera.lookAt(0, 0, 0);\r\n      \r\n      //  - \r\n      this.renderer = new THREE.WebGLRenderer({ \r\n        antialias: false, // \r\n        powerPreference: 'high-performance' // \r\n      });\r\n      this.renderer.setSize(width, height);\r\n      // DPI\r\n      this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\r\n      this.renderer.shadowMap.enabled = true;\r\n      this.renderer.shadowMap.type = THREE.PCFSoftShadowMap; // \r\n      container.appendChild(this.renderer.domElement);\r\n      \r\n      //  - \r\n      this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n      this.controls.enableDamping = true;\r\n      this.controls.dampingFactor = 0.05;\r\n      this.controls.minDistance = 20;\r\n      this.controls.maxDistance = 150;\r\n      this.controls.maxPolarAngle = Math.PI / 2.2;\r\n      this.controls.enablePan = true; // \r\n      this.controls.enableZoom = true; // \r\n      this.controls.enableRotate = true; // \r\n      this.controls.rotateSpeed = 0.5; // \r\n      this.controls.zoomSpeed = 0.8; // \r\n      this.controls.panSpeed = 0.8; // \r\n      \r\n      // \r\n      // 1. \r\n      const ambientLight = new THREE.AmbientLight(0xB0C4DE, 0.6);\r\n      this.scene.add(ambientLight);\r\n      \r\n      // 2. - \r\n      const sunLight = new THREE.DirectionalLight(0xFFF8DC, 1.2);\r\n      sunLight.position.set(60, 100, 40);\r\n      sunLight.castShadow = true;\r\n      sunLight.shadow.mapSize.width = 1024; // 2048 -> 1024\r\n      sunLight.shadow.mapSize.height = 1024;\r\n      sunLight.shadow.camera.near = 0.5;\r\n      sunLight.shadow.camera.far = 250;\r\n      sunLight.shadow.camera.left = -100;\r\n      sunLight.shadow.camera.right = 100;\r\n      sunLight.shadow.camera.top = 100;\r\n      sunLight.shadow.camera.bottom = -100;\r\n      sunLight.shadow.bias = -0.0001;\r\n      sunLight.shadow.radius = 4; // \r\n      this.scene.add(sunLight);\r\n      \r\n      // 3. \r\n      const hemisphereLight = new THREE.HemisphereLight(0x87CEEB, 0x6B5D4F, 0.5);\r\n      this.scene.add(hemisphereLight);\r\n      \r\n      this.createGround();\r\n      \r\n      // \r\n      this.createFarmBlocks();\r\n      \r\n      // \r\n      this.raycaster = new THREE.Raycaster();\r\n      this.mouse = new THREE.Vector2();\r\n      \r\n      // \r\n      this.boundMouseClick = this.onMouseClick.bind(this);\r\n      this.boundMouseMove = this.onMouseMove.bind(this);\r\n      this.boundWindowResize = this.onWindowResize.bind(this);\r\n      \r\n      // \r\n      container.addEventListener('click', this.boundMouseClick);\r\n      container.addEventListener('mousemove', this.boundMouseMove, { passive: true }); // passive\r\n      \r\n      // \r\n      window.addEventListener('resize', this.boundWindowResize);\r\n      \r\n      // \r\n      this.animate();\r\n    },\r\n    \r\n    createSoilTexture() {\r\n      //  - \r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = 256; // 512 -> 256\r\n      canvas.height = 256;\r\n      const ctx = canvas.getContext('2d');\r\n      \r\n      // \r\n      const soilColors = [\r\n        '#5D4E37', // \r\n        '#6B5D4F', // \r\n        '#7A6A52', // \r\n        '#8B7355', // \r\n        '#4A3C2A'  // \r\n      ];\r\n      \r\n      // \r\n      ctx.fillStyle = soilColors[1];\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n      \r\n      // 5000 -> 1500\r\n      for (let i = 0; i < 1500; i++) {\r\n        const x = Math.random() * canvas.width;\r\n        const y = Math.random() * canvas.height;\r\n        const size = Math.random() * 2 + 0.5; // \r\n        const colorIndex = Math.floor(Math.random() * soilColors.length);\r\n        \r\n        ctx.fillStyle = soilColors[colorIndex];\r\n        ctx.globalAlpha = Math.random() * 0.5 + 0.3; // \r\n        ctx.beginPath();\r\n        ctx.arc(x, y, size, 0, Math.PI * 2);\r\n        ctx.fill();\r\n      }\r\n      \r\n      // \r\n      ctx.globalAlpha = 0.3;\r\n      ctx.strokeStyle = '#4A3C2A';\r\n      for (let i = 0; i < 35; i++) {\r\n        ctx.lineWidth = Math.random() * 2 + 0.5;\r\n        ctx.beginPath();\r\n        const startX = Math.random() * canvas.width;\r\n        const startY = Math.random() * canvas.height;\r\n        ctx.moveTo(startX, startY);\r\n        \r\n        const segments = Math.floor(Math.random() * 4) + 3;\r\n        for (let j = 0; j < segments; j++) {\r\n          const endX = startX + (Math.random() - 0.5) * 70;\r\n          const endY = startY + (Math.random() - 0.5) * 70;\r\n          ctx.lineTo(endX, endY);\r\n        }\r\n        ctx.stroke();\r\n      }\r\n      \r\n      // \r\n      ctx.globalAlpha = 0.7;\r\n      for (let i = 0; i < 150; i++) {\r\n        const x = Math.random() * canvas.width;\r\n        const y = Math.random() * canvas.height;\r\n        const size = Math.random() * 4 + 1;\r\n        \r\n        ctx.fillStyle = Math.random() > 0.5 ? '#9B8B7E' : '#8A7968';\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, size, 0, Math.PI * 2);\r\n        ctx.fill();\r\n      }\r\n      \r\n      ctx.globalAlpha = 1.0;\r\n      \r\n      return new THREE.CanvasTexture(canvas);\r\n    },\r\n    \r\n    createGround() {\r\n      // - \r\n      const groundGeometry = new THREE.PlaneGeometry(200, 200, 40, 40); // 80x80 -> 40x40\r\n      const positions = groundGeometry.attributes.position;\r\n      \r\n      // \r\n      const positionArray = positions.array;\r\n      for (let i = 0; i < positionArray.length; i += 3) {\r\n        const x = positionArray[i];\r\n        const y = positionArray[i + 1];\r\n        const noise = Math.sin(x * 0.05) * Math.cos(y * 0.05) * 0.5 + \r\n                     Math.sin(x * 0.2) * Math.cos(y * 0.2) * 0.2;\r\n        positionArray[i + 2] = noise;\r\n      }\r\n      positions.needsUpdate = true;\r\n      groundGeometry.computeVertexNormals();\r\n      \r\n      // \r\n      const soilTexture = this.createSoilTexture();\r\n      soilTexture.wrapS = THREE.RepeatWrapping;\r\n      soilTexture.wrapT = THREE.RepeatWrapping;\r\n      soilTexture.repeat.set(18, 18);\r\n      \r\n      // \r\n      const groundMaterial = new THREE.MeshStandardMaterial({ \r\n        map: soilTexture,\r\n        roughness: 0.95,\r\n        metalness: 0.05,\r\n        flatShading: false\r\n      });\r\n      \r\n      const ground = new THREE.Mesh(groundGeometry, groundMaterial);\r\n      ground.rotation.x = -Math.PI / 2;\r\n      ground.receiveShadow = true;\r\n      this.scene.add(ground);\r\n      \r\n      // \r\n      this.scene.background = new THREE.Color(0x87CEEB); // \r\n      \r\n      // \r\n      this.scene.fog = new THREE.Fog(0x87CEEB, 50, 200);\r\n    },\r\n    \r\n    createFarmBlocks() {\r\n      // \r\n      this.farmBlocks.forEach(block => {\r\n        this.scene.remove(block);\r\n      });\r\n      this.farmBlocks = [];\r\n      \r\n      // \r\n      this.labels.forEach(label => {\r\n        this.scene.remove(label);\r\n      });\r\n      this.labels = [];\r\n      \r\n      // \r\n      const farmCount = this.farms.length;\r\n      const cols = Math.ceil(Math.sqrt(farmCount));\r\n      const spacing = 15;\r\n      \r\n      this.farms.forEach((farm, index) => {\r\n        const row = Math.floor(index / cols);\r\n        const col = index % cols;\r\n        \r\n        // \r\n        const offsetX = (cols - 1) * spacing / 2;\r\n        const offsetZ = (Math.ceil(farmCount / cols) - 1) * spacing / 2;\r\n        const x = col * spacing - offsetX;\r\n        const z = row * spacing - offsetZ;\r\n        \r\n        // \r\n        const area = parseFloat(farm.area) || 10;\r\n        const size = Math.sqrt(area) * 0.8;\r\n        \r\n        // \r\n        const farmGroup = new THREE.Group();\r\n        \r\n        // 1. - \r\n        const fieldGeometry = new THREE.PlaneGeometry(size, size, 4, 4); // 8x8 -> 4x4\r\n        \r\n        // \r\n        const fieldPositions = fieldGeometry.attributes.position;\r\n        for (let i = 0; i < fieldPositions.count; i++) {\r\n          const fx = fieldPositions.getX(i);\r\n          const fy = fieldPositions.getY(i);\r\n          const cropHeight = Math.sin(fx * 2) * Math.cos(fy * 2) * 0.2 + 0.3;\r\n          fieldPositions.setZ(i, cropHeight);\r\n        }\r\n        fieldGeometry.computeVertexNormals();\r\n        \r\n        // \r\n        const config = this.cropConfig[farm.crop] || this.defaultCropConfig;\r\n        const baseColor = config.color;\r\n        \r\n        // \r\n        const healthScore = this.calculateHealthScore(farm);\r\n        const healthColor = this.getHealthColor(healthScore);\r\n        \r\n        // 30%\r\n        const finalColor = this.blendColors(baseColor, healthColor, 0.3);\r\n        \r\n        const fieldMaterial = new THREE.MeshStandardMaterial({\r\n          color: finalColor,\r\n          roughness: 0.7,\r\n          metalness: 0.1,\r\n          flatShading: false,\r\n          side: THREE.DoubleSide\r\n        });\r\n        \r\n        const field = new THREE.Mesh(fieldGeometry, fieldMaterial);\r\n        field.rotation.x = -Math.PI / 2;\r\n        field.position.y = 0.3;\r\n        field.receiveShadow = true;\r\n        field.castShadow = true;\r\n        farmGroup.add(field);\r\n        \r\n        // 2. \r\n        const borderHeight = 0.3;\r\n        const borderWidth = 0.2;\r\n        const borderMaterial = new THREE.MeshStandardMaterial({\r\n          color: 0x8B6F47,\r\n          roughness: 0.9,\r\n          metalness: 0.1\r\n        });\r\n        \r\n        // \r\n        const borders = [\r\n          { w: size + borderWidth * 2, h: borderWidth, x: 0, z: -size / 2 - borderWidth / 2 }, // \r\n          { w: size + borderWidth * 2, h: borderWidth, x: 0, z: size / 2 + borderWidth / 2 },  // \r\n          { w: borderWidth, h: size, x: -size / 2 - borderWidth / 2, z: 0 },                    // \r\n          { w: borderWidth, h: size, x: size / 2 + borderWidth / 2, z: 0 }                      // \r\n        ];\r\n        \r\n        borders.forEach(b => {\r\n          const borderGeom = new THREE.BoxGeometry(b.w, borderHeight, b.h);\r\n          const border = new THREE.Mesh(borderGeom, borderMaterial);\r\n          border.position.set(b.x, borderHeight / 2, b.z);\r\n          border.castShadow = true;\r\n          border.receiveShadow = true;\r\n          farmGroup.add(border);\r\n        });\r\n        \r\n        // 3. \r\n        farmGroup.position.set(x, 0, z);\r\n        \r\n        // \r\n        farmGroup.userData = {\r\n          farm: farm,\r\n          originalColor: baseColor,\r\n          healthScore: healthScore,\r\n          healthColor: healthColor\r\n        };\r\n        \r\n        this.scene.add(farmGroup);\r\n        this.farmBlocks.push(farmGroup);\r\n        \r\n        //  3D \r\n        this.addCropModels(farm.crop, x, z, size, baseColor);\r\n        \r\n        // \r\n        this.addCropLabel(farm.crop, x, 2.5, z, baseColor);\r\n        \r\n        // \r\n        this.addHealthIndexLabel(healthScore, x, 3.0, z);\r\n        \r\n        // \r\n        this.addFieldNameLabel(farm.farm, x, 3.5, z);\r\n        \r\n        // \r\n        if (farm.address) {\r\n          this.addAddressLabel(farm.address, x, 4.2, z);\r\n        }\r\n      });\r\n    },\r\n    \r\n    //  3D \r\n    async loadCropModel(cropType) {\r\n      // \r\n      if (this.modelCache[cropType]) {\r\n        return this.modelCache[cropType].clone();\r\n      }\r\n      \r\n      // \r\n      const config = this.cropConfig[cropType] || this.defaultCropConfig;\r\n      const modelPath = config.modelPath;\r\n      if (!modelPath) {\r\n        console.warn(` ${cropType} `);\r\n        return null;\r\n      }\r\n      \r\n      // \r\n      if (!this.gltfLoader) {\r\n        this.gltfLoader = new GLTFLoader();\r\n      }\r\n      \r\n      try {\r\n        // \r\n        const gltf = await new Promise((resolve, reject) => {\r\n          this.gltfLoader.load(\r\n            modelPath,\r\n            (gltf) => resolve(gltf),\r\n            undefined,\r\n            (error) => reject(error)\r\n          );\r\n        });\r\n        \r\n        // \r\n        this.modelCache[cropType] = gltf.scene;\r\n        console.log(`  ${cropType} `);\r\n        \r\n        return gltf.scene.clone();\r\n      } catch (error) {\r\n        console.warn(`  ${cropType} :`, error.message);\r\n        return null;\r\n      }\r\n    },\r\n    \r\n    //  3D \r\n    async addCropModels(cropType, x, z, fieldSize, cropColor) {\r\n      // \r\n      const baseCount = Math.floor(fieldSize * 1.5); // 3 -> 1.5\r\n      const maxCount = 20; // \r\n      const plantCount = Math.min(baseCount, maxCount);\r\n      const spacing = fieldSize / Math.max(plantCount, 1);\r\n      \r\n      // \r\n      const externalModel = await this.loadCropModel(cropType);\r\n      \r\n      for (let i = 0; i < plantCount; i++) {\r\n        for (let j = 0; j < plantCount; j++) {\r\n          const offsetX = (i - plantCount / 2) * spacing + (Math.random() - 0.5) * spacing * 0.3;\r\n          const offsetZ = (j - plantCount / 2) * spacing + (Math.random() - 0.5) * spacing * 0.3;\r\n          \r\n          const plantX = x + offsetX;\r\n          const plantZ = z + offsetZ;\r\n          \r\n          let plant;\r\n          \r\n          // \r\n          if (externalModel) {\r\n            plant = externalModel.clone();\r\n            // \r\n            const enableShadow = (i + j) % 3 === 0; // 1/3\r\n            plant.traverse((child) => {\r\n              if (child.isMesh) {\r\n                child.castShadow = enableShadow;\r\n                child.receiveShadow = false; // \r\n              }\r\n            });\r\n          } else {\r\n            // \r\n            switch(cropType) {\r\n              case '':\r\n                plant = this.createWheatPlant(cropColor);\r\n                break;\r\n              case '':\r\n                plant = this.createCornPlant(cropColor);\r\n                break;\r\n              case '':\r\n                plant = this.createRicePlant(cropColor);\r\n                break;\r\n              case '':\r\n              case '':\r\n              case '':\r\n                plant = this.createLeafyPlant(cropColor);\r\n                break;\r\n              case '':\r\n              case '':\r\n                plant = this.createVinePlant(cropColor);\r\n                break;\r\n              default:\r\n                plant = this.createGenericPlant(cropColor);\r\n            }\r\n          }\r\n          \r\n          if (plant) {\r\n            plant.position.set(plantX, 0.5, plantZ);\r\n            // \r\n            const scale = 0.9 + Math.random() * 0.2; // \r\n            plant.scale.set(scale, scale, scale);\r\n            // \r\n            const enableShadow = (i + j) % 3 === 0;\r\n            plant.traverse((child) => {\r\n              if (child.isMesh) {\r\n                child.castShadow = enableShadow;\r\n                child.receiveShadow = false;\r\n              }\r\n            });\r\n            this.scene.add(plant);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \r\n    // \r\n    createWheatPlant(color) {\r\n      const group = new THREE.Group();\r\n      \r\n      // \r\n      const stemGeometry = new THREE.CylinderGeometry(0.02, 0.03, 1.2, 6);\r\n      const stemMaterial = new THREE.MeshStandardMaterial({ \r\n        color: 0x8B7355,\r\n        roughness: 0.8 \r\n      });\r\n      const stem = new THREE.Mesh(stemGeometry, stemMaterial);\r\n      stem.position.y = 0.6;\r\n      stem.castShadow = true;\r\n      group.add(stem);\r\n      \r\n      // \r\n      const headGeometry = new THREE.ConeGeometry(0.15, 0.4, 8);\r\n      const headMaterial = new THREE.MeshStandardMaterial({ \r\n        color: color,\r\n        roughness: 0.6 \r\n      });\r\n      const head = new THREE.Mesh(headGeometry, headMaterial);\r\n      head.position.y = 1.4;\r\n      head.castShadow = true;\r\n      group.add(head);\r\n      \r\n      return group;\r\n    },\r\n    \r\n    //  + \r\n    createCornPlant(color) {\r\n      const group = new THREE.Group();\r\n      \r\n      // \r\n      const stemGeometry = new THREE.CylinderGeometry(0.05, 0.08, 1.8, 8);\r\n      const stemMaterial = new THREE.MeshStandardMaterial({ \r\n        color: 0x7CB342,\r\n        roughness: 0.7 \r\n      });\r\n      const stem = new THREE.Mesh(stemGeometry, stemMaterial);\r\n      stem.position.y = 0.9;\r\n      stem.castShadow = true;\r\n      group.add(stem);\r\n      \r\n      // \r\n      const leafGeometry = new THREE.PlaneGeometry(0.3, 0.8);\r\n      const leafMaterial = new THREE.MeshStandardMaterial({ \r\n        color: 0x558B2F,\r\n        side: THREE.DoubleSide,\r\n        roughness: 0.8 \r\n      });\r\n      \r\n      for (let i = 0; i < 4; i++) {\r\n        const leaf = new THREE.Mesh(leafGeometry, leafMaterial);\r\n        leaf.position.y = 0.8 + i * 0.3;\r\n        leaf.rotation.y = (Math.PI / 2) * i;\r\n        leaf.rotation.z = Math.PI / 6;\r\n        leaf.castShadow = true;\r\n        group.add(leaf);\r\n      }\r\n      \r\n      // \r\n      const cornGeometry = new THREE.CylinderGeometry(0.1, 0.1, 0.4, 8);\r\n      const cornMaterial = new THREE.MeshStandardMaterial({ \r\n        color: color,\r\n        roughness: 0.6 \r\n      });\r\n      const corn = new THREE.Mesh(cornGeometry, cornMaterial);\r\n      corn.position.set(0.15, 1.2, 0);\r\n      corn.rotation.z = Math.PI / 4;\r\n      corn.castShadow = true;\r\n      group.add(corn);\r\n      \r\n      return group;\r\n    },\r\n    \r\n    // \r\n    createRicePlant(color) {\r\n      const group = new THREE.Group();\r\n      \r\n      // \r\n      const stemGeometry = new THREE.CylinderGeometry(0.02, 0.03, 1.0, 6);\r\n      const stemMaterial = new THREE.MeshStandardMaterial({ \r\n        color: 0x7CB342,\r\n        roughness: 0.8 \r\n      });\r\n      const stem = new THREE.Mesh(stemGeometry, stemMaterial);\r\n      stem.position.y = 0.5;\r\n      stem.castShadow = true;\r\n      group.add(stem);\r\n      \r\n      // \r\n      const riceGeometry = new THREE.SphereGeometry(0.12, 8, 8);\r\n      const riceMaterial = new THREE.MeshStandardMaterial({ \r\n        color: color,\r\n        roughness: 0.6 \r\n      });\r\n      \r\n      for (let i = 0; i < 5; i++) {\r\n        const rice = new THREE.Mesh(riceGeometry, riceMaterial);\r\n        rice.position.set(\r\n          Math.sin(i * 0.3) * 0.15,\r\n          1.0 - i * 0.1,\r\n          Math.cos(i * 0.3) * 0.15\r\n        );\r\n        rice.scale.set(1, 1.5, 1);\r\n        rice.castShadow = true;\r\n        group.add(rice);\r\n      }\r\n      \r\n      return group;\r\n    },\r\n    \r\n    // \r\n    createLeafyPlant(color) {\r\n      const group = new THREE.Group();\r\n      \r\n      // \r\n      const leafGeometry = new THREE.CircleGeometry(0.2, 8);\r\n      const leafMaterial = new THREE.MeshStandardMaterial({ \r\n        color: color,\r\n        side: THREE.DoubleSide,\r\n        roughness: 0.7 \r\n      });\r\n      \r\n      for (let i = 0; i < 6; i++) {\r\n        const leaf = new THREE.Mesh(leafGeometry, leafMaterial);\r\n        leaf.position.y = 0.3 + i * 0.1;\r\n        leaf.rotation.y = (Math.PI / 3) * i;\r\n        leaf.rotation.x = -Math.PI / 2 + Math.PI / 8;\r\n        leaf.scale.set(1 - i * 0.1, 1 - i * 0.1, 1);\r\n        leaf.castShadow = true;\r\n        group.add(leaf);\r\n      }\r\n      \r\n      return group;\r\n    },\r\n    \r\n    // \r\n    createVinePlant(color) {\r\n      const group = new THREE.Group();\r\n      \r\n      // \r\n      const stemGeometry = new THREE.CylinderGeometry(0.03, 0.04, 1.2, 6);\r\n      const stemMaterial = new THREE.MeshStandardMaterial({ \r\n        color: 0x558B2F,\r\n        roughness: 0.8 \r\n      });\r\n      const stem = new THREE.Mesh(stemGeometry, stemMaterial);\r\n      stem.position.y = 0.6;\r\n      stem.castShadow = true;\r\n      group.add(stem);\r\n      \r\n      // \r\n      const leafGeometry = new THREE.CircleGeometry(0.15, 6);\r\n      const leafMaterial = new THREE.MeshStandardMaterial({ \r\n        color: 0x4CAF50,\r\n        side: THREE.DoubleSide,\r\n        roughness: 0.7 \r\n      });\r\n      \r\n      for (let i = 0; i < 4; i++) {\r\n        const leaf = new THREE.Mesh(leafGeometry, leafMaterial);\r\n        leaf.position.set(\r\n          Math.cos(i * Math.PI / 2) * 0.2,\r\n          0.5 + i * 0.2,\r\n          Math.sin(i * Math.PI / 2) * 0.2\r\n        );\r\n        leaf.rotation.y = i * Math.PI / 2;\r\n        leaf.castShadow = true;\r\n        group.add(leaf);\r\n      }\r\n      \r\n      // \r\n      const fruitGeometry = new THREE.SphereGeometry(0.1, 8, 8);\r\n      const fruitMaterial = new THREE.MeshStandardMaterial({ \r\n        color: color,\r\n        roughness: 0.4,\r\n        metalness: 0.1 \r\n      });\r\n      \r\n      for (let i = 0; i < 3; i++) {\r\n        const fruit = new THREE.Mesh(fruitGeometry, fruitMaterial);\r\n        fruit.position.set(\r\n          Math.cos(i * Math.PI * 2 / 3) * 0.15,\r\n          0.8 + Math.random() * 0.3,\r\n          Math.sin(i * Math.PI * 2 / 3) * 0.15\r\n        );\r\n        fruit.castShadow = true;\r\n        group.add(fruit);\r\n      }\r\n      \r\n      return group;\r\n    },\r\n    \r\n    // \r\n    createGenericPlant(color) {\r\n      const group = new THREE.Group();\r\n      \r\n      const stemGeometry = new THREE.CylinderGeometry(0.03, 0.04, 0.8, 6);\r\n      const stemMaterial = new THREE.MeshStandardMaterial({ \r\n        color: 0x7CB342,\r\n        roughness: 0.8 \r\n      });\r\n      const stem = new THREE.Mesh(stemGeometry, stemMaterial);\r\n      stem.position.y = 0.4;\r\n      stem.castShadow = true;\r\n      group.add(stem);\r\n      \r\n      const topGeometry = new THREE.SphereGeometry(0.15, 8, 8);\r\n      const topMaterial = new THREE.MeshStandardMaterial({ \r\n        color: color,\r\n        roughness: 0.6 \r\n      });\r\n      const top = new THREE.Mesh(topGeometry, topMaterial);\r\n      top.position.y = 0.9;\r\n      top.castShadow = true;\r\n      group.add(top);\r\n      \r\n      return group;\r\n    },\r\n    \r\n    // \r\n    addFieldNameLabel(farmName, x, y, z) {\r\n      const canvas = document.createElement('canvas');\r\n      const context = canvas.getContext('2d');\r\n      canvas.width = 160;\r\n      canvas.height = 40;\r\n      \r\n      // \r\n      context.fillStyle = 'rgba(255, 255, 255, 0.88)';\r\n      context.shadowColor = 'rgba(0, 0, 0, 0.15)';\r\n      context.shadowBlur = 5;\r\n      context.shadowOffsetX = 1;\r\n      context.shadowOffsetY = 1;\r\n      \r\n      const radius = 6;\r\n      context.beginPath();\r\n      context.moveTo(radius, 0);\r\n      context.lineTo(canvas.width - radius, 0);\r\n      context.quadraticCurveTo(canvas.width, 0, canvas.width, radius);\r\n      context.lineTo(canvas.width, canvas.height - radius);\r\n      context.quadraticCurveTo(canvas.width, canvas.height, canvas.width - radius, canvas.height);\r\n      context.lineTo(radius, canvas.height);\r\n      context.quadraticCurveTo(0, canvas.height, 0, canvas.height - radius);\r\n      context.lineTo(0, radius);\r\n      context.quadraticCurveTo(0, 0, radius, 0);\r\n      context.closePath();\r\n      context.fill();\r\n      \r\n      context.shadowColor = 'transparent';\r\n      \r\n      // \r\n      context.font = 'Bold 16px Arial';\r\n      context.fillStyle = '#606266';\r\n      context.textAlign = 'center';\r\n      context.textBaseline = 'middle';\r\n      context.fillText(farmName, canvas.width / 2, canvas.height / 2);\r\n      \r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      const spriteMaterial = new THREE.SpriteMaterial({ \r\n        map: texture,\r\n        sizeAttenuation: true\r\n      });\r\n      const sprite = new THREE.Sprite(spriteMaterial);\r\n      sprite.position.set(x, y, z);\r\n      sprite.scale.set(2.8, 0.7, 1);\r\n      \r\n      this.scene.add(sprite);\r\n    },\r\n    \r\n    // \r\n    addAddressLabel(address, x, y, z) {\r\n      const canvas = document.createElement('canvas');\r\n      const context = canvas.getContext('2d');\r\n      canvas.width = 200;\r\n      canvas.height = 35;\r\n      \r\n      // \r\n      context.fillStyle = 'rgba(230, 244, 255, 0.9)';\r\n      context.shadowColor = 'rgba(0, 0, 0, 0.12)';\r\n      context.shadowBlur = 4;\r\n      context.shadowOffsetX = 1;\r\n      context.shadowOffsetY = 1;\r\n      \r\n      const radius = 5;\r\n      context.beginPath();\r\n      context.moveTo(radius, 0);\r\n      context.lineTo(canvas.width - radius, 0);\r\n      context.quadraticCurveTo(canvas.width, 0, canvas.width, radius);\r\n      context.lineTo(canvas.width, canvas.height - radius);\r\n      context.quadraticCurveTo(canvas.width, canvas.height, canvas.width - radius, canvas.height);\r\n      context.lineTo(radius, canvas.height);\r\n      context.quadraticCurveTo(0, canvas.height, 0, canvas.height - radius);\r\n      context.lineTo(0, radius);\r\n      context.quadraticCurveTo(0, 0, radius, 0);\r\n      context.closePath();\r\n      context.fill();\r\n      \r\n      // \r\n      context.strokeStyle = '#409EFF';\r\n      context.lineWidth = 1.5;\r\n      context.stroke();\r\n      \r\n      context.shadowColor = 'transparent';\r\n      \r\n      // \r\n      context.font = '13px Arial';\r\n      context.fillStyle = '#409EFF';\r\n      context.textAlign = 'left';\r\n      context.textBaseline = 'middle';\r\n      \r\n      // \r\n      context.fillText('', 10, canvas.height / 2);\r\n      \r\n      // \r\n      context.fillStyle = '#606266';\r\n      const maxWidth = canvas.width - 40;\r\n      let displayAddress = address;\r\n      if (context.measureText(address).width > maxWidth) {\r\n        while (context.measureText(displayAddress + '...').width > maxWidth && displayAddress.length > 0) {\r\n          displayAddress = displayAddress.slice(0, -1);\r\n        }\r\n        displayAddress += '...';\r\n      }\r\n      context.fillText(displayAddress, 30, canvas.height / 2);\r\n      \r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      const spriteMaterial = new THREE.SpriteMaterial({ \r\n        map: texture,\r\n        sizeAttenuation: true,\r\n        transparent: true\r\n      });\r\n      const sprite = new THREE.Sprite(spriteMaterial);\r\n      sprite.position.set(x, y, z);\r\n      sprite.scale.set(3.2, 0.56, 1);\r\n      \r\n      this.scene.add(sprite);\r\n    },\r\n    \r\n    // \r\n    addCropLabel(cropName, x, y, z, cropColor) {\r\n      const canvas = document.createElement('canvas');\r\n      const context = canvas.getContext('2d');\r\n      canvas.width = 160;\r\n      canvas.height = 50;\r\n      \r\n      // \r\n      context.fillStyle = 'rgba(255, 255, 255, 0.92)';\r\n      context.shadowColor = 'rgba(0, 0, 0, 0.2)';\r\n      context.shadowBlur = 6;\r\n      context.shadowOffsetX = 1;\r\n      context.shadowOffsetY = 1;\r\n      \r\n      // \r\n      const radius = 8;\r\n      context.beginPath();\r\n      context.moveTo(radius, 0);\r\n      context.lineTo(canvas.width - radius, 0);\r\n      context.quadraticCurveTo(canvas.width, 0, canvas.width, radius);\r\n      context.lineTo(canvas.width, canvas.height - radius);\r\n      context.quadraticCurveTo(canvas.width, canvas.height, canvas.width - radius, canvas.height);\r\n      context.lineTo(radius, canvas.height);\r\n      context.quadraticCurveTo(0, canvas.height, 0, canvas.height - radius);\r\n      context.lineTo(0, radius);\r\n      context.quadraticCurveTo(0, 0, radius, 0);\r\n      context.closePath();\r\n      context.fill();\r\n      \r\n      // \r\n      context.strokeStyle = '#' + cropColor.toString(16).padStart(6, '0');\r\n      context.lineWidth = 2;\r\n      context.stroke();\r\n      \r\n      // \r\n      context.shadowColor = 'transparent';\r\n      context.shadowBlur = 0;\r\n      \r\n      // \r\n      context.font = 'Bold 20px Arial';\r\n      context.fillStyle = '#' + cropColor.toString(16).padStart(6, '0');\r\n      context.textAlign = 'center';\r\n      context.textBaseline = 'middle';\r\n      \r\n      // \r\n      const config = this.cropConfig[cropName] || this.defaultCropConfig;\r\n      const icon = config.icon;\r\n      context.fillText(icon + ' ' + cropName, canvas.width / 2, canvas.height / 2);\r\n      \r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      const spriteMaterial = new THREE.SpriteMaterial({ \r\n        map: texture,\r\n        sizeAttenuation: true,\r\n        transparent: true\r\n      });\r\n      const sprite = new THREE.Sprite(spriteMaterial);\r\n      sprite.position.set(x, y, z);\r\n      sprite.scale.set(2.8, 0.9, 1);\r\n      \r\n      this.scene.add(sprite);\r\n    },\r\n    \r\n    addTextLabel(text, x, y, z) {\r\n      const canvas = document.createElement('canvas');\r\n      const context = canvas.getContext('2d');\r\n      canvas.width = 256;\r\n      canvas.height = 64;\r\n      \r\n      context.fillStyle = 'rgba(255, 255, 255, 0.9)';\r\n      context.fillRect(0, 0, canvas.width, canvas.height);\r\n      \r\n      context.font = 'Bold 20px Arial';\r\n      context.fillStyle = '#303133';\r\n      context.textAlign = 'center';\r\n      context.textBaseline = 'middle';\r\n      context.fillText(text, canvas.width / 2, canvas.height / 2);\r\n      \r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      const spriteMaterial = new THREE.SpriteMaterial({ map: texture });\r\n      const sprite = new THREE.Sprite(spriteMaterial);\r\n      sprite.position.set(x, y, z);\r\n      sprite.scale.set(6, 1.5, 1);\r\n      \r\n      this.scene.add(sprite);\r\n    },\r\n    \r\n    onMouseClick(event) {\r\n      const container = this.$refs.threeContainer;\r\n      if (!container || !this.camera || !this.raycaster) return;\r\n      \r\n      const rect = container.getBoundingClientRect();\r\n      \r\n      this.mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\r\n      this.mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\r\n      \r\n      this.raycaster.setFromCamera(this.mouse, this.camera);\r\n      \r\n      // recursive\r\n      const intersects = this.raycaster.intersectObjects(this.farmBlocks, true);\r\n      \r\n      if (intersects.length > 0) {\r\n        // \r\n        let clickedGroup = intersects[0].object;\r\n        while (clickedGroup.parent && (!clickedGroup.userData || !clickedGroup.userData.farm)) {\r\n          clickedGroup = clickedGroup.parent;\r\n        }\r\n        if (clickedGroup.userData && clickedGroup.userData.farm) {\r\n          this.selectBlock(clickedGroup);\r\n        }\r\n      }\r\n    },\r\n    \r\n    onMouseMove(event) {\r\n      // \r\n      if (this.mouseMoveTimer) {\r\n        clearTimeout(this.mouseMoveTimer);\r\n      }\r\n      \r\n      this.mouseMoveTimer = setTimeout(() => {\r\n        const container = this.$refs.threeContainer;\r\n        if (!container || !this.camera || !this.raycaster) return;\r\n        \r\n        const rect = container.getBoundingClientRect();\r\n        \r\n        this.mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\r\n        this.mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\r\n        \r\n        this.raycaster.setFromCamera(this.mouse, this.camera);\r\n        \r\n        // recursive\r\n        const intersects = this.raycaster.intersectObjects(this.farmBlocks, true);\r\n        \r\n        // \r\n        this.farmBlocks.forEach(group => {\r\n          if (group !== this.selectedBlock) {\r\n            group.traverse(child => {\r\n              if (child.isMesh && child.material) {\r\n                child.material.emissive = new THREE.Color(0x000000);\r\n                child.material.emissiveIntensity = 0;\r\n              }\r\n            });\r\n          }\r\n        });\r\n        \r\n        // \r\n        if (intersects.length > 0) {\r\n          let hoveredGroup = intersects[0].object;\r\n          while (hoveredGroup.parent && (!hoveredGroup.userData || !hoveredGroup.userData.farm)) {\r\n            hoveredGroup = hoveredGroup.parent;\r\n          }\r\n          \r\n          if (hoveredGroup.userData && hoveredGroup.userData.farm && hoveredGroup !== this.selectedBlock) {\r\n            hoveredGroup.traverse(child => {\r\n              if (child.isMesh && child.material) {\r\n                child.material.emissive = new THREE.Color(0x00AAFF);\r\n                child.material.emissiveIntensity = 0.3;\r\n              }\r\n            });\r\n            container.style.cursor = 'pointer';\r\n          } else {\r\n            container.style.cursor = 'default';\r\n          }\r\n        } else {\r\n          container.style.cursor = 'default';\r\n        }\r\n      }, 50); // 50ms\r\n    },\r\n    \r\n    selectBlock(group) {\r\n      // \r\n      if (this.selectedBlock) {\r\n        this.selectedBlock.traverse(child => {\r\n          if (child.isMesh && child.material) {\r\n            child.material.emissive = new THREE.Color(0x000000);\r\n            child.material.emissiveIntensity = 0;\r\n          }\r\n        });\r\n      }\r\n      \r\n      // \r\n      this.selectedBlock = group;\r\n      group.traverse(child => {\r\n        if (child.isMesh && child.material) {\r\n          child.material.emissive = new THREE.Color(0xFFAA00);\r\n          child.material.emissiveIntensity = 0.5;\r\n        }\r\n      });\r\n      \r\n      // \r\n      this.selectedFarm = group.userData.farm;\r\n    },\r\n    \r\n    onWindowResize() {\r\n      if (!this.camera || !this.renderer || !this.$refs.threeContainer) return;\r\n      \r\n      const width = this.$refs.threeContainer.clientWidth;\r\n      const height = this.$refs.threeContainer.clientHeight;\r\n      \r\n      this.camera.aspect = width / height;\r\n      this.camera.updateProjectionMatrix();\r\n      this.renderer.setSize(width, height);\r\n    },\r\n    \r\n    animate() {\r\n      requestAnimationFrame(this.animate.bind(this));\r\n      \r\n      // \r\n      if (this.controls) {\r\n        this.controls.update();\r\n      }\r\n      \r\n      // \r\n      if (!this.lastRenderTime) {\r\n        this.lastRenderTime = performance.now();\r\n      }\r\n      \r\n      const now = performance.now();\r\n      const deltaTime = now - this.lastRenderTime;\r\n      \r\n      // 60fps16.67ms\r\n      if (deltaTime >= 16.67) {\r\n        if (this.renderer && this.scene && this.camera) {\r\n          this.renderer.render(this.scene, this.camera);\r\n        }\r\n        this.lastRenderTime = now;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.farm-map-3d {\r\n  width: 100%;\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\r\n  padding: 20px;\r\n}\r\n\r\n.top-bar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: white;\r\n  padding: 15px 30px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.title {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.title i {\r\n  font-size: 28px;\r\n  color: #409EFF;\r\n}\r\n\r\n.time, .weather {\r\n  font-size: 14px;\r\n  color: #606266;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.weather i {\r\n  font-size: 18px;\r\n  color: #E6A23C;\r\n}\r\n\r\n.main-container {\r\n  display: flex;\r\n  gap: 20px;\r\n  height: calc(100vh - 140px);\r\n}\r\n\r\n.left-panel {\r\n  width: 320px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 15px;\r\n}\r\n\r\n.stat-card {\r\n  padding: 15px;\r\n  border-radius: 12px;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.stat-card:hover {\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.stat-icon {\r\n  font-size: 32px;\r\n}\r\n\r\n.stat-info {\r\n  flex: 1;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 12px;\r\n  opacity: 0.9;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 22px;\r\n  font-weight: bold;\r\n}\r\n\r\n.stat-value .unit {\r\n  font-size: 12px;\r\n  margin-left: 4px;\r\n  opacity: 0.8;\r\n}\r\n\r\n.farm-list-panel {\r\n  flex: 1;\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.panel-title {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n  margin-bottom: 15px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 2px solid #409EFF;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.panel-title i {\r\n  color: #409EFF;\r\n  font-size: 18px;\r\n}\r\n\r\n.farm-list {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n}\r\n\r\n.farm-item {\r\n  padding: 12px;\r\n  margin-bottom: 10px;\r\n  background: #f5f7fa;\r\n  border-radius: 8px;\r\n  border: 2px solid transparent;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.farm-item:hover {\r\n  background: #ecf5ff;\r\n  border-color: #409EFF;\r\n}\r\n\r\n.farm-item.active {\r\n  background: #ecf5ff;\r\n  border-color: #409EFF;\r\n  box-shadow: 0 2px 8px rgba(64, 158, 255, 0.3);\r\n}\r\n\r\n.farm-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.farm-name {\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n}\r\n\r\n.farm-info {\r\n  font-size: 12px;\r\n  color: #606266;\r\n}\r\n\r\n.info-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 5px;\r\n}\r\n\r\n.center-panel {\r\n  flex: 1;\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.map-3d {\r\n  flex: 1;\r\n  width: 100%;\r\n  min-height: 500px;\r\n}\r\n\r\n.right-panel {\r\n  width: 380px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\r\n  overflow-y: auto;\r\n}\r\n\r\n.farm-detail {\r\n  margin-top: 15px;\r\n}\r\n\r\n.detail-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 15px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.detail-header h3 {\r\n  margin: 0;\r\n  color: #303133;\r\n  font-size: 18px;\r\n}\r\n\r\n.detail-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.detail-item {\r\n  background: #f5f7fa;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.detail-item .label {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.detail-item .value {\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n}\r\n\r\n.env-section {\r\n  margin-top: 20px;\r\n}\r\n\r\n.section-title {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n  margin-bottom: 12px;\r\n  padding-left: 10px;\r\n  border-left: 3px solid #409EFF;\r\n}\r\n\r\n.env-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 10px;\r\n}\r\n\r\n.env-item {\r\n  background: #f5f7fa;\r\n  padding: 10px;\r\n  border-radius: 6px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.env-label {\r\n  font-size: 12px;\r\n  color: #606266;\r\n  flex: 1;\r\n}\r\n\r\n.env-value {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n}\r\n\r\n.no-selection {\r\n  text-align: center;\r\n  padding: 60px 20px;\r\n  color: #909399;\r\n}\r\n\r\n.no-selection i {\r\n  font-size: 48px;\r\n  margin-bottom: 15px;\r\n  display: block;\r\n}\r\n\r\n.farm-list::-webkit-scrollbar,\r\n.right-panel::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.farm-list::-webkit-scrollbar-thumb,\r\n.right-panel::-webkit-scrollbar-thumb {\r\n  background: #dcdfe6;\r\n  border-radius: 3px;\r\n}\r\n\r\n.farm-list::-webkit-scrollbar-track,\r\n.right-panel::-webkit-scrollbar-track {\r\n  background: #f5f7fa;\r\n}\r\n\r\n/*  */\r\n.env-health-score {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, #f5f7fa 0%, #e8eef5 100%);\r\n  border-radius: 12px;\r\n  margin: 20px 0;\r\n}\r\n\r\n.score-circle {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);\r\n  animation: pulse 2s ease-in-out infinite;\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n  }\r\n}\r\n\r\n.score-inner {\r\n  width: 85px;\r\n  height: 85px;\r\n  background: white;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.score-number {\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n}\r\n\r\n.score-label {\r\n  font-size: 11px;\r\n  color: #909399;\r\n  margin-top: 2px;\r\n}\r\n\r\n.score-status {\r\n  flex: 1;\r\n}\r\n\r\n.status-badge {\r\n  display: inline-block;\r\n  padding: 6px 16px;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.status-badge.level-excellent {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n}\r\n\r\n.status-badge.level-good {\r\n  background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);\r\n  color: white;\r\n}\r\n\r\n.status-badge.level-normal {\r\n  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);\r\n  color: white;\r\n}\r\n\r\n.status-badge.level-poor {\r\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\r\n  color: white;\r\n}\r\n\r\n.status-desc {\r\n  font-size: 13px;\r\n  color: #606266;\r\n  line-height: 1.6;\r\n}\r\n\r\n/*  */\r\n.section-title {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n  margin-bottom: 20px;\r\n  padding-left: 10px;\r\n  border-left: 4px solid #409EFF;\r\n}\r\n\r\n.update-time {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  font-weight: normal;\r\n}\r\n\r\n/*  */\r\n.env-circles {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 20px;\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.circle-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.circle-progress {\r\n  position: relative;\r\n  width: 80px;\r\n  height: 80px;\r\n}\r\n\r\n.progress-ring {\r\n  transform: rotate(0deg);\r\n}\r\n\r\n.progress-ring-circle {\r\n  transition: stroke-dasharray 0.5s ease;\r\n}\r\n\r\n.circle-content {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 2px;\r\n}\r\n\r\n.circle-icon {\r\n  font-size: 20px;\r\n}\r\n\r\n.circle-value {\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n}\r\n\r\n.circle-label {\r\n  font-size: 12px;\r\n  color: #606266;\r\n  text-align: center;\r\n}\r\n\r\n.circle-status {\r\n  font-size: 11px;\r\n  font-weight: bold;\r\n  padding: 2px 8px;\r\n  border-radius: 10px;\r\n  background: rgba(103, 194, 58, 0.1);\r\n}\r\n\r\n/*  */\r\n.smart-suggestions {\r\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\r\n  border-radius: 12px;\r\n  padding: 15px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.suggestion-title {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.suggestion-title i {\r\n  color: #409EFF;\r\n  font-size: 16px;\r\n}\r\n\r\n.suggestion-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.suggestion-item {\r\n  display: flex;\r\n  gap: 12px;\r\n  padding: 12px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  border-left: 3px solid #409EFF;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.suggestion-item:hover {\r\n  transform: translateX(5px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.suggestion-item.warning {\r\n  border-left-color: #E6A23C;\r\n}\r\n\r\n.suggestion-item.danger {\r\n  border-left-color: #F56C6C;\r\n}\r\n\r\n.suggestion-item.success {\r\n  border-left-color: #67C23A;\r\n}\r\n\r\n.suggestion-item.info {\r\n  border-left-color: #409EFF;\r\n}\r\n\r\n.suggestion-icon {\r\n  font-size: 24px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.suggestion-content {\r\n  flex: 1;\r\n}\r\n\r\n.suggestion-text {\r\n  font-size: 13px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.suggestion-action {\r\n  font-size: 12px;\r\n  color: #606266;\r\n  line-height: 1.5;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}