{"remainingRequest":"F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\1\\smart\\vue\\src\\views\\FarmBigScreen.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\1\\smart\\vue\\src\\views\\FarmBigScreen.vue","mtime":1763339346105},{"path":"F:\\1\\smart\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803512432},{"path":"F:\\1\\smart\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735803514062},{"path":"F:\\1\\smart\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803512432},{"path":"F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1735803514728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgKiBhcyBlY2hhcnRzIGZyb20gJ2VjaGFydHMnOw0KaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnOw0KaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnRmFybUJpZ1NjcmVlbicsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGN1cnJlbnRUaW1lOiAnJywNCiAgICAgIGFjdGl2ZU1lbnU6IDAsDQogICAgICBzZWxlY3RlZEFyZWE6IHt9LA0KICAgICAgDQogICAgICAvLyBUaHJlZS5qcyDnm7jlhbMNCiAgICAgIHNjZW5lOiBudWxsLA0KICAgICAgY2FtZXJhOiBudWxsLA0KICAgICAgcmVuZGVyZXI6IG51bGwsDQogICAgICBjb250cm9sczogbnVsbCwNCiAgICAgIGZhcm1CbG9ja3M6IFtdLCAvLyDlrZjlgqjlhpznlLDmlrnlnZflr7nosaENCiAgICAgIHJheWNhc3RlcjogbnVsbCwNCiAgICAgIG1vdXNlOiBudWxsLA0KICAgICAgc2VsZWN0ZWRCbG9jazogbnVsbCwNCiAgICAgIA0KICAgICAgLy8g5aSp5rCU5L+h5oGvDQogICAgICB3ZWF0aGVyOiB7DQogICAgICAgIHRlbXA6IDI4LA0KICAgICAgICBzdGF0dXM6ICfmmbQnDQogICAgICB9LA0KICAgICAgDQogICAgICAvLyDlt6bkvqfoj5zljZUNCiAgICAgIG1lbnVzOiBbDQogICAgICAgIHsgbmFtZTogJ+iHqueUseW3oeinhicsIGljb246ICdlbC1pY29uLXZpZXcnIH0sDQogICAgICAgIHsgbmFtZTogJ+WfuuehgOS/oeaBrycsIGljb246ICdlbC1pY29uLWRvY3VtZW50JyB9LA0KICAgICAgICB7IG5hbWU6ICfnm5HmjqfnrqHnkIYnLCBpY29uOiAnZWwtaWNvbi12aWRlby1jYW1lcmEnIH0sDQogICAgICAgIHsgbmFtZTogJ+WIhuWMuuaAu+iniCcsIGljb246ICdlbC1pY29uLXMtZ3JpZCcgfQ0KICAgICAgXSwNCiAgICAgIA0KICAgICAgLy8g5oC75L2T57uf6K6h5pWw5o2uDQogICAgICBzdW1tYXJ5OiB7DQogICAgICAgIHRvdGFsQXJlYTogMTI1MCwNCiAgICAgICAgZXhwZWN0ZWRPdXRwdXQ6IDE1NiwNCiAgICAgICAgY3VycmVudFN0b2NrOiA4LjUsDQogICAgICAgIGFsZXJ0czogMywNCiAgICAgICAgb25saW5lRGV2aWNlczogMjQsDQogICAgICAgIHRvdGFsRGV2aWNlczogMjgsDQogICAgICAgIHdhdGVyVXNhZ2U6IDQ5DQogICAgICB9LA0KICAgICAgDQogICAgICAvLyDlnLDlnZfkv6Hmga8NCiAgICAgIGFyZWFzOiBbDQogICAgICAgIHsNCiAgICAgICAgICBuYW1lOiAn5riF5rC06Jm+5Yy6QScsDQogICAgICAgICAgc2l6ZTogMzIwLA0KICAgICAgICAgIHN0b2NrOiAxMjUwMCwNCiAgICAgICAgICBzdGF0dXM6ICfmraPluLgnLA0KICAgICAgICAgIHRvcDogJzE1JScsDQogICAgICAgICAgbGVmdDogJzIwJScsDQogICAgICAgICAgZGVzY3JpcHRpb246ICfkuLvopoHlhbvmrpbljZfnvo7nmb3lr7nomb7vvIzph4fnlKjmuIXmsLTlhbvmrpbmqKHlvI/vvIzphY3lpIfoh6rliqjmipXlloLlkozmsLTotKjnm5HmtYvns7vnu5/jgIInDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBuYW1lOiAn5riF5rC06Jm+5Yy6QicsDQogICAgICAgICAgc2l6ZTogMjgwLA0KICAgICAgICAgIHN0b2NrOiAxMTIwMCwNCiAgICAgICAgICBzdGF0dXM6ICfmraPluLgnLA0KICAgICAgICAgIHRvcDogJzE1JScsDQogICAgICAgICAgbGVmdDogJzUwJScsDQogICAgICAgICAgZGVzY3JpcHRpb246ICfljZfnvo7nmb3lr7nomb7lhbvmrpbljLrvvIzmsLTotKjkvJjoia/vvIzmurbmsKflhYXotrPjgIInDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBuYW1lOiAn56y85YW75Yy6JywNCiAgICAgICAgICBzaXplOiAxODAsDQogICAgICAgICAgc3RvY2s6IDg2MDAsDQogICAgICAgICAgc3RhdHVzOiAn5ZGK6K2mJywNCiAgICAgICAgICB0b3A6ICc0NSUnLA0KICAgICAgICAgIGxlZnQ6ICcyNSUnLA0KICAgICAgICAgIGRlc2NyaXB0aW9uOiAn6YeH55So572R566x56y85YW75qih5byP77yM6YCC5ZCI6auY5a+G5bqm5YW75q6W77yM6ZyA5rOo5oSP5rC06LSo55uR5o6n44CCJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogJ+a3t+WFu+WMuicsDQogICAgICAgICAgc2l6ZTogMjIwLA0KICAgICAgICAgIHN0b2NrOiA5ODAwLA0KICAgICAgICAgIHN0YXR1czogJ+ato+W4uCcsDQogICAgICAgICAgdG9wOiAnNDUlJywNCiAgICAgICAgICBsZWZ0OiAnNTUlJywNCiAgICAgICAgICBkZXNjcmlwdGlvbjogJ+iZvuifuea3t+WFu+WMuuWfn++8jOeUn+aAgeW5s+ihoeiJr+Wlve+8jOS6p+mHj+eos+WumuOAgicNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIG5hbWU6ICfogrLoi5fljLonLA0KICAgICAgICAgIHNpemU6IDE1MCwNCiAgICAgICAgICBzdG9jazogMTUwMDAsDQogICAgICAgICAgc3RhdHVzOiAn5q2j5bi4JywNCiAgICAgICAgICB0b3A6ICc3MCUnLA0KICAgICAgICAgIGxlZnQ6ICczNSUnLA0KICAgICAgICAgIGRlc2NyaXB0aW9uOiAn6Jm+6IuX5Z+56IKy5LiT5Yy677yM6YWN5aSH5oGS5rip6K6+5aSH5ZKM5LiT5Lia6IKy6IuX5rGg44CCJw0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgDQogICAgICAvLyDlkYrorabliJfooagNCiAgICAgIGFsZXJ0czogWw0KICAgICAgICB7IHRpbWU6ICcxNDozMicsIGNvbnRlbnQ6ICfnrLzlhbvljLrmurbmsKflgY/kvY7vvIzor7flj4rml7blpITnkIYnLCBsZXZlbDogJ3dhcm5pbmcnIH0sDQogICAgICAgIHsgdGltZTogJzEyOjE1JywgY29udGVudDogJ+a4heawtOiZvuWMukHmipXlloLlrozmiJAnLCBsZXZlbDogJ2luZm8nIH0sDQogICAgICAgIHsgdGltZTogJzEwOjQ4JywgY29udGVudDogJzPlj7flop7msKfmnLrnprvnur8nLCBsZXZlbDogJ2Vycm9yJyB9LA0KICAgICAgICB7IHRpbWU6ICcwOToyMCcsIGNvbnRlbnQ6ICfmsLTotKjmo4DmtYvmraPluLgnLCBsZXZlbDogJ3N1Y2Nlc3MnIH0sDQogICAgICAgIHsgdGltZTogJzA4OjAwJywgY29udGVudDogJ+ezu+e7n+iHquajgOWujOaIkCcsIGxldmVsOiAnaW5mbycgfQ0KICAgICAgXSwNCiAgICAgIA0KICAgICAgLy8g5Zu+6KGo5pWw5o2uDQogICAgICBjaGFydERhdGE6IHsNCiAgICAgICAgbW9udGhzOiBbJzHmnIgnLCAnMuaciCcsICcz5pyIJywgJzTmnIgnLCAnNeaciCcsICc25pyIJywgJzfmnIgnLCAnOOaciCcsICc55pyIJywgJzEw5pyIJywgJzEx5pyIJywgJzEy5pyIJ10sDQogICAgICAgIG91dHB1dDogWzg1LCA5MiwgMTAxLCA5OCwgMTE1LCAxMjgsIDE0MiwgMTM4LCAxMjUsIDEzMiwgMTQ1LCAxNTZdDQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy51cGRhdGVUaW1lKCk7DQogICAgdGhpcy50aW1lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZVRpbWUsIDEwMDApOw0KICAgIA0KICAgIC8vIOWIneWni+WMluWbvuihqOWSjDNE5Zy65pmvDQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgdGhpcy5pbml0VGhyZWVTY2VuZSgpOw0KICAgICAgdGhpcy5pbml0QmFyQ2hhcnQoKTsNCiAgICAgIHRoaXMuaW5pdEdhdWdlQ2hhcnQoKTsNCiAgICB9KTsNCiAgfSwNCiAgDQogIGJlZm9yZURlc3Ryb3koKSB7DQogICAgaWYgKHRoaXMudGltZUludGVydmFsKSB7DQogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZUludGVydmFsKTsNCiAgICB9DQogICAgLy8g6ZSA5q+B5Zu+6KGoDQogICAgaWYgKHRoaXMuYmFyQ2hhcnRJbnN0YW5jZSkgew0KICAgICAgdGhpcy5iYXJDaGFydEluc3RhbmNlLmRpc3Bvc2UoKTsNCiAgICB9DQogICAgaWYgKHRoaXMuZ2F1Z2VDaGFydEluc3RhbmNlKSB7DQogICAgICB0aGlzLmdhdWdlQ2hhcnRJbnN0YW5jZS5kaXNwb3NlKCk7DQogICAgfQ0KICAgIC8vIOmUgOavgVRocmVlLmpz6LWE5rqQDQogICAgaWYgKHRoaXMucmVuZGVyZXIpIHsNCiAgICAgIHRoaXMucmVuZGVyZXIuZGlzcG9zZSgpOw0KICAgICAgaWYgKHRoaXMuJHJlZnMudGhyZWVDb250YWluZXIpIHsNCiAgICAgICAgdGhpcy4kcmVmcy50aHJlZUNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpOw0KICAgICAgfQ0KICAgIH0NCiAgICBpZiAodGhpcy5jb250cm9scykgew0KICAgICAgdGhpcy5jb250cm9scy5kaXNwb3NlKCk7DQogICAgfQ0KICB9LA0KICANCiAgbWV0aG9kczogew0KICAgIC8vIOabtOaWsOaXtumXtA0KICAgIHVwZGF0ZVRpbWUoKSB7DQogICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOw0KICAgICAgY29uc3QgeWVhciA9IG5vdy5nZXRGdWxsWWVhcigpOw0KICAgICAgY29uc3QgbW9udGggPSBTdHJpbmcobm93LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpOw0KICAgICAgY29uc3QgZGF5ID0gU3RyaW5nKG5vdy5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7DQogICAgICBjb25zdCBob3VyID0gU3RyaW5nKG5vdy5nZXRIb3VycygpKS5wYWRTdGFydCgyLCAnMCcpOw0KICAgICAgY29uc3QgbWludXRlID0gU3RyaW5nKG5vdy5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyk7DQogICAgICBjb25zdCBzZWNvbmQgPSBTdHJpbmcobm93LmdldFNlY29uZHMoKSkucGFkU3RhcnQoMiwgJzAnKTsNCiAgICAgIGNvbnN0IHdlZWtEYXlzID0gWyfmmJ/mnJ/ml6UnLCAn5pif5pyf5LiAJywgJ+aYn+acn+S6jCcsICfmmJ/mnJ/kuIknLCAn5pif5pyf5ZubJywgJ+aYn+acn+S6lCcsICfmmJ/mnJ/lha0nXTsNCiAgICAgIGNvbnN0IHdlZWtEYXkgPSB3ZWVrRGF5c1tub3cuZ2V0RGF5KCldOw0KICAgICAgDQogICAgICB0aGlzLmN1cnJlbnRUaW1lID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfSAke3dlZWtEYXl9YDsNCiAgICB9LA0KICAgIA0KICAgIC8vIOmAieaLqeWMuuWfnw0KICAgIHNlbGVjdEFyZWEoYXJlYSkgew0KICAgICAgdGhpcy5zZWxlY3RlZEFyZWEgPSBhcmVhOw0KICAgIH0sDQogICAgDQogICAgLy8g5Yid5aeL5YyWVGhyZWUuanPlnLrmma8NCiAgICBpbml0VGhyZWVTY2VuZSgpIHsNCiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuJHJlZnMudGhyZWVDb250YWluZXI7DQogICAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuOw0KICAgICAgDQogICAgICBjb25zdCB3aWR0aCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDsNCiAgICAgIGNvbnN0IGhlaWdodCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7DQogICAgICANCiAgICAgIC8vIOWIm+W7uuWcuuaZrw0KICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOw0KICAgICAgdGhpcy5zY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKDB4MGExOTI5KTsNCiAgICAgIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZygweDBhMTkyOSwgNTAsIDIwMCk7DQogICAgICANCiAgICAgIC8vIOWIm+W7uuebuOacug0KICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNjAsIHdpZHRoIC8gaGVpZ2h0LCAwLjEsIDEwMDApOw0KICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDMwLCA0MCwgMzApOw0KICAgICAgdGhpcy5jYW1lcmEubG9va0F0KDAsIDAsIDApOw0KICAgICAgDQogICAgICAvLyDliJvlu7rmuLLmn5PlmagNCiAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSB9KTsNCiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7DQogICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTsNCiAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwOw0KICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7DQogICAgICANCiAgICAgIC8vIOa3u+WKoOi9qOmBk+aOp+WItuWZqA0KICAgICAgdGhpcy5jb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKHRoaXMuY2FtZXJhLCB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpOw0KICAgICAgdGhpcy5jb250cm9scy5lbmFibGVEYW1waW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMuY29udHJvbHMuZGFtcGluZ0ZhY3RvciA9IDAuMDU7DQogICAgICB0aGlzLmNvbnRyb2xzLm1pbkRpc3RhbmNlID0gMjA7DQogICAgICB0aGlzLmNvbnRyb2xzLm1heERpc3RhbmNlID0gMTAwOw0KICAgICAgdGhpcy5jb250cm9scy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSSAvIDIuMjsNCiAgICAgIA0KICAgICAgLy8g5re75Yqg5YWJ5rqQDQogICAgICBjb25zdCBhbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAwLjYpOw0KICAgICAgdGhpcy5zY2VuZS5hZGQoYW1iaWVudExpZ2h0KTsNCiAgICAgIA0KICAgICAgY29uc3QgZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAwLjgpOw0KICAgICAgZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5zZXQoNTAsIDUwLCA1MCk7DQogICAgICBkaXJlY3Rpb25hbExpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlOw0KICAgICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDIwNDg7DQogICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDIwNDg7DQogICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEubmVhciA9IDAuNTsNCiAgICAgIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSAyMDA7DQogICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEubGVmdCA9IC01MDsNCiAgICAgIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IDUwOw0KICAgICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLnRvcCA9IDUwOw0KICAgICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmJvdHRvbSA9IC01MDsNCiAgICAgIHRoaXMuc2NlbmUuYWRkKGRpcmVjdGlvbmFsTGlnaHQpOw0KICAgICAgDQogICAgICAvLyDliJvlu7rlnLDpnaINCiAgICAgIGNvbnN0IGdyb3VuZEdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMTAwLCAxMDApOw0KICAgICAgY29uc3QgZ3JvdW5kTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyANCiAgICAgICAgY29sb3I6IDB4MWEzYTUyLA0KICAgICAgICByb3VnaG5lc3M6IDAuOCwNCiAgICAgICAgbWV0YWxuZXNzOiAwLjINCiAgICAgIH0pOw0KICAgICAgY29uc3QgZ3JvdW5kID0gbmV3IFRIUkVFLk1lc2goZ3JvdW5kR2VvbWV0cnksIGdyb3VuZE1hdGVyaWFsKTsNCiAgICAgIGdyb3VuZC5yb3RhdGlvbi54ID0gLU1hdGguUEkgLyAyOw0KICAgICAgZ3JvdW5kLnJlY2VpdmVTaGFkb3cgPSB0cnVlOw0KICAgICAgdGhpcy5zY2VuZS5hZGQoZ3JvdW5kKTsNCiAgICAgIA0KICAgICAgLy8g5re75Yqg572R5qC86L6F5Yqp57q/DQogICAgICBjb25zdCBncmlkSGVscGVyID0gbmV3IFRIUkVFLkdyaWRIZWxwZXIoMTAwLCAyMCwgMHg0ZmFjZmUsIDB4MWU0ZDdiKTsNCiAgICAgIGdyaWRIZWxwZXIucG9zaXRpb24ueSA9IDAuMDE7DQogICAgICB0aGlzLnNjZW5lLmFkZChncmlkSGVscGVyKTsNCiAgICAgIA0KICAgICAgLy8g5Yib5bu65Yac55Sw5pa55Z2XDQogICAgICB0aGlzLmNyZWF0ZUZhcm1CbG9ja3MoKTsNCiAgICAgIA0KICAgICAgLy8g5Yid5aeL5YyW5bCE57q/5qOA5rWLDQogICAgICB0aGlzLnJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTsNCiAgICAgIHRoaXMubW91c2UgPSBuZXcgVEhSRUUuVmVjdG9yMigpOw0KICAgICAgDQogICAgICAvLyDmt7vliqDpvKDmoIfkuovku7YNCiAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25Nb3VzZUNsaWNrLmJpbmQodGhpcykpOw0KICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKSk7DQogICAgICANCiAgICAgIC8vIOeql+WPo+Wkp+Wwj+iwg+aVtA0KICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25XaW5kb3dSZXNpemUuYmluZCh0aGlzKSk7DQogICAgICANCiAgICAgIC8vIOW8gOWni+WKqOeUu+W+queOrw0KICAgICAgdGhpcy5hbmltYXRlKCk7DQogICAgfSwNCiAgICANCiAgICAvLyDliJvlu7rlhpznlLDmlrnlnZcNCiAgICBjcmVhdGVGYXJtQmxvY2tzKCkgew0KICAgICAgLy8g5qC55o2uYXJlYXPmlbDmja7liJvlu7ozROaWueWdlw0KICAgICAgY29uc3QgcG9zaXRpb25zID0gWw0KICAgICAgICB7IHg6IC0xNSwgejogLTE1IH0sDQogICAgICAgIHsgeDogNSwgejogLTE1IH0sDQogICAgICAgIHsgeDogLTEwLCB6OiA1IH0sDQogICAgICAgIHsgeDogMTAsIHo6IDUgfSwNCiAgICAgICAgeyB4OiAwLCB6OiAyMCB9DQogICAgICBdOw0KICAgICAgDQogICAgICB0aGlzLmFyZWFzLmZvckVhY2goKGFyZWEsIGluZGV4KSA9PiB7DQogICAgICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uc1tpbmRleF0gfHwgeyB4OiAwLCB6OiAwIH07DQogICAgICAgIA0KICAgICAgICAvLyDmoLnmja7pnaLnp6/orqHnrpfmlrnlnZflpKflsI8NCiAgICAgICAgY29uc3Qgc2l6ZSA9IE1hdGguc3FydChhcmVhLnNpemUpIC8gMzsNCiAgICAgICAgY29uc3QgaGVpZ2h0ID0gYXJlYS5zdG9jayAvIDIwMDA7IC8vIOagueaNruWtmOagj+aVsOmHj+iuvue9rumrmOW6pg0KICAgICAgICANCiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoc2l6ZSwgaGVpZ2h0LCBzaXplKTsNCiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoew0KICAgICAgICAgIGNvbG9yOiBhcmVhLnN0YXR1cyA9PT0gJ+ato+W4uCcgPyAweDRmYWNmZSA6IDB4ZTZhMjNjLA0KICAgICAgICAgIHJvdWdobmVzczogMC41LA0KICAgICAgICAgIG1ldGFsbmVzczogMC4zLA0KICAgICAgICAgIGVtaXNzaXZlOiBhcmVhLnN0YXR1cyA9PT0gJ+ato+W4uCcgPyAweDFlNGQ3YiA6IDB4OGI1YTAwLA0KICAgICAgICAgIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjINCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgICBjb25zdCBibG9jayA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7DQogICAgICAgIGJsb2NrLnBvc2l0aW9uLnNldChwb3MueCwgaGVpZ2h0IC8gMiwgcG9zLnopOw0KICAgICAgICBibG9jay5jYXN0U2hhZG93ID0gdHJ1ZTsNCiAgICAgICAgYmxvY2sucmVjZWl2ZVNoYWRvdyA9IHRydWU7DQogICAgICAgIA0KICAgICAgICAvLyDlrZjlgqjlhpznlLDmlbDmja4NCiAgICAgICAgYmxvY2sudXNlckRhdGEgPSB7DQogICAgICAgICAgYXJlYTogYXJlYSwNCiAgICAgICAgICBvcmlnaW5hbENvbG9yOiBtYXRlcmlhbC5jb2xvci5nZXRIZXgoKSwNCiAgICAgICAgICBvcmlnaW5hbEVtaXNzaXZlOiBtYXRlcmlhbC5lbWlzc2l2ZS5nZXRIZXgoKQ0KICAgICAgICB9Ow0KICAgICAgICANCiAgICAgICAgdGhpcy5zY2VuZS5hZGQoYmxvY2spOw0KICAgICAgICB0aGlzLmZhcm1CbG9ja3MucHVzaChibG9jayk7DQogICAgICAgIA0KICAgICAgICAvLyDmt7vliqDmloflrZfmoIfnrb7vvIjkvb/nlKhTcHJpdGXvvIkNCiAgICAgICAgdGhpcy5hZGRUZXh0TGFiZWwoYXJlYS5uYW1lLCBwb3MueCwgaGVpZ2h0ICsgMiwgcG9zLnopOw0KICAgICAgfSk7DQogICAgfSwNCiAgICANCiAgICAvLyDmt7vliqDmloflrZfmoIfnrb4NCiAgICBhZGRUZXh0TGFiZWwodGV4dCwgeCwgeSwgeikgew0KICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7DQogICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7DQogICAgICBjYW52YXMud2lkdGggPSAyNTY7DQogICAgICBjYW52YXMuaGVpZ2h0ID0gNjQ7DQogICAgICANCiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoMTUsIDMyLCA1NiwgMC44KSc7DQogICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7DQogICAgICANCiAgICAgIGNvbnRleHQuZm9udCA9ICdCb2xkIDI0cHggQXJpYWwnOw0KICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzRmYWNmZSc7DQogICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdjZW50ZXInOw0KICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsNCiAgICAgIGNvbnRleHQuZmlsbFRleHQodGV4dCwgY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIpOw0KICAgICAgDQogICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRIUkVFLkNhbnZhc1RleHR1cmUoY2FudmFzKTsNCiAgICAgIGNvbnN0IHNwcml0ZU1hdGVyaWFsID0gbmV3IFRIUkVFLlNwcml0ZU1hdGVyaWFsKHsgbWFwOiB0ZXh0dXJlIH0pOw0KICAgICAgY29uc3Qgc3ByaXRlID0gbmV3IFRIUkVFLlNwcml0ZShzcHJpdGVNYXRlcmlhbCk7DQogICAgICBzcHJpdGUucG9zaXRpb24uc2V0KHgsIHksIHopOw0KICAgICAgc3ByaXRlLnNjYWxlLnNldCg4LCAyLCAxKTsNCiAgICAgIA0KICAgICAgdGhpcy5zY2VuZS5hZGQoc3ByaXRlKTsNCiAgICB9LA0KICAgIA0KICAgIC8vIOm8oOagh+eCueWHu+S6i+S7tg0KICAgIG9uTW91c2VDbGljayhldmVudCkgew0KICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy4kcmVmcy50aHJlZUNvbnRhaW5lcjsNCiAgICAgIGNvbnN0IHJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogICAgICANCiAgICAgIHRoaXMubW91c2UueCA9ICgoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoKSAqIDIgLSAxOw0KICAgICAgdGhpcy5tb3VzZS55ID0gLSgoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wKSAvIHJlY3QuaGVpZ2h0KSAqIDIgKyAxOw0KICAgICAgDQogICAgICB0aGlzLnJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHRoaXMubW91c2UsIHRoaXMuY2FtZXJhKTsNCiAgICAgIGNvbnN0IGludGVyc2VjdHMgPSB0aGlzLnJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHRoaXMuZmFybUJsb2Nrcyk7DQogICAgICANCiAgICAgIGlmIChpbnRlcnNlY3RzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgY29uc3QgY2xpY2tlZEJsb2NrID0gaW50ZXJzZWN0c1swXS5vYmplY3Q7DQogICAgICAgIHRoaXMuc2VsZWN0QmxvY2soY2xpY2tlZEJsb2NrKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIA0KICAgIC8vIOm8oOagh+enu+WKqOS6i+S7tu+8iOmrmOS6ruaViOaenO+8iQ0KICAgIG9uTW91c2VNb3ZlKGV2ZW50KSB7DQogICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLiRyZWZzLnRocmVlQ29udGFpbmVyOw0KICAgICAgY29uc3QgcmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCiAgICAgIA0KICAgICAgdGhpcy5tb3VzZS54ID0gKChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIHJlY3Qud2lkdGgpICogMiAtIDE7DQogICAgICB0aGlzLm1vdXNlLnkgPSAtKChldmVudC5jbGllbnRZIC0gcmVjdC50b3ApIC8gcmVjdC5oZWlnaHQpICogMiArIDE7DQogICAgICANCiAgICAgIHRoaXMucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodGhpcy5tb3VzZSwgdGhpcy5jYW1lcmEpOw0KICAgICAgY29uc3QgaW50ZXJzZWN0cyA9IHRoaXMucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHModGhpcy5mYXJtQmxvY2tzKTsNCiAgICAgIA0KICAgICAgLy8g6YeN572u5omA5pyJ5pa55Z2XDQogICAgICB0aGlzLmZhcm1CbG9ja3MuZm9yRWFjaChibG9jayA9PiB7DQogICAgICAgIGlmIChibG9jayAhPT0gdGhpcy5zZWxlY3RlZEJsb2NrKSB7DQogICAgICAgICAgYmxvY2subWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHkgPSAwLjI7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgDQogICAgICAvLyDpq5jkuq7mgqzlgZznmoTmlrnlnZcNCiAgICAgIGlmIChpbnRlcnNlY3RzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgY29uc3QgaG92ZXJlZEJsb2NrID0gaW50ZXJzZWN0c1swXS5vYmplY3Q7DQogICAgICAgIGlmIChob3ZlcmVkQmxvY2sgIT09IHRoaXMuc2VsZWN0ZWRCbG9jaykgew0KICAgICAgICAgIGhvdmVyZWRCbG9jay5tYXRlcmlhbC5lbWlzc2l2ZUludGVuc2l0eSA9IDAuNTsNCiAgICAgICAgfQ0KICAgICAgICBjb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JzsNCiAgICAgIH0NCiAgICB9LA0KICAgIA0KICAgIC8vIOmAieS4reaWueWdlw0KICAgIHNlbGVjdEJsb2NrKGJsb2NrKSB7DQogICAgICAvLyDph43nva7kuYvliY3pgInkuK3nmoTmlrnlnZcNCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQmxvY2spIHsNCiAgICAgICAgdGhpcy5zZWxlY3RlZEJsb2NrLm1hdGVyaWFsLmVtaXNzaXZlSW50ZW5zaXR5ID0gMC4yOw0KICAgICAgfQ0KICAgICAgDQogICAgICAvLyDpq5jkuq7mlrDpgInkuK3nmoTmlrnlnZcNCiAgICAgIHRoaXMuc2VsZWN0ZWRCbG9jayA9IGJsb2NrOw0KICAgICAgYmxvY2subWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHkgPSAwLjg7DQogICAgICANCiAgICAgIC8vIOabtOaWsOWPs+S+p+mdouadv+S/oeaBrw0KICAgICAgdGhpcy5zZWxlY3RlZEFyZWEgPSBibG9jay51c2VyRGF0YS5hcmVhOw0KICAgIH0sDQogICAgDQogICAgLy8g56qX5Y+j5aSn5bCP6LCD5pW0DQogICAgb25XaW5kb3dSZXNpemUoKSB7DQogICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLiRyZWZzLnRocmVlQ29udGFpbmVyOw0KICAgICAgaWYgKCFjb250YWluZXIpIHJldHVybjsNCiAgICAgIA0KICAgICAgY29uc3Qgd2lkdGggPSBjb250YWluZXIuY2xpZW50V2lkdGg7DQogICAgICBjb25zdCBoZWlnaHQgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0Ow0KICAgICAgDQogICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB3aWR0aCAvIGhlaWdodDsNCiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTsNCiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTsNCiAgICB9LA0KICAgIA0KICAgIC8vIOWKqOeUu+W+queOrw0KICAgIGFuaW1hdGUoKSB7DQogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlLmJpbmQodGhpcykpOw0KICAgICAgDQogICAgICBpZiAodGhpcy5jb250cm9scykgew0KICAgICAgICB0aGlzLmNvbnRyb2xzLnVwZGF0ZSgpOw0KICAgICAgfQ0KICAgICAgDQogICAgICBpZiAodGhpcy5yZW5kZXJlciAmJiB0aGlzLnNjZW5lICYmIHRoaXMuY2FtZXJhKSB7DQogICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIA0KICAgIC8vIOWIneWni+WMluafseeKtuWbvg0KICAgIGluaXRCYXJDaGFydCgpIHsNCiAgICAgIGlmICghdGhpcy4kcmVmcy5iYXJDaGFydCkgcmV0dXJuOw0KICAgICAgDQogICAgICB0aGlzLmJhckNoYXJ0SW5zdGFuY2UgPSBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5iYXJDaGFydCk7DQogICAgICANCiAgICAgIGNvbnN0IG9wdGlvbiA9IHsNCiAgICAgICAgZ3JpZDogew0KICAgICAgICAgIHRvcDogJzE1JScsDQogICAgICAgICAgbGVmdDogJzEwJScsDQogICAgICAgICAgcmlnaHQ6ICcxMCUnLA0KICAgICAgICAgIGJvdHRvbTogJzE1JScNCiAgICAgICAgfSwNCiAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLA0KICAgICAgICAgIGRhdGE6IHRoaXMuY2hhcnREYXRhLm1vbnRocywNCiAgICAgICAgICBheGlzTGluZTogew0KICAgICAgICAgICAgbGluZVN0eWxlOiB7IGNvbG9yOiAnIzRhNWY3YScgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgYXhpc0xhYmVsOiB7DQogICAgICAgICAgICBjb2xvcjogJyM4YjliYjMnDQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICB5QXhpczogew0KICAgICAgICAgIHR5cGU6ICd2YWx1ZScsDQogICAgICAgICAgbmFtZTogJ+S6p+mHjyjlkKgpJywNCiAgICAgICAgICBuYW1lVGV4dFN0eWxlOiB7DQogICAgICAgICAgICBjb2xvcjogJyM4YjliYjMnDQogICAgICAgICAgfSwNCiAgICAgICAgICBheGlzTGluZTogew0KICAgICAgICAgICAgbGluZVN0eWxlOiB7IGNvbG9yOiAnIzRhNWY3YScgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgYXhpc0xhYmVsOiB7DQogICAgICAgICAgICBjb2xvcjogJyM4YjliYjMnDQogICAgICAgICAgfSwNCiAgICAgICAgICBzcGxpdExpbmU6IHsNCiAgICAgICAgICAgIGxpbmVTdHlsZTogew0KICAgICAgICAgICAgICBjb2xvcjogJyMyYTNmNWYnLA0KICAgICAgICAgICAgICB0eXBlOiAnZGFzaGVkJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2VyaWVzOiBbew0KICAgICAgICAgIGRhdGE6IHRoaXMuY2hhcnREYXRhLm91dHB1dCwNCiAgICAgICAgICB0eXBlOiAnYmFyJywNCiAgICAgICAgICBiYXJXaWR0aDogJzQwJScsDQogICAgICAgICAgaXRlbVN0eWxlOiB7DQogICAgICAgICAgICBjb2xvcjogbmV3IGVjaGFydHMuZ3JhcGhpYy5MaW5lYXJHcmFkaWVudCgwLCAwLCAwLCAxLCBbDQogICAgICAgICAgICAgIHsgb2Zmc2V0OiAwLCBjb2xvcjogJyM0ZmFjZmUnIH0sDQogICAgICAgICAgICAgIHsgb2Zmc2V0OiAxLCBjb2xvcjogJyMwMGYyZmUnIH0NCiAgICAgICAgICAgIF0pLA0KICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBbNCwgNCwgMCwgMF0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgICBzaG93OiB0cnVlLA0KICAgICAgICAgICAgcG9zaXRpb246ICd0b3AnLA0KICAgICAgICAgICAgY29sb3I6ICcjOGI5YmIzJywNCiAgICAgICAgICAgIGZvbnRTaXplOiAxMA0KICAgICAgICAgIH0NCiAgICAgICAgfV0NCiAgICAgIH07DQogICAgICANCiAgICAgIHRoaXMuYmFyQ2hhcnRJbnN0YW5jZS5zZXRPcHRpb24ob3B0aW9uKTsNCiAgICAgIA0KICAgICAgLy8g6Ieq6YCC5bqUDQogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gew0KICAgICAgICB0aGlzLmJhckNoYXJ0SW5zdGFuY2UgJiYgdGhpcy5iYXJDaGFydEluc3RhbmNlLnJlc2l6ZSgpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICANCiAgICAvLyDliJ3lp4vljJbku6rooajnm5gNCiAgICBpbml0R2F1Z2VDaGFydCgpIHsNCiAgICAgIGlmICghdGhpcy4kcmVmcy5nYXVnZUNoYXJ0KSByZXR1cm47DQogICAgICANCiAgICAgIHRoaXMuZ2F1Z2VDaGFydEluc3RhbmNlID0gZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMuZ2F1Z2VDaGFydCk7DQogICAgICANCiAgICAgIGNvbnN0IG9wdGlvbiA9IHsNCiAgICAgICAgc2VyaWVzOiBbew0KICAgICAgICAgIHR5cGU6ICdnYXVnZScsDQogICAgICAgICAgc3RhcnRBbmdsZTogMTgwLA0KICAgICAgICAgIGVuZEFuZ2xlOiAwLA0KICAgICAgICAgIG1pbjogMCwNCiAgICAgICAgICBtYXg6IDEwMCwNCiAgICAgICAgICByYWRpdXM6ICc5MCUnLA0KICAgICAgICAgIGNlbnRlcjogWyc1MCUnLCAnNzAlJ10sDQogICAgICAgICAgc3BsaXROdW1iZXI6IDEwLA0KICAgICAgICAgIGF4aXNMaW5lOiB7DQogICAgICAgICAgICBsaW5lU3R5bGU6IHsNCiAgICAgICAgICAgICAgd2lkdGg6IDEyLA0KICAgICAgICAgICAgICBjb2xvcjogWw0KICAgICAgICAgICAgICAgIFswLjMsICcjNjdDMjNBJ10sDQogICAgICAgICAgICAgICAgWzAuNywgJyNFNkEyM0MnXSwNCiAgICAgICAgICAgICAgICBbMSwgJyNGNTZDNkMnXQ0KICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9DQogICAgICAgICAgfSwNCiAgICAgICAgICBwb2ludGVyOiB7DQogICAgICAgICAgICBpY29uOiAncGF0aDovL00yMDkwLjM2Mzg5LDYxNS4zMDk5OSBMMjA5MC4zNjM4OSw2MTUuMzA5OTkgQzIwOTEuNDgzNzIsNjE1LjMwOTk5IDIwOTIuNDAzODMsNjE2LjE5NDAyOCAyMDkyLjQ0ODU5LDYxNy4zMTI5NTYgTDIwOTYuOTA2OTgsNzI4Ljc1NTkyOSBDMjA5Ny4wNTE1NSw3MzIuMzY5NTc3IDIwOTQuMjM5Myw3MzUuNDE2MjEyIDIwOTAuNjI1NjYsNzM1LjU2MDc4IEMyMDkwLjUzODQ1LDczNS41NjQyNjkgMjA5MC40NTExNyw3MzUuNTY2MDE0IDIwOTAuMzYzODksNzM1LjU2NjAxNCBMMjA5MC4zNjM4OSw3MzUuNTY2MDE0IEMyMDg2Ljc0NzM2LDczNS41NjYwMTQgMjA4My44MTU1Nyw3MzIuNjM0MjMgMjA4My44MTU1Nyw3MjkuMDE3NjkyIEMyMDgzLjgxNTU3LDcyOC45MzA0MTIgMjA4My44MTczMiw3MjguODQzMTQgMjA4My44MjA4MSw3MjguNzU1OTI5IEwyMDg4LjI3OTIsNjE3LjMxMjk1NiBDMjA4OC4zMjM5Niw2MTYuMTk0MDI4IDIwODkuMjQ0MDcsNjE1LjMwOTk5IDIwOTAuMzYzODksNjE1LjMwOTk5IFonLA0KICAgICAgICAgICAgbGVuZ3RoOiAnNzUlJywNCiAgICAgICAgICAgIHdpZHRoOiA4LA0KICAgICAgICAgICAgb2Zmc2V0Q2VudGVyOiBbMCwgJzUlJ10sDQogICAgICAgICAgICBpdGVtU3R5bGU6IHsNCiAgICAgICAgICAgICAgY29sb3I6ICcjNGZhY2ZlJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgYXhpc1RpY2s6IHsNCiAgICAgICAgICAgIGxlbmd0aDogOCwNCiAgICAgICAgICAgIGxpbmVTdHlsZTogew0KICAgICAgICAgICAgICBjb2xvcjogJ2F1dG8nLA0KICAgICAgICAgICAgICB3aWR0aDogMQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgc3BsaXRMaW5lOiB7DQogICAgICAgICAgICBsZW5ndGg6IDEyLA0KICAgICAgICAgICAgbGluZVN0eWxlOiB7DQogICAgICAgICAgICAgIGNvbG9yOiAnYXV0bycsDQogICAgICAgICAgICAgIHdpZHRoOiAyDQogICAgICAgICAgICB9DQogICAgICAgICAgfSwNCiAgICAgICAgICBheGlzTGFiZWw6IHsNCiAgICAgICAgICAgIGNvbG9yOiAnIzhiOWJiMycsDQogICAgICAgICAgICBmb250U2l6ZTogMTAsDQogICAgICAgICAgICBkaXN0YW5jZTogLTQwDQogICAgICAgICAgfSwNCiAgICAgICAgICB0aXRsZTogew0KICAgICAgICAgICAgb2Zmc2V0Q2VudGVyOiBbMCwgJy0yMCUnXSwNCiAgICAgICAgICAgIGZvbnRTaXplOiAxNCwNCiAgICAgICAgICAgIGNvbG9yOiAnIzhiOWJiMycNCiAgICAgICAgICB9LA0KICAgICAgICAgIGRldGFpbDogew0KICAgICAgICAgICAgZm9udFNpemU6IDI0LA0KICAgICAgICAgICAgb2Zmc2V0Q2VudGVyOiBbMCwgJzAlJ10sDQogICAgICAgICAgICB2YWx1ZUFuaW1hdGlvbjogdHJ1ZSwNCiAgICAgICAgICAgIGZvcm1hdHRlcjogJ3t2YWx1ZX0lJywNCiAgICAgICAgICAgIGNvbG9yOiAnIzRmYWNmZScNCiAgICAgICAgICB9LA0KICAgICAgICAgIGRhdGE6IFt7DQogICAgICAgICAgICB2YWx1ZTogdGhpcy5zdW1tYXJ5LndhdGVyVXNhZ2UsDQogICAgICAgICAgICBuYW1lOiAn55So5rC0546HJw0KICAgICAgICAgIH1dDQogICAgICAgIH1dDQogICAgICB9Ow0KICAgICAgDQogICAgICB0aGlzLmdhdWdlQ2hhcnRJbnN0YW5jZS5zZXRPcHRpb24ob3B0aW9uKTsNCiAgICAgIA0KICAgICAgLy8g6Ieq6YCC5bqUDQogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gew0KICAgICAgICB0aGlzLmdhdWdlQ2hhcnRJbnN0YW5jZSAmJiB0aGlzLmdhdWdlQ2hhcnRJbnN0YW5jZS5yZXNpemUoKTsNCiAgICAgIH0pOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["FarmBigScreen.vue"],"names":[],"mappings":";AAsIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FarmBigScreen.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"big-screen\">\r\n    <!-- 顶部条 -->\r\n    <header class=\"top-bar\">\r\n      <div class=\"left-title\">\r\n        <i class=\"el-icon-s-data\"></i>\r\n        智慧农场一体化监控平台\r\n      </div>\r\n      <div class=\"center-time\">\r\n        {{ currentTime }}\r\n      </div>\r\n      <div class=\"right-weather\">\r\n        <i class=\"el-icon-sunny\"></i>\r\n        {{ weather.temp }}°C {{ weather.status }}\r\n      </div>\r\n    </header>\r\n\r\n    <!-- 左侧菜单 -->\r\n    <aside class=\"left-sidebar\">\r\n      <div \r\n        v-for=\"(menu, index) in menus\" \r\n        :key=\"index\"\r\n        class=\"menu-item\"\r\n        :class=\"{ active: activeMenu === index }\"\r\n        @click=\"activeMenu = index\"\r\n      >\r\n        <i :class=\"menu.icon\"></i>\r\n        <span>{{ menu.name }}</span>\r\n      </div>\r\n    </aside>\r\n\r\n    <!-- 中心主视图区 -->\r\n    <main class=\"center-map\">\r\n      <div class=\"map-container\">\r\n        <!-- Three.js 3D 场景容器 -->\r\n        <div ref=\"threeContainer\" class=\"three-container\"></div>\r\n      </div>\r\n    </main>\r\n\r\n    <!-- 右侧信息面板 -->\r\n    <aside class=\"right-panel\">\r\n      <!-- 监控预览 -->\r\n      <div class=\"monitor-preview\">\r\n        <div class=\"panel-title\">监控预览</div>\r\n        <div class=\"preview-image\"></div>\r\n        <div class=\"preview-info\">\r\n          <h4>{{ selectedArea.name || '请选择区域' }}</h4>\r\n          <p>{{ selectedArea.description || '点击地图上的区域查看详情' }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 统计信息 -->\r\n      <div class=\"stats-panel\">\r\n        <div class=\"panel-title\">实时监控</div>\r\n        \r\n        <!-- 环形仪表盘 -->\r\n        <div class=\"gauge-chart\" ref=\"gaugeChart\"></div>\r\n        \r\n        <!-- 统计卡片 -->\r\n        <div class=\"stat-cards\">\r\n          <div class=\"stat-card\">\r\n            <div class=\"stat-label\">今日告警</div>\r\n            <div class=\"stat-value warning\">{{ summary.alerts }}</div>\r\n          </div>\r\n          <div class=\"stat-card\">\r\n            <div class=\"stat-label\">设备在线</div>\r\n            <div class=\"stat-value success\">{{ summary.onlineDevices }}/{{ summary.totalDevices }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </aside>\r\n\r\n    <!-- 底部数据与图表区域 -->\r\n    <footer class=\"bottom-stats\">\r\n      <!-- 左下：生产指标 -->\r\n      <div class=\"production-stats\">\r\n        <div class=\"panel-title\">生产指标概览</div>\r\n        <div class=\"stat-items\">\r\n          <div class=\"stat-item\">\r\n            <div class=\"stat-icon\" style=\"background: #409EFF;\">\r\n              <i class=\"el-icon-s-grid\"></i>\r\n            </div>\r\n            <div class=\"stat-content\">\r\n              <div class=\"stat-name\">养殖总面积</div>\r\n              <div class=\"stat-num\">{{ summary.totalArea }}<span class=\"unit\">亩</span></div>\r\n            </div>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <div class=\"stat-icon\" style=\"background: #67C23A;\">\r\n              <i class=\"el-icon-s-goods\"></i>\r\n            </div>\r\n            <div class=\"stat-content\">\r\n              <div class=\"stat-name\">预计产量</div>\r\n              <div class=\"stat-num\">{{ summary.expectedOutput }}<span class=\"unit\">吨</span></div>\r\n            </div>\r\n          </div>\r\n          <div class=\"stat-item\">\r\n            <div class=\"stat-icon\" style=\"background: #E6A23C;\">\r\n              <i class=\"el-icon-s-data\"></i>\r\n            </div>\r\n            <div class=\"stat-content\">\r\n              <div class=\"stat-name\">当前存栏</div>\r\n              <div class=\"stat-num\">{{ summary.currentStock }}<span class=\"unit\">万尾</span></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 中间：柱状图 -->\r\n      <div class=\"chart-panel\">\r\n        <div class=\"panel-title\">月度产量统计</div>\r\n        <div class=\"bar-chart\" ref=\"barChart\"></div>\r\n      </div>\r\n\r\n      <!-- 右下：告警列表 -->\r\n      <div class=\"alert-list\">\r\n        <div class=\"panel-title\">近期告警</div>\r\n        <div class=\"alert-items\">\r\n          <div \r\n            v-for=\"(alert, index) in alerts\" \r\n            :key=\"index\"\r\n            class=\"alert-item\"\r\n            :class=\"'alert-' + alert.level\"\r\n          >\r\n            <div class=\"alert-time\">{{ alert.time }}</div>\r\n            <div class=\"alert-content\">{{ alert.content }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts';\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\n\r\nexport default {\r\n  name: 'FarmBigScreen',\r\n  data() {\r\n    return {\r\n      currentTime: '',\r\n      activeMenu: 0,\r\n      selectedArea: {},\r\n      \r\n      // Three.js 相关\r\n      scene: null,\r\n      camera: null,\r\n      renderer: null,\r\n      controls: null,\r\n      farmBlocks: [], // 存储农田方块对象\r\n      raycaster: null,\r\n      mouse: null,\r\n      selectedBlock: null,\r\n      \r\n      // 天气信息\r\n      weather: {\r\n        temp: 28,\r\n        status: '晴'\r\n      },\r\n      \r\n      // 左侧菜单\r\n      menus: [\r\n        { name: '自由巡视', icon: 'el-icon-view' },\r\n        { name: '基础信息', icon: 'el-icon-document' },\r\n        { name: '监控管理', icon: 'el-icon-video-camera' },\r\n        { name: '分区总览', icon: 'el-icon-s-grid' }\r\n      ],\r\n      \r\n      // 总体统计数据\r\n      summary: {\r\n        totalArea: 1250,\r\n        expectedOutput: 156,\r\n        currentStock: 8.5,\r\n        alerts: 3,\r\n        onlineDevices: 24,\r\n        totalDevices: 28,\r\n        waterUsage: 49\r\n      },\r\n      \r\n      // 地块信息\r\n      areas: [\r\n        {\r\n          name: '清水虾区A',\r\n          size: 320,\r\n          stock: 12500,\r\n          status: '正常',\r\n          top: '15%',\r\n          left: '20%',\r\n          description: '主要养殖南美白对虾，采用清水养殖模式，配备自动投喂和水质监测系统。'\r\n        },\r\n        {\r\n          name: '清水虾区B',\r\n          size: 280,\r\n          stock: 11200,\r\n          status: '正常',\r\n          top: '15%',\r\n          left: '50%',\r\n          description: '南美白对虾养殖区，水质优良，溶氧充足。'\r\n        },\r\n        {\r\n          name: '笼养区',\r\n          size: 180,\r\n          stock: 8600,\r\n          status: '告警',\r\n          top: '45%',\r\n          left: '25%',\r\n          description: '采用网箱笼养模式，适合高密度养殖，需注意水质监控。'\r\n        },\r\n        {\r\n          name: '混养区',\r\n          size: 220,\r\n          stock: 9800,\r\n          status: '正常',\r\n          top: '45%',\r\n          left: '55%',\r\n          description: '虾蟹混养区域，生态平衡良好，产量稳定。'\r\n        },\r\n        {\r\n          name: '育苗区',\r\n          size: 150,\r\n          stock: 15000,\r\n          status: '正常',\r\n          top: '70%',\r\n          left: '35%',\r\n          description: '虾苗培育专区，配备恒温设备和专业育苗池。'\r\n        }\r\n      ],\r\n      \r\n      // 告警列表\r\n      alerts: [\r\n        { time: '14:32', content: '笼养区溶氧偏低，请及时处理', level: 'warning' },\r\n        { time: '12:15', content: '清水虾区A投喂完成', level: 'info' },\r\n        { time: '10:48', content: '3号增氧机离线', level: 'error' },\r\n        { time: '09:20', content: '水质检测正常', level: 'success' },\r\n        { time: '08:00', content: '系统自检完成', level: 'info' }\r\n      ],\r\n      \r\n      // 图表数据\r\n      chartData: {\r\n        months: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\r\n        output: [85, 92, 101, 98, 115, 128, 142, 138, 125, 132, 145, 156]\r\n      }\r\n    };\r\n  },\r\n  \r\n  mounted() {\r\n    this.updateTime();\r\n    this.timeInterval = setInterval(this.updateTime, 1000);\r\n    \r\n    // 初始化图表和3D场景\r\n    this.$nextTick(() => {\r\n      this.initThreeScene();\r\n      this.initBarChart();\r\n      this.initGaugeChart();\r\n    });\r\n  },\r\n  \r\n  beforeDestroy() {\r\n    if (this.timeInterval) {\r\n      clearInterval(this.timeInterval);\r\n    }\r\n    // 销毁图表\r\n    if (this.barChartInstance) {\r\n      this.barChartInstance.dispose();\r\n    }\r\n    if (this.gaugeChartInstance) {\r\n      this.gaugeChartInstance.dispose();\r\n    }\r\n    // 销毁Three.js资源\r\n    if (this.renderer) {\r\n      this.renderer.dispose();\r\n      if (this.$refs.threeContainer) {\r\n        this.$refs.threeContainer.removeChild(this.renderer.domElement);\r\n      }\r\n    }\r\n    if (this.controls) {\r\n      this.controls.dispose();\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    // 更新时间\r\n    updateTime() {\r\n      const now = new Date();\r\n      const year = now.getFullYear();\r\n      const month = String(now.getMonth() + 1).padStart(2, '0');\r\n      const day = String(now.getDate()).padStart(2, '0');\r\n      const hour = String(now.getHours()).padStart(2, '0');\r\n      const minute = String(now.getMinutes()).padStart(2, '0');\r\n      const second = String(now.getSeconds()).padStart(2, '0');\r\n      const weekDays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];\r\n      const weekDay = weekDays[now.getDay()];\r\n      \r\n      this.currentTime = `${year}-${month}-${day} ${hour}:${minute}:${second} ${weekDay}`;\r\n    },\r\n    \r\n    // 选择区域\r\n    selectArea(area) {\r\n      this.selectedArea = area;\r\n    },\r\n    \r\n    // 初始化Three.js场景\r\n    initThreeScene() {\r\n      const container = this.$refs.threeContainer;\r\n      if (!container) return;\r\n      \r\n      const width = container.clientWidth;\r\n      const height = container.clientHeight;\r\n      \r\n      // 创建场景\r\n      this.scene = new THREE.Scene();\r\n      this.scene.background = new THREE.Color(0x0a1929);\r\n      this.scene.fog = new THREE.Fog(0x0a1929, 50, 200);\r\n      \r\n      // 创建相机\r\n      this.camera = new THREE.PerspectiveCamera(60, width / height, 0.1, 1000);\r\n      this.camera.position.set(30, 40, 30);\r\n      this.camera.lookAt(0, 0, 0);\r\n      \r\n      // 创建渲染器\r\n      this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n      this.renderer.setSize(width, height);\r\n      this.renderer.setPixelRatio(window.devicePixelRatio);\r\n      this.renderer.shadowMap.enabled = true;\r\n      this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n      container.appendChild(this.renderer.domElement);\r\n      \r\n      // 添加轨道控制器\r\n      this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n      this.controls.enableDamping = true;\r\n      this.controls.dampingFactor = 0.05;\r\n      this.controls.minDistance = 20;\r\n      this.controls.maxDistance = 100;\r\n      this.controls.maxPolarAngle = Math.PI / 2.2;\r\n      \r\n      // 添加光源\r\n      const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);\r\n      this.scene.add(ambientLight);\r\n      \r\n      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\r\n      directionalLight.position.set(50, 50, 50);\r\n      directionalLight.castShadow = true;\r\n      directionalLight.shadow.mapSize.width = 2048;\r\n      directionalLight.shadow.mapSize.height = 2048;\r\n      directionalLight.shadow.camera.near = 0.5;\r\n      directionalLight.shadow.camera.far = 200;\r\n      directionalLight.shadow.camera.left = -50;\r\n      directionalLight.shadow.camera.right = 50;\r\n      directionalLight.shadow.camera.top = 50;\r\n      directionalLight.shadow.camera.bottom = -50;\r\n      this.scene.add(directionalLight);\r\n      \r\n      // 创建地面\r\n      const groundGeometry = new THREE.PlaneGeometry(100, 100);\r\n      const groundMaterial = new THREE.MeshStandardMaterial({ \r\n        color: 0x1a3a52,\r\n        roughness: 0.8,\r\n        metalness: 0.2\r\n      });\r\n      const ground = new THREE.Mesh(groundGeometry, groundMaterial);\r\n      ground.rotation.x = -Math.PI / 2;\r\n      ground.receiveShadow = true;\r\n      this.scene.add(ground);\r\n      \r\n      // 添加网格辅助线\r\n      const gridHelper = new THREE.GridHelper(100, 20, 0x4facfe, 0x1e4d7b);\r\n      gridHelper.position.y = 0.01;\r\n      this.scene.add(gridHelper);\r\n      \r\n      // 创建农田方块\r\n      this.createFarmBlocks();\r\n      \r\n      // 初始化射线检测\r\n      this.raycaster = new THREE.Raycaster();\r\n      this.mouse = new THREE.Vector2();\r\n      \r\n      // 添加鼠标事件\r\n      container.addEventListener('click', this.onMouseClick.bind(this));\r\n      container.addEventListener('mousemove', this.onMouseMove.bind(this));\r\n      \r\n      // 窗口大小调整\r\n      window.addEventListener('resize', this.onWindowResize.bind(this));\r\n      \r\n      // 开始动画循环\r\n      this.animate();\r\n    },\r\n    \r\n    // 创建农田方块\r\n    createFarmBlocks() {\r\n      // 根据areas数据创建3D方块\r\n      const positions = [\r\n        { x: -15, z: -15 },\r\n        { x: 5, z: -15 },\r\n        { x: -10, z: 5 },\r\n        { x: 10, z: 5 },\r\n        { x: 0, z: 20 }\r\n      ];\r\n      \r\n      this.areas.forEach((area, index) => {\r\n        const pos = positions[index] || { x: 0, z: 0 };\r\n        \r\n        // 根据面积计算方块大小\r\n        const size = Math.sqrt(area.size) / 3;\r\n        const height = area.stock / 2000; // 根据存栏数量设置高度\r\n        \r\n        const geometry = new THREE.BoxGeometry(size, height, size);\r\n        const material = new THREE.MeshStandardMaterial({\r\n          color: area.status === '正常' ? 0x4facfe : 0xe6a23c,\r\n          roughness: 0.5,\r\n          metalness: 0.3,\r\n          emissive: area.status === '正常' ? 0x1e4d7b : 0x8b5a00,\r\n          emissiveIntensity: 0.2\r\n        });\r\n        \r\n        const block = new THREE.Mesh(geometry, material);\r\n        block.position.set(pos.x, height / 2, pos.z);\r\n        block.castShadow = true;\r\n        block.receiveShadow = true;\r\n        \r\n        // 存储农田数据\r\n        block.userData = {\r\n          area: area,\r\n          originalColor: material.color.getHex(),\r\n          originalEmissive: material.emissive.getHex()\r\n        };\r\n        \r\n        this.scene.add(block);\r\n        this.farmBlocks.push(block);\r\n        \r\n        // 添加文字标签（使用Sprite）\r\n        this.addTextLabel(area.name, pos.x, height + 2, pos.z);\r\n      });\r\n    },\r\n    \r\n    // 添加文字标签\r\n    addTextLabel(text, x, y, z) {\r\n      const canvas = document.createElement('canvas');\r\n      const context = canvas.getContext('2d');\r\n      canvas.width = 256;\r\n      canvas.height = 64;\r\n      \r\n      context.fillStyle = 'rgba(15, 32, 56, 0.8)';\r\n      context.fillRect(0, 0, canvas.width, canvas.height);\r\n      \r\n      context.font = 'Bold 24px Arial';\r\n      context.fillStyle = '#4facfe';\r\n      context.textAlign = 'center';\r\n      context.textBaseline = 'middle';\r\n      context.fillText(text, canvas.width / 2, canvas.height / 2);\r\n      \r\n      const texture = new THREE.CanvasTexture(canvas);\r\n      const spriteMaterial = new THREE.SpriteMaterial({ map: texture });\r\n      const sprite = new THREE.Sprite(spriteMaterial);\r\n      sprite.position.set(x, y, z);\r\n      sprite.scale.set(8, 2, 1);\r\n      \r\n      this.scene.add(sprite);\r\n    },\r\n    \r\n    // 鼠标点击事件\r\n    onMouseClick(event) {\r\n      const container = this.$refs.threeContainer;\r\n      const rect = container.getBoundingClientRect();\r\n      \r\n      this.mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\r\n      this.mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\r\n      \r\n      this.raycaster.setFromCamera(this.mouse, this.camera);\r\n      const intersects = this.raycaster.intersectObjects(this.farmBlocks);\r\n      \r\n      if (intersects.length > 0) {\r\n        const clickedBlock = intersects[0].object;\r\n        this.selectBlock(clickedBlock);\r\n      }\r\n    },\r\n    \r\n    // 鼠标移动事件（高亮效果）\r\n    onMouseMove(event) {\r\n      const container = this.$refs.threeContainer;\r\n      const rect = container.getBoundingClientRect();\r\n      \r\n      this.mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\r\n      this.mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\r\n      \r\n      this.raycaster.setFromCamera(this.mouse, this.camera);\r\n      const intersects = this.raycaster.intersectObjects(this.farmBlocks);\r\n      \r\n      // 重置所有方块\r\n      this.farmBlocks.forEach(block => {\r\n        if (block !== this.selectedBlock) {\r\n          block.material.emissiveIntensity = 0.2;\r\n        }\r\n      });\r\n      \r\n      // 高亮悬停的方块\r\n      if (intersects.length > 0) {\r\n        const hoveredBlock = intersects[0].object;\r\n        if (hoveredBlock !== this.selectedBlock) {\r\n          hoveredBlock.material.emissiveIntensity = 0.5;\r\n        }\r\n        container.style.cursor = 'pointer';\r\n      } else {\r\n        container.style.cursor = 'default';\r\n      }\r\n    },\r\n    \r\n    // 选中方块\r\n    selectBlock(block) {\r\n      // 重置之前选中的方块\r\n      if (this.selectedBlock) {\r\n        this.selectedBlock.material.emissiveIntensity = 0.2;\r\n      }\r\n      \r\n      // 高亮新选中的方块\r\n      this.selectedBlock = block;\r\n      block.material.emissiveIntensity = 0.8;\r\n      \r\n      // 更新右侧面板信息\r\n      this.selectedArea = block.userData.area;\r\n    },\r\n    \r\n    // 窗口大小调整\r\n    onWindowResize() {\r\n      const container = this.$refs.threeContainer;\r\n      if (!container) return;\r\n      \r\n      const width = container.clientWidth;\r\n      const height = container.clientHeight;\r\n      \r\n      this.camera.aspect = width / height;\r\n      this.camera.updateProjectionMatrix();\r\n      this.renderer.setSize(width, height);\r\n    },\r\n    \r\n    // 动画循环\r\n    animate() {\r\n      requestAnimationFrame(this.animate.bind(this));\r\n      \r\n      if (this.controls) {\r\n        this.controls.update();\r\n      }\r\n      \r\n      if (this.renderer && this.scene && this.camera) {\r\n        this.renderer.render(this.scene, this.camera);\r\n      }\r\n    },\r\n    \r\n    // 初始化柱状图\r\n    initBarChart() {\r\n      if (!this.$refs.barChart) return;\r\n      \r\n      this.barChartInstance = echarts.init(this.$refs.barChart);\r\n      \r\n      const option = {\r\n        grid: {\r\n          top: '15%',\r\n          left: '10%',\r\n          right: '10%',\r\n          bottom: '15%'\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: this.chartData.months,\r\n          axisLine: {\r\n            lineStyle: { color: '#4a5f7a' }\r\n          },\r\n          axisLabel: {\r\n            color: '#8b9bb3'\r\n          }\r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          name: '产量(吨)',\r\n          nameTextStyle: {\r\n            color: '#8b9bb3'\r\n          },\r\n          axisLine: {\r\n            lineStyle: { color: '#4a5f7a' }\r\n          },\r\n          axisLabel: {\r\n            color: '#8b9bb3'\r\n          },\r\n          splitLine: {\r\n            lineStyle: {\r\n              color: '#2a3f5f',\r\n              type: 'dashed'\r\n            }\r\n          }\r\n        },\r\n        series: [{\r\n          data: this.chartData.output,\r\n          type: 'bar',\r\n          barWidth: '40%',\r\n          itemStyle: {\r\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n              { offset: 0, color: '#4facfe' },\r\n              { offset: 1, color: '#00f2fe' }\r\n            ]),\r\n            borderRadius: [4, 4, 0, 0]\r\n          },\r\n          label: {\r\n            show: true,\r\n            position: 'top',\r\n            color: '#8b9bb3',\r\n            fontSize: 10\r\n          }\r\n        }]\r\n      };\r\n      \r\n      this.barChartInstance.setOption(option);\r\n      \r\n      // 自适应\r\n      window.addEventListener('resize', () => {\r\n        this.barChartInstance && this.barChartInstance.resize();\r\n      });\r\n    },\r\n    \r\n    // 初始化仪表盘\r\n    initGaugeChart() {\r\n      if (!this.$refs.gaugeChart) return;\r\n      \r\n      this.gaugeChartInstance = echarts.init(this.$refs.gaugeChart);\r\n      \r\n      const option = {\r\n        series: [{\r\n          type: 'gauge',\r\n          startAngle: 180,\r\n          endAngle: 0,\r\n          min: 0,\r\n          max: 100,\r\n          radius: '90%',\r\n          center: ['50%', '70%'],\r\n          splitNumber: 10,\r\n          axisLine: {\r\n            lineStyle: {\r\n              width: 12,\r\n              color: [\r\n                [0.3, '#67C23A'],\r\n                [0.7, '#E6A23C'],\r\n                [1, '#F56C6C']\r\n              ]\r\n            }\r\n          },\r\n          pointer: {\r\n            icon: 'path://M2090.36389,615.30999 L2090.36389,615.30999 C2091.48372,615.30999 2092.40383,616.194028 2092.44859,617.312956 L2096.90698,728.755929 C2097.05155,732.369577 2094.2393,735.416212 2090.62566,735.56078 C2090.53845,735.564269 2090.45117,735.566014 2090.36389,735.566014 L2090.36389,735.566014 C2086.74736,735.566014 2083.81557,732.63423 2083.81557,729.017692 C2083.81557,728.930412 2083.81732,728.84314 2083.82081,728.755929 L2088.2792,617.312956 C2088.32396,616.194028 2089.24407,615.30999 2090.36389,615.30999 Z',\r\n            length: '75%',\r\n            width: 8,\r\n            offsetCenter: [0, '5%'],\r\n            itemStyle: {\r\n              color: '#4facfe'\r\n            }\r\n          },\r\n          axisTick: {\r\n            length: 8,\r\n            lineStyle: {\r\n              color: 'auto',\r\n              width: 1\r\n            }\r\n          },\r\n          splitLine: {\r\n            length: 12,\r\n            lineStyle: {\r\n              color: 'auto',\r\n              width: 2\r\n            }\r\n          },\r\n          axisLabel: {\r\n            color: '#8b9bb3',\r\n            fontSize: 10,\r\n            distance: -40\r\n          },\r\n          title: {\r\n            offsetCenter: [0, '-20%'],\r\n            fontSize: 14,\r\n            color: '#8b9bb3'\r\n          },\r\n          detail: {\r\n            fontSize: 24,\r\n            offsetCenter: [0, '0%'],\r\n            valueAnimation: true,\r\n            formatter: '{value}%',\r\n            color: '#4facfe'\r\n          },\r\n          data: [{\r\n            value: this.summary.waterUsage,\r\n            name: '用水率'\r\n          }]\r\n        }]\r\n      };\r\n      \r\n      this.gaugeChartInstance.setOption(option);\r\n      \r\n      // 自适应\r\n      window.addEventListener('resize', () => {\r\n        this.gaugeChartInstance && this.gaugeChartInstance.resize();\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.big-screen {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: linear-gradient(to bottom, #0a1929, #1a2332);\r\n  color: #e0e6ed;\r\n  overflow: hidden;\r\n  position: relative;\r\n  font-family: 'Microsoft YaHei', Arial, sans-serif;\r\n}\r\n\r\n/* ========== 顶部条 ========== */\r\n.top-bar {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 60px;\r\n  background: linear-gradient(to right, rgba(15, 32, 56, 0.9), rgba(26, 35, 50, 0.9));\r\n  border-bottom: 2px solid #1e4d7b;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 30px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\r\n  z-index: 100;\r\n}\r\n\r\n.left-title {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #4facfe;\r\n  letter-spacing: 2px;\r\n}\r\n\r\n.left-title i {\r\n  margin-right: 10px;\r\n  font-size: 28px;\r\n}\r\n\r\n.center-time {\r\n  font-size: 18px;\r\n  color: #8b9bb3;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n.right-weather {\r\n  font-size: 16px;\r\n  color: #8b9bb3;\r\n}\r\n\r\n.right-weather i {\r\n  color: #f39c12;\r\n  margin-right: 8px;\r\n  font-size: 20px;\r\n}\r\n\r\n/* ========== 左侧菜单 ========== */\r\n.left-sidebar {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 60px;\r\n  bottom: 0;\r\n  width: 100px;\r\n  background: rgba(15, 32, 56, 0.8);\r\n  border-right: 1px solid #1e4d7b;\r\n  padding-top: 20px;\r\n  z-index: 90;\r\n}\r\n\r\n.menu-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 20px 10px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  color: #8b9bb3;\r\n}\r\n\r\n.menu-item i {\r\n  font-size: 28px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.menu-item span {\r\n  font-size: 12px;\r\n  text-align: center;\r\n}\r\n\r\n.menu-item:hover,\r\n.menu-item.active {\r\n  background: rgba(79, 172, 254, 0.2);\r\n  color: #4facfe;\r\n}\r\n\r\n/* ========== 中心主视图区 ========== */\r\n.center-map {\r\n  position: absolute;\r\n  left: 100px;\r\n  top: 60px;\r\n  right: 380px;\r\n  bottom: 280px;\r\n  padding: 20px;\r\n}\r\n\r\n.map-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  border: 2px solid #1e4d7b;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  background: #0f2038;\r\n}\r\n\r\n/* Three.js 容器 */\r\n.three-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n}\r\n\r\n.three-container canvas {\r\n  display: block;\r\n  border-radius: 6px;\r\n}\r\n\r\n/* ========== 右侧信息面板 ========== */\r\n.right-panel {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 60px;\r\n  bottom: 280px;\r\n  width: 380px;\r\n  padding: 20px;\r\n  background: rgba(15, 32, 56, 0.5);\r\n  border-left: 1px solid #1e4d7b;\r\n  overflow-y: auto;\r\n}\r\n\r\n.monitor-preview {\r\n  background: rgba(26, 35, 50, 0.8);\r\n  border: 1px solid #1e4d7b;\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.preview-image {\r\n  width: 100%;\r\n  height: 180px;\r\n  background: linear-gradient(135deg, #1e4d7b 0%, #2a5f8f 100%);\r\n  border-radius: 6px;\r\n  margin: 10px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.preview-image::before {\r\n  content: '📹';\r\n  font-size: 48px;\r\n  opacity: 0.3;\r\n}\r\n\r\n.preview-info h4 {\r\n  color: #4facfe;\r\n  margin: 10px 0 5px;\r\n  font-size: 16px;\r\n}\r\n\r\n.preview-info p {\r\n  color: #8b9bb3;\r\n  font-size: 13px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.stats-panel {\r\n  background: rgba(26, 35, 50, 0.8);\r\n  border: 1px solid #1e4d7b;\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n}\r\n\r\n.panel-title {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #4facfe;\r\n  margin-bottom: 15px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 2px solid #1e4d7b;\r\n}\r\n\r\n.gauge-chart {\r\n  width: 100%;\r\n  height: 200px;\r\n}\r\n\r\n.stat-cards {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-top: 15px;\r\n}\r\n\r\n.stat-card {\r\n  flex: 1;\r\n  background: rgba(15, 32, 56, 0.8);\r\n  border: 1px solid #1e4d7b;\r\n  border-radius: 6px;\r\n  padding: 15px;\r\n  text-align: center;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 12px;\r\n  color: #8b9bb3;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n}\r\n\r\n.stat-value.warning {\r\n  color: #E6A23C;\r\n}\r\n\r\n.stat-value.success {\r\n  color: #67C23A;\r\n}\r\n\r\n/* ========== 底部数据与图表区域 ========== */\r\n.bottom-stats {\r\n  position: absolute;\r\n  left: 100px;\r\n  right: 0;\r\n  bottom: 0;\r\n  height: 280px;\r\n  display: flex;\r\n  gap: 20px;\r\n  padding: 20px;\r\n  background: rgba(15, 32, 56, 0.5);\r\n  border-top: 1px solid #1e4d7b;\r\n}\r\n\r\n.production-stats,\r\n.chart-panel,\r\n.alert-list {\r\n  flex: 1;\r\n  background: rgba(26, 35, 50, 0.8);\r\n  border: 1px solid #1e4d7b;\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  overflow: hidden;\r\n}\r\n\r\n/* 生产指标 */\r\n.stat-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  background: rgba(15, 32, 56, 0.6);\r\n  padding: 12px;\r\n  border-radius: 6px;\r\n  border: 1px solid #1e4d7b;\r\n}\r\n\r\n.stat-icon {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 24px;\r\n  color: white;\r\n}\r\n\r\n.stat-content {\r\n  flex: 1;\r\n}\r\n\r\n.stat-name {\r\n  font-size: 13px;\r\n  color: #8b9bb3;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.stat-num {\r\n  font-size: 22px;\r\n  font-weight: bold;\r\n  color: #4facfe;\r\n}\r\n\r\n.stat-num .unit {\r\n  font-size: 14px;\r\n  color: #8b9bb3;\r\n  margin-left: 4px;\r\n}\r\n\r\n/* 柱状图 */\r\n.bar-chart {\r\n  width: 100%;\r\n  height: calc(100% - 50px);\r\n}\r\n\r\n/* 告警列表 */\r\n.alert-items {\r\n  margin-top: 10px;\r\n  max-height: calc(100% - 50px);\r\n  overflow-y: auto;\r\n}\r\n\r\n.alert-item {\r\n  padding: 10px;\r\n  margin-bottom: 8px;\r\n  background: rgba(15, 32, 56, 0.6);\r\n  border-left: 3px solid #4facfe;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n}\r\n\r\n.alert-item.alert-warning {\r\n  border-left-color: #E6A23C;\r\n}\r\n\r\n.alert-item.alert-error {\r\n  border-left-color: #F56C6C;\r\n}\r\n\r\n.alert-item.alert-success {\r\n  border-left-color: #67C23A;\r\n}\r\n\r\n.alert-item.alert-info {\r\n  border-left-color: #409EFF;\r\n}\r\n\r\n.alert-time {\r\n  color: #8b9bb3;\r\n  margin-bottom: 5px;\r\n  font-size: 11px;\r\n}\r\n\r\n.alert-content {\r\n  color: #e0e6ed;\r\n  line-height: 1.5;\r\n}\r\n\r\n/* 滚动条样式 */\r\n.right-panel::-webkit-scrollbar,\r\n.alert-items::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.right-panel::-webkit-scrollbar-thumb,\r\n.alert-items::-webkit-scrollbar-thumb {\r\n  background: #1e4d7b;\r\n  border-radius: 3px;\r\n}\r\n\r\n.right-panel::-webkit-scrollbar-track,\r\n.alert-items::-webkit-scrollbar-track {\r\n  background: rgba(15, 32, 56, 0.5);\r\n}\r\n</style>\r\n"]}]}