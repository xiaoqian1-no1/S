{"remainingRequest":"F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\1\\smart\\vue\\src\\views\\FarmMapGaode.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\1\\smart\\vue\\src\\views\\FarmMapGaode.vue","mtime":1763520035079},{"path":"F:\\1\\smart\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803512432},{"path":"F:\\1\\smart\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735803514062},{"path":"F:\\1\\smart\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803512432},{"path":"F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1735803514728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdGYXJtTWFwR2FvZGUnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtYXA6IG51bGwsDQogICAgICBhbWFwS2V5OiAnYTBkYzQ1MzRhYjI2YmU3MTRlOTRjZWYzNDVlNDgwYWEnLCAvLyDkvb/nlKjlm7rlrppLZXnvvIzpgb/lhY3kvp3otZblkI7nq68NCiAgICAgIGN1cnJlbnRMb2NhdGlvbjogJ+W8oOWutueVjOW4gicsDQogICAgICBzZWFyY2hLZXl3b3JkOiAnJywNCiAgICAgIGFsbEZhcm1zOiBbXSwNCiAgICAgIHNlbGVjdGVkRmFybTogbnVsbCwNCiAgICAgIGZhcm1NYXJrZXJzOiBbXSwNCiAgICAgIG1hcExvYWRlZDogZmFsc2UNCiAgICB9DQogIH0sDQogIA0KICBjb21wdXRlZDogew0KICAgIC8vIOi/h+a7pOWGnOWcug0KICAgIGZpbHRlcmVkRmFybXMoKSB7DQogICAgICBpZiAoIXRoaXMuc2VhcmNoS2V5d29yZCkgew0KICAgICAgICByZXR1cm4gdGhpcy5hbGxGYXJtczsNCiAgICAgIH0NCiAgICAgIGNvbnN0IGtleXdvcmQgPSB0aGlzLnNlYXJjaEtleXdvcmQudG9Mb3dlckNhc2UoKTsNCiAgICAgIHJldHVybiB0aGlzLmFsbEZhcm1zLmZpbHRlcihmYXJtID0+IHsNCiAgICAgICAgY29uc3QgbmFtZSA9IChmYXJtLmZhcm0gfHwgJycpLnRvTG93ZXJDYXNlKCk7DQogICAgICAgIGNvbnN0IGNyb3AgPSAoZmFybS5jcm9wIHx8ICcnKS50b0xvd2VyQ2FzZSgpOw0KICAgICAgICByZXR1cm4gbmFtZS5pbmNsdWRlcyhrZXl3b3JkKSB8fCBjcm9wLmluY2x1ZGVzKGtleXdvcmQpOw0KICAgICAgfSk7DQogICAgfQ0KICB9LA0KICANCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmxvYWRBbWFwU2NyaXB0KCk7DQogICAgdGhpcy5sb2FkRmFybXMoKTsNCiAgfSwNCiAgDQogIGJlZm9yZURlc3Ryb3koKSB7DQogICAgaWYgKHRoaXMubWFwKSB7DQogICAgICB0aGlzLm1hcC5kZXN0cm95KCk7DQogICAgfQ0KICB9LA0KICANCiAgbWV0aG9kczogew0KICAgIC8vIOWKoOi9vemrmOW+t+WcsOWbvlNESw0KICAgIGxvYWRBbWFwU2NyaXB0KCkgew0KICAgICAgaWYgKHdpbmRvdy5BTWFwKSB7DQogICAgICAgIHRoaXMuY3JlYXRlTWFwKCk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIA0KICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7DQogICAgICBzY3JpcHQuc3JjID0gYGh0dHBzOi8vd2ViYXBpLmFtYXAuY29tL21hcHM/dj0yLjAma2V5PSR7dGhpcy5hbWFwS2V5fSZwbHVnaW49QU1hcC5NYXJrZXIsQU1hcC5JbmZvV2luZG93LEFNYXAuVG9vbEJhcixBTWFwLlBvbHlnb25gOw0KICAgICAgDQogICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4gew0KICAgICAgICBjb25zb2xlLmxvZygn4pyFIOmrmOW+t+WcsOWbvlNES+WKoOi9veaIkOWKnycpOw0KICAgICAgICB0aGlzLmNyZWF0ZU1hcCgpOw0KICAgICAgfTsNCiAgICAgIA0KICAgICAgc2NyaXB0Lm9uZXJyb3IgPSAoKSA9PiB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDlnLDlm75TREvliqDovb3lpLHotKUnKTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Zyw5Zu+5Yqg6L295aSx6LSl77yM6K+35qOA5p+l572R57ucJyk7DQogICAgICB9Ow0KICAgICAgDQogICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7DQogICAgfSwNCiAgICANCiAgICAvLyDliJvlu7rlnLDlm74NCiAgICBjcmVhdGVNYXAoKSB7DQogICAgICBpZiAoIXdpbmRvdy5BTWFwKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FNYXDmnKrliqDovb0nKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW9kZS1jb250YWluZXInKTsNCiAgICAgICAgaWYgKCFjb250YWluZXIpIHsNCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuY3JlYXRlTWFwKCksIDEwMCk7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICB0cnkgew0KICAgICAgICAgIC8vIOWIm+W7ujNE5Zyw5Zu+DQogICAgICAgICAgdGhpcy5tYXAgPSBuZXcgd2luZG93LkFNYXAuTWFwKCdnYW9kZS1jb250YWluZXInLCB7DQogICAgICAgICAgICB2aWV3TW9kZTogJzNEJywNCiAgICAgICAgICAgIHBpdGNoOiA2MCwNCiAgICAgICAgICAgIHpvb206IDEzLA0KICAgICAgICAgICAgY2VudGVyOiBbMTEwLjQ3OSwgMjkuMTE3XSwgLy8g5byg5a6255WM5biC5Lit5b+DDQogICAgICAgICAgICBzaG93QnVpbGRpbmdCbG9jazogdHJ1ZSwNCiAgICAgICAgICAgIHJlc2l6ZUVuYWJsZTogdHJ1ZQ0KICAgICAgICAgIH0pOw0KICAgICAgICAgIA0KICAgICAgICAgIC8vIOa3u+WKoOWNq+aYn+WbvuWxgg0KICAgICAgICAgIHRoaXMubWFwLmFkZExheWVyKG5ldyB3aW5kb3cuQU1hcC5UaWxlTGF5ZXIuU2F0ZWxsaXRlKCkpOw0KICAgICAgICAgIHRoaXMubWFwLmFkZExheWVyKG5ldyB3aW5kb3cuQU1hcC5UaWxlTGF5ZXIuUm9hZE5ldCgpKTsNCiAgICAgICAgICANCiAgICAgICAgICAvLyDmt7vliqDlt6XlhbfmoI8NCiAgICAgICAgICB0aGlzLm1hcC5hZGRDb250cm9sKG5ldyB3aW5kb3cuQU1hcC5Ub29sQmFyKHsNCiAgICAgICAgICAgIGxvY2F0ZTogdHJ1ZQ0KICAgICAgICAgIH0pKTsNCiAgICAgICAgICANCiAgICAgICAgICB0aGlzLm1hcExvYWRlZCA9IHRydWU7DQogICAgICAgICAgY29uc29sZS5sb2coJ+KchSDlnLDlm77liJvlu7rmiJDlip8nKTsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WcsOWbvuWKoOi9veaIkOWKnycpOw0KICAgICAgICAgIA0KICAgICAgICAgIC8vIOa4suafk+WGnOWcuuagh+iusA0KICAgICAgICAgIGlmICh0aGlzLmFsbEZhcm1zLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHRoaXMucmVuZGVyRmFybU1hcmtlcnMoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgY29uc29sZS5lcnJvcign5Zyw5Zu+5Yib5bu65aSx6LSlOicsIGVycm9yKTsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflnLDlm77liJvlu7rlpLHotKUnKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICANCiAgICAvLyDliqDovb3lhpzlnLrmlbDmja4NCiAgICBhc3luYyBsb2FkRmFybXMoKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnJlcXVlc3QuZ2V0KCcvc3RhdGlzdGljL3BhZ2UnLCB7DQogICAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgICBwYWdlTnVtOiAxLA0KICAgICAgICAgICAgcGFnZVNpemU6IDEwMDAsDQogICAgICAgICAgICBmYXJtOiAnJw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcyMDAnICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLnJlY29yZHMpIHsNCiAgICAgICAgICB0aGlzLmFsbEZhcm1zID0gcmVzLmRhdGEucmVjb3JkczsNCiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOWKoOi9veWGnOWcuuaVsOaNruaIkOWKnzonLCB0aGlzLmFsbEZhcm1zLmxlbmd0aCk7DQogICAgICAgICAgDQogICAgICAgICAgLy8g5aaC5p6c5Zyw5Zu+5bey5Yqg6L2977yM5riy5p+T5qCH6K6wDQogICAgICAgICAgaWYgKHRoaXMubWFwTG9hZGVkKSB7DQogICAgICAgICAgICB0aGlzLnJlbmRlckZhcm1NYXJrZXJzKCk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3lhpzlnLrmlbDmja7lpLHotKU6JywgZXJyb3IpOw0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliqDovb3lhpzlnLrmlbDmja7lpLHotKUnKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIA0KICAgIC8vIOa4suafk+WGnOWcuuagh+iusA0KICAgIHJlbmRlckZhcm1NYXJrZXJzKCkgew0KICAgICAgaWYgKCF0aGlzLm1hcCB8fCAhd2luZG93LkFNYXAgfHwgdGhpcy5hbGxGYXJtcy5sZW5ndGggPT09IDApIHJldHVybjsNCiAgICAgIA0KICAgICAgLy8g5riF6Zmk546w5pyJ5qCH6K6w5ZKM5aSa6L655b2iDQogICAgICB0aGlzLmZhcm1NYXJrZXJzLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIGlmIChpdGVtLm1hcmtlcikgaXRlbS5tYXJrZXIuc2V0TWFwKG51bGwpOw0KICAgICAgICBpZiAoaXRlbS5wb2x5Z29uKSBpdGVtLnBvbHlnb24uc2V0TWFwKG51bGwpOw0KICAgICAgfSk7DQogICAgICB0aGlzLmZhcm1NYXJrZXJzID0gW107DQogICAgICANCiAgICAgIGNvbnN0IGJhc2VDZW50ZXIgPSB0aGlzLm1hcC5nZXRDZW50ZXIoKTsNCiAgICAgIGxldCBoYXNSZWFsTG9jYXRpb24gPSBmYWxzZTsNCiAgICAgIA0KICAgICAgdGhpcy5hbGxGYXJtcy5mb3JFYWNoKChmYXJtLCBpbmRleCkgPT4gew0KICAgICAgICBsZXQgcG9zaXRpb247DQogICAgICAgIGxldCBwb2x5Z29uID0gbnVsbDsNCiAgICAgICAgDQogICAgICAgIC8vIOS8mOWFiOS9v+eUqOecn+WunuWdkOaghw0KICAgICAgICBpZiAoZmFybS5jZW50ZXJMbmcgJiYgZmFybS5jZW50ZXJMYXQpIHsNCiAgICAgICAgICBwb3NpdGlvbiA9IFtmYXJtLmNlbnRlckxuZywgZmFybS5jZW50ZXJMYXRdOw0KICAgICAgICAgIGhhc1JlYWxMb2NhdGlvbiA9IHRydWU7DQogICAgICAgICAgDQogICAgICAgICAgLy8g5aaC5p6c5pyJ5Yy65Z+f5pWw5o2u77yM57uY5Yi25aSa6L655b2iDQogICAgICAgICAgaWYgKGZhcm0uY29vcmRpbmF0ZXMpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IEpTT04ucGFyc2UoZmFybS5jb29yZGluYXRlcyk7DQogICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBjb29yZHMubWFwKGMgPT4gW2MubG5nLCBjLmxhdF0pOw0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgcG9seWdvbiA9IG5ldyB3aW5kb3cuQU1hcC5Qb2x5Z29uKHsNCiAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLA0KICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAnIzRDQUY1MCcsDQogICAgICAgICAgICAgICAgc3Ryb2tlV2VpZ2h0OiAzLA0KICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuOCwNCiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjNENBRjUwJywNCiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC4zLA0KICAgICAgICAgICAgICAgIHpJbmRleDogNTANCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIA0KICAgICAgICAgICAgICBwb2x5Z29uLnNldE1hcCh0aGlzLm1hcCk7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+ino+aekOWGnOWcuuWMuuWfn+WdkOagh+Wksei0pTonLCBlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8g5L2/55So6buE6YeR6KeS5YiG5biD566X5rOV5YiG5biD5Yac5Zy65qCH6K6w77yI5qih5ouf5L2N572u77yJDQogICAgICAgICAgY29uc3QgYW5nbGUgPSAoaW5kZXggKiAxMzcuNSkgKiBNYXRoLlBJIC8gMTgwOw0KICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gMC4wMDggKyAoaW5kZXggJSA4KSAqIDAuMDA0Ow0KICAgICAgICAgIA0KICAgICAgICAgIHBvc2l0aW9uID0gWw0KICAgICAgICAgICAgYmFzZUNlbnRlci5sbmcgKyBNYXRoLmNvcyhhbmdsZSkgKiBkaXN0YW5jZSwNCiAgICAgICAgICAgIGJhc2VDZW50ZXIubGF0ICsgTWF0aC5zaW4oYW5nbGUpICogZGlzdGFuY2UNCiAgICAgICAgICBdOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyDliJvlu7rmoIforrANCiAgICAgICAgY29uc3QgbWFya2VyID0gbmV3IHdpbmRvdy5BTWFwLk1hcmtlcih7DQogICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLA0KICAgICAgICAgIHRpdGxlOiBmYXJtLmZhcm0sDQogICAgICAgICAgbGFiZWw6IHsNCiAgICAgICAgICAgIGNvbnRlbnQ6IGA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAke2Zhcm0uY2VudGVyTG5nID8gJyM0Y2FmNTAnIDogJyNmZjk4MDAnfTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiA0cHggMTBweDsgYm9yZGVyLXJhZGl1czogNHB4OyBmb250LXNpemU6IDEycHg7IGZvbnQtd2VpZ2h0OiA2MDA7IGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMyk7IHdoaXRlLXNwYWNlOiBub3dyYXA7Ij4ke2Zhcm0uZmFybX0ke2Zhcm0uY2VudGVyTG5nID8gJycgOiAnKOaooeaLnyknfTwvZGl2PmAsDQogICAgICAgICAgICBkaXJlY3Rpb246ICd0b3AnLA0KICAgICAgICAgICAgb2Zmc2V0OiBuZXcgd2luZG93LkFNYXAuUGl4ZWwoMCwgLTEwKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgICBtYXJrZXIuc2V0TWFwKHRoaXMubWFwKTsNCiAgICAgICAgDQogICAgICAgIC8vIOWIm+W7uuS/oeaBr+eql+WPow0KICAgICAgICBjb25zdCBpbmZvV2luZG93ID0gbmV3IHdpbmRvdy5BTWFwLkluZm9XaW5kb3coew0KICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY3JlYXRlSW5mb1dpbmRvd0NvbnRlbnQoZmFybSksDQogICAgICAgICAgb2Zmc2V0OiBuZXcgd2luZG93LkFNYXAuUGl4ZWwoMCwgLTMwKQ0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIG1hcmtlci5vbignY2xpY2snLCAoKSA9PiB7DQogICAgICAgICAgaW5mb1dpbmRvdy5vcGVuKHRoaXMubWFwLCBtYXJrZXIuZ2V0UG9zaXRpb24oKSk7DQogICAgICAgICAgdGhpcy5zZWxlY3RlZEZhcm0gPSBmYXJtOw0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIHRoaXMuZmFybU1hcmtlcnMucHVzaCh7IG1hcmtlciwgcG9seWdvbiB9KTsNCiAgICAgIH0pOw0KICAgICAgDQogICAgICBjb25zb2xlLmxvZygn4pyFIOa4suafk+S6hicsIHRoaXMuZmFybU1hcmtlcnMubGVuZ3RoLCAn5Liq5Yac5Zy65qCH6K6wJyk7DQogICAgICANCiAgICAgIGlmIChoYXNSZWFsTG9jYXRpb24pIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflt7LliqDovb3lhpzlnLrnnJ/lrp7kvY3nva7lkozljLrln58nKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIA0KICAgIC8vIOWIm+W7uuS/oeaBr+eql+WPo+WGheWuuQ0KICAgIGNyZWF0ZUluZm9XaW5kb3dDb250ZW50KGZhcm0pIHsNCiAgICAgIHJldHVybiBgDQogICAgICAgIDxkaXYgc3R5bGU9InBhZGRpbmc6IDE1cHg7IG1pbi13aWR0aDogMjUwcHg7IGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsiPg0KICAgICAgICAgIDxoMyBzdHlsZT0ibWFyZ2luOiAwIDAgMTJweCAwOyBjb2xvcjogIzJlN2QzMjsgZm9udC1zaXplOiAxNnB4OyBib3JkZXItYm90dG9tOiAycHggc29saWQgIzRjYWY1MDsgcGFkZGluZy1ib3R0b206IDhweDsiPg0KICAgICAgICAgICAgJHtmYXJtLmZhcm19DQogICAgICAgICAgPC9oMz4NCiAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luOiA2cHggMDsgY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMTRweDsiPg0KICAgICAgICAgICAgPHN0cm9uZz7wn4y+IOS9nOeJqe+8mjwvc3Ryb25nPiR7ZmFybS5jcm9wIHx8ICfmnKrnn6UnfQ0KICAgICAgICAgIDwvcD4NCiAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luOiA2cHggMDsgY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMTRweDsiPg0KICAgICAgICAgICAgPHN0cm9uZz7wn5OPIOmdouenr++8mjwvc3Ryb25nPiR7ZmFybS5hcmVhIHx8ICfmnKrnn6UnfeS6qQ0KICAgICAgICAgIDwvcD4NCiAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luOiA2cHggMDsgY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMTRweDsiPg0KICAgICAgICAgICAgPHN0cm9uZz7wn4yxIOaVsOmHj++8mjwvc3Ryb25nPiR7ZmFybS5udW1iZXIgfHwgMH3moKoNCiAgICAgICAgICA8L3A+DQogICAgICAgICAgPHAgc3R5bGU9Im1hcmdpbjogNnB4IDA7IGNvbG9yOiAjNjY2OyBmb250LXNpemU6IDE0cHg7Ij4NCiAgICAgICAgICAgIDxzdHJvbmc+8J+TiiDnirbmgIHvvJo8L3N0cm9uZz48c3BhbiBzdHlsZT0iY29sb3I6ICR7ZmFybS5zdGF0ZSA9PT0gJ+ato+W4uCcgPyAnIzY3YzIzYScgOiAnI2U2YTIzYyd9Ij4ke2Zhcm0uc3RhdGUgfHwgJ+acquefpSd9PC9zcGFuPg0KICAgICAgICAgIDwvcD4NCiAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luOiA2cHggMDsgY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMTRweDsiPg0KICAgICAgICAgICAgPHN0cm9uZz7wn5GkIOi0n+i0o+S6uu+8mjwvc3Ryb25nPiR7ZmFybS5rZWVwZXIgfHwgJ+acquefpSd9DQogICAgICAgICAgPC9wPg0KICAgICAgICAgIDxwIHN0eWxlPSJtYXJnaW46IDZweCAwOyBjb2xvcjogIzk5OTsgZm9udC1zaXplOiAxMnB4OyI+DQogICAgICAgICAgICDwn5ONICR7ZmFybS5hZGRyZXNzIHx8ICfmmoLml6DlnLDlnYAnfQ0KICAgICAgICAgIDwvcD4NCiAgICAgICAgPC9kaXY+DQogICAgICBgOw0KICAgIH0sDQogICAgDQogICAgLy8g6YCJ5oup5Yac5Zy6DQogICAgc2VsZWN0RmFybShmYXJtKSB7DQogICAgICBpZiAoIXRoaXMubWFwIHx8ICF0aGlzLm1hcExvYWRlZCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+WcsOWbvuacquWKoOi9veWujOaIkCcpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICANCiAgICAgIHRoaXMuc2VsZWN0ZWRGYXJtID0gZmFybTsNCiAgICAgIA0KICAgICAgLy8g5om+5Yiw5a+55bqU55qE5qCH6K6wDQogICAgICBjb25zdCBtYXJrZXJJdGVtID0gdGhpcy5mYXJtTWFya2Vycy5maW5kKG0gPT4gbS5tYXJrZXIgJiYgbS5tYXJrZXIuZ2V0VGl0bGUoKSA9PT0gZmFybS5mYXJtKTsNCiAgICAgIGNvbnN0IG1hcmtlciA9IG1hcmtlckl0ZW0gPyBtYXJrZXJJdGVtLm1hcmtlciA6IG51bGw7DQogICAgICANCiAgICAgIGlmIChtYXJrZXIpIHsNCiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBtYXJrZXIuZ2V0UG9zaXRpb24oKTsNCiAgICAgICAgDQogICAgICAgIC8vIOWumuS9jeWIsOivpeWGnOWcug0KICAgICAgICB0aGlzLm1hcC5zZXRDZW50ZXIocG9zaXRpb24pOw0KICAgICAgICB0aGlzLm1hcC5zZXRab29tKDE2KTsNCiAgICAgICAgDQogICAgICAgIC8vIOWIm+W7uuW5tuaYvuekuuS/oeaBr+eql+WPow0KICAgICAgICBjb25zdCBpbmZvV2luZG93ID0gbmV3IHdpbmRvdy5BTWFwLkluZm9XaW5kb3coew0KICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY3JlYXRlSW5mb1dpbmRvd0NvbnRlbnQoZmFybSksDQogICAgICAgICAgb2Zmc2V0OiBuZXcgd2luZG93LkFNYXAuUGl4ZWwoMCwgLTMwKQ0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIGluZm9XaW5kb3cub3Blbih0aGlzLm1hcCwgcG9zaXRpb24pOw0KICAgICAgICANCiAgICAgICAgLy8g5re75Yqg6Lez5Yqo5Yqo55S75qCH6K6wDQogICAgICAgIGNvbnN0IGhpZ2hsaWdodE1hcmtlciA9IG5ldyB3aW5kb3cuQU1hcC5NYXJrZXIoew0KICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbiwNCiAgICAgICAgICBpY29uOiBuZXcgd2luZG93LkFNYXAuSWNvbih7DQogICAgICAgICAgICBzaXplOiBuZXcgd2luZG93LkFNYXAuU2l6ZSg0MCwgNDApLA0KICAgICAgICAgICAgaW1hZ2U6ICdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCcgKyBidG9hKGANCiAgICAgICAgICAgICAgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+DQogICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTgiIGZpbGw9IiNmZjQ0NDQiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIzIi8+DQogICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iOCIgZmlsbD0iI2ZmZiIvPg0KICAgICAgICAgICAgICA8L3N2Zz4NCiAgICAgICAgICAgIGApLA0KICAgICAgICAgICAgaW1hZ2VTaXplOiBuZXcgd2luZG93LkFNYXAuU2l6ZSg0MCwgNDApDQogICAgICAgICAgfSksDQogICAgICAgICAgekluZGV4OiAyMDAsDQogICAgICAgICAgYW5pbWF0aW9uOiAnQU1BUF9BTklNQVRJT05fQk9VTkNFJw0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIGhpZ2hsaWdodE1hcmtlci5zZXRNYXAodGhpcy5tYXApOw0KICAgICAgICANCiAgICAgICAgLy8gNeenkuWQjuenu+mZpOmrmOS6rg0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICBoaWdobGlnaHRNYXJrZXIuc2V0TWFwKG51bGwpOw0KICAgICAgICB9LCA1MDAwKTsNCiAgICAgICAgDQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyhg5bey5a6a5L2N5Yiw77yaJHtmYXJtLmZhcm19YCk7DQogICAgICB9DQogICAgfSwNCiAgICANCiAgICAvLyDoh6rliqjlrprkvY0NCiAgICBhdXRvTG9jYXRlKCkgew0KICAgICAgaWYgKCF0aGlzLm1hcCkgcmV0dXJuOw0KICAgICAgDQogICAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7DQogICAgICAgIGNvbnN0IGxvYWRpbmcgPSB0aGlzLiRsb2FkaW5nKHsgdGV4dDogJ+WumuS9jeS4rS4uLicgfSk7DQogICAgICAgIA0KICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKA0KICAgICAgICAgIChwb3NpdGlvbikgPT4gew0KICAgICAgICAgICAgY29uc3QgeyBsb25naXR1ZGUsIGxhdGl0dWRlIH0gPSBwb3NpdGlvbi5jb29yZHM7DQogICAgICAgICAgICB0aGlzLm1hcC5zZXRDZW50ZXIoW2xvbmdpdHVkZSwgbGF0aXR1ZGVdKTsNCiAgICAgICAgICAgIHRoaXMubWFwLnNldFpvb20oMTYpOw0KICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBgJHtsYXRpdHVkZS50b0ZpeGVkKDYpfSwgJHtsb25naXR1ZGUudG9GaXhlZCg2KX1gOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WumuS9jeaIkOWKnycpOw0KICAgICAgICAgIH0sDQogICAgICAgICAgKGVycm9yKSA9PiB7DQogICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7DQogICAgICAgICAgICBjb25zb2xlLmVycm9yKCflrprkvY3lpLHotKU6JywgZXJyb3IpOw0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCflrprkvY3lpLHotKXvvIzkvb/nlKjpu5jorqTkvY3nva4nKTsNCiAgICAgICAgICB9DQogICAgICAgICk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmtY/op4jlmajkuI3mlK/mjIHlrprkvY3lip/og70nKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIA0KICAgIC8vIOWcsOWbvuaOp+WItg0KICAgIHpvb21JbigpIHsNCiAgICAgIGlmICh0aGlzLm1hcCkgdGhpcy5tYXAuem9vbUluKCk7DQogICAgfSwNCiAgICANCiAgICB6b29tT3V0KCkgew0KICAgICAgaWYgKHRoaXMubWFwKSB0aGlzLm1hcC56b29tT3V0KCk7DQogICAgfSwNCiAgICANCiAgICByZXNldFZpZXcoKSB7DQogICAgICBpZiAodGhpcy5tYXApIHsNCiAgICAgICAgdGhpcy5tYXAuc2V0Wm9vbUFuZENlbnRlcigxMywgWzExMC40NzksIDI5LjExN10pOw0KICAgICAgICB0aGlzLm1hcC5zZXRQaXRjaCg2MCk7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6KeG5Zu+5bey6YeN572uJyk7DQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["FarmMapGaode.vue"],"names":[],"mappings":";AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FarmMapGaode.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"gaode-map-page\">\r\n    <!-- È°∂ÈÉ®‰ø°ÊÅØÊ†è -->\r\n    <div class=\"top-bar\">\r\n      <div class=\"title\">\r\n        <i class=\"el-icon-map-location\"></i>\r\n        ÂÜúÂú∫Âú∞ÁêÜÂú∞Âõæ\r\n      </div>\r\n      <div class=\"position-info\">\r\n        <i class=\"el-icon-location-outline\"></i>\r\n        <span>{{ currentLocation }}</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->\r\n    <div class=\"main-container\">\r\n      <!-- Â∑¶‰æßÔºöÂÜúÂú∫ÂàóË°® -->\r\n      <div class=\"left-panel\">\r\n        <div class=\"panel-header\">\r\n          <h3>ÂÜúÂú∫ÂàóË°®</h3>\r\n          <el-button size=\"small\" type=\"success\" icon=\"el-icon-refresh\" @click=\"loadFarms\">Âà∑Êñ∞</el-button>\r\n        </div>\r\n\r\n        <!-- ÊêúÁ¥¢Ê°Ü -->\r\n        <div class=\"search-box\">\r\n          <el-input\r\n            v-model=\"searchKeyword\"\r\n            placeholder=\"ÊêúÁ¥¢ÂÜúÂú∫ÂêçÁß∞Êàñ‰ΩúÁâ©\"\r\n            prefix-icon=\"el-icon-search\"\r\n            size=\"small\"\r\n            clearable\r\n          ></el-input>\r\n        </div>\r\n\r\n        <!-- ÂÜúÂú∫ÂàóË°®ÔºàÊåâÂú∞ÂùÄÂàÜÁªÑÔºâ -->\r\n        <div class=\"farm-list-container\">\r\n          <div v-if=\"filteredFarms.length === 0\" class=\"empty-tip\">\r\n            <el-empty description=\"ÊöÇÊó†ÂÜúÂú∫Êï∞ÊçÆ\" :image-size=\"80\"></el-empty>\r\n          </div>\r\n\r\n          <div\r\n            v-for=\"(farm, index) in filteredFarms\"\r\n            :key=\"farm.id || index\"\r\n            class=\"farm-item\"\r\n            :class=\"{ active: selectedFarm && selectedFarm.id === farm.id }\"\r\n            @click=\"selectFarm(farm)\"\r\n          >\r\n            <div class=\"farm-icon\">üåæ</div>\r\n            <div class=\"farm-info\">\r\n              <div class=\"farm-name\">{{ farm.farm }}</div>\r\n              <div class=\"farm-details\">\r\n                <span class=\"detail-item\">üå± {{ farm.crop }}</span>\r\n                <span class=\"detail-item\">üìè {{ farm.area }}‰∫©</span>\r\n              </div>\r\n              <div class=\"farm-address\">üìç {{ farm.address || 'ÊöÇÊó†Âú∞ÂùÄ' }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Âè≥‰æßÔºöÂú∞Âõæ -->\r\n      <div class=\"right-map-panel\">\r\n        <!-- Âä†ËΩΩÊèêÁ§∫ -->\r\n        <div v-if=\"!mapLoaded\" class=\"loading-overlay\">\r\n          <el-spinner></el-spinner>\r\n          <p>Âú∞ÂõæÂä†ËΩΩ‰∏≠...</p>\r\n        </div>\r\n\r\n        <div id=\"gaode-container\" class=\"map-container\"></div>\r\n        \r\n        <!-- Âú∞ÂõæÊéßÂà∂ÊåâÈíÆ -->\r\n        <div class=\"map-controls\">\r\n          <el-button-group>\r\n            <el-tooltip content=\"ÊîæÂ§ß\" placement=\"left\">\r\n              <el-button size=\"mini\" icon=\"el-icon-zoom-in\" @click=\"zoomIn\"></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip content=\"Áº©Â∞è\" placement=\"left\">\r\n              <el-button size=\"mini\" icon=\"el-icon-zoom-out\" @click=\"zoomOut\"></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip content=\"ÂÆö‰Ωç\" placement=\"left\">\r\n              <el-button size=\"mini\" icon=\"el-icon-location\" @click=\"autoLocate\"></el-button>\r\n            </el-tooltip>\r\n            <el-tooltip content=\"ÈáçÁΩÆ\" placement=\"left\">\r\n              <el-button size=\"mini\" icon=\"el-icon-refresh\" @click=\"resetView\"></el-button>\r\n            </el-tooltip>\r\n          </el-button-group>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FarmMapGaode',\r\n  data() {\r\n    return {\r\n      map: null,\r\n      amapKey: 'a0dc4534ab26be714e94cef345e480aa', // ‰ΩøÁî®Âõ∫ÂÆöKeyÔºåÈÅøÂÖç‰æùËµñÂêéÁ´Ø\r\n      currentLocation: 'Âº†ÂÆ∂ÁïåÂ∏Ç',\r\n      searchKeyword: '',\r\n      allFarms: [],\r\n      selectedFarm: null,\r\n      farmMarkers: [],\r\n      mapLoaded: false\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    // ËøáÊª§ÂÜúÂú∫\r\n    filteredFarms() {\r\n      if (!this.searchKeyword) {\r\n        return this.allFarms;\r\n      }\r\n      const keyword = this.searchKeyword.toLowerCase();\r\n      return this.allFarms.filter(farm => {\r\n        const name = (farm.farm || '').toLowerCase();\r\n        const crop = (farm.crop || '').toLowerCase();\r\n        return name.includes(keyword) || crop.includes(keyword);\r\n      });\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    this.loadAmapScript();\r\n    this.loadFarms();\r\n  },\r\n  \r\n  beforeDestroy() {\r\n    if (this.map) {\r\n      this.map.destroy();\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    // Âä†ËΩΩÈ´òÂæ∑Âú∞ÂõæSDK\r\n    loadAmapScript() {\r\n      if (window.AMap) {\r\n        this.createMap();\r\n        return;\r\n      }\r\n      \r\n      const script = document.createElement('script');\r\n      script.src = `https://webapi.amap.com/maps?v=2.0&key=${this.amapKey}&plugin=AMap.Marker,AMap.InfoWindow,AMap.ToolBar,AMap.Polygon`;\r\n      \r\n      script.onload = () => {\r\n        console.log('‚úÖ È´òÂæ∑Âú∞ÂõæSDKÂä†ËΩΩÊàêÂäü');\r\n        this.createMap();\r\n      };\r\n      \r\n      script.onerror = () => {\r\n        console.error('‚ùå Âú∞ÂõæSDKÂä†ËΩΩÂ§±Ë¥•');\r\n        this.$message.error('Âú∞ÂõæÂä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªú');\r\n      };\r\n      \r\n      document.head.appendChild(script);\r\n    },\r\n    \r\n    // ÂàõÂª∫Âú∞Âõæ\r\n    createMap() {\r\n      if (!window.AMap) {\r\n        console.error('AMapÊú™Âä†ËΩΩ');\r\n        return;\r\n      }\r\n      \r\n      this.$nextTick(() => {\r\n        const container = document.getElementById('gaode-container');\r\n        if (!container) {\r\n          setTimeout(() => this.createMap(), 100);\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          // ÂàõÂª∫3DÂú∞Âõæ\r\n          this.map = new window.AMap.Map('gaode-container', {\r\n            viewMode: '3D',\r\n            pitch: 60,\r\n            zoom: 13,\r\n            center: [110.479, 29.117], // Âº†ÂÆ∂ÁïåÂ∏Ç‰∏≠ÂøÉ\r\n            showBuildingBlock: true,\r\n            resizeEnable: true\r\n          });\r\n          \r\n          // Ê∑ªÂä†Âç´ÊòüÂõæÂ±Ç\r\n          this.map.addLayer(new window.AMap.TileLayer.Satellite());\r\n          this.map.addLayer(new window.AMap.TileLayer.RoadNet());\r\n          \r\n          // Ê∑ªÂä†Â∑•ÂÖ∑Ê†è\r\n          this.map.addControl(new window.AMap.ToolBar({\r\n            locate: true\r\n          }));\r\n          \r\n          this.mapLoaded = true;\r\n          console.log('‚úÖ Âú∞ÂõæÂàõÂª∫ÊàêÂäü');\r\n          this.$message.success('Âú∞ÂõæÂä†ËΩΩÊàêÂäü');\r\n          \r\n          // Ê∏≤ÊüìÂÜúÂú∫Ê†áËÆ∞\r\n          if (this.allFarms.length > 0) {\r\n            this.renderFarmMarkers();\r\n          }\r\n        } catch (error) {\r\n          console.error('Âú∞ÂõæÂàõÂª∫Â§±Ë¥•:', error);\r\n          this.$message.error('Âú∞ÂõæÂàõÂª∫Â§±Ë¥•');\r\n        }\r\n      });\r\n    },\r\n    \r\n    // Âä†ËΩΩÂÜúÂú∫Êï∞ÊçÆ\r\n    async loadFarms() {\r\n      try {\r\n        const res = await this.request.get('/statistic/page', {\r\n          params: {\r\n            pageNum: 1,\r\n            pageSize: 1000,\r\n            farm: ''\r\n          }\r\n        });\r\n        \r\n        if (res.code === '200' && res.data && res.data.records) {\r\n          this.allFarms = res.data.records;\r\n          console.log('‚úÖ Âä†ËΩΩÂÜúÂú∫Êï∞ÊçÆÊàêÂäü:', this.allFarms.length);\r\n          \r\n          // Â¶ÇÊûúÂú∞ÂõæÂ∑≤Âä†ËΩΩÔºåÊ∏≤ÊüìÊ†áËÆ∞\r\n          if (this.mapLoaded) {\r\n            this.renderFarmMarkers();\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Âä†ËΩΩÂÜúÂú∫Êï∞ÊçÆÂ§±Ë¥•:', error);\r\n        this.$message.error('Âä†ËΩΩÂÜúÂú∫Êï∞ÊçÆÂ§±Ë¥•');\r\n      }\r\n    },\r\n    \r\n    // Ê∏≤ÊüìÂÜúÂú∫Ê†áËÆ∞\r\n    renderFarmMarkers() {\r\n      if (!this.map || !window.AMap || this.allFarms.length === 0) return;\r\n      \r\n      // Ê∏ÖÈô§Áé∞ÊúâÊ†áËÆ∞ÂíåÂ§öËæπÂΩ¢\r\n      this.farmMarkers.forEach(item => {\r\n        if (item.marker) item.marker.setMap(null);\r\n        if (item.polygon) item.polygon.setMap(null);\r\n      });\r\n      this.farmMarkers = [];\r\n      \r\n      const baseCenter = this.map.getCenter();\r\n      let hasRealLocation = false;\r\n      \r\n      this.allFarms.forEach((farm, index) => {\r\n        let position;\r\n        let polygon = null;\r\n        \r\n        // ‰ºòÂÖà‰ΩøÁî®ÁúüÂÆûÂùêÊ†á\r\n        if (farm.centerLng && farm.centerLat) {\r\n          position = [farm.centerLng, farm.centerLat];\r\n          hasRealLocation = true;\r\n          \r\n          // Â¶ÇÊûúÊúâÂå∫ÂüüÊï∞ÊçÆÔºåÁªòÂà∂Â§öËæπÂΩ¢\r\n          if (farm.coordinates) {\r\n            try {\r\n              const coords = JSON.parse(farm.coordinates);\r\n              const path = coords.map(c => [c.lng, c.lat]);\r\n              \r\n              polygon = new window.AMap.Polygon({\r\n                path: path,\r\n                strokeColor: '#4CAF50',\r\n                strokeWeight: 3,\r\n                strokeOpacity: 0.8,\r\n                fillColor: '#4CAF50',\r\n                fillOpacity: 0.3,\r\n                zIndex: 50\r\n              });\r\n              \r\n              polygon.setMap(this.map);\r\n            } catch (e) {\r\n              console.error('Ëß£ÊûêÂÜúÂú∫Âå∫ÂüüÂùêÊ†áÂ§±Ë¥•:', e);\r\n            }\r\n          }\r\n        } else {\r\n          // ‰ΩøÁî®ÈªÑÈáëËßíÂàÜÂ∏ÉÁÆóÊ≥ïÂàÜÂ∏ÉÂÜúÂú∫Ê†áËÆ∞ÔºàÊ®°Êãü‰ΩçÁΩÆÔºâ\r\n          const angle = (index * 137.5) * Math.PI / 180;\r\n          const distance = 0.008 + (index % 8) * 0.004;\r\n          \r\n          position = [\r\n            baseCenter.lng + Math.cos(angle) * distance,\r\n            baseCenter.lat + Math.sin(angle) * distance\r\n          ];\r\n        }\r\n        \r\n        // ÂàõÂª∫Ê†áËÆ∞\r\n        const marker = new window.AMap.Marker({\r\n          position: position,\r\n          title: farm.farm,\r\n          label: {\r\n            content: `<div style=\"background: ${farm.centerLng ? '#4caf50' : '#ff9800'}; color: white; padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.3); white-space: nowrap;\">${farm.farm}${farm.centerLng ? '' : '(Ê®°Êãü)'}</div>`,\r\n            direction: 'top',\r\n            offset: new window.AMap.Pixel(0, -10)\r\n          }\r\n        });\r\n        \r\n        marker.setMap(this.map);\r\n        \r\n        // ÂàõÂª∫‰ø°ÊÅØÁ™óÂè£\r\n        const infoWindow = new window.AMap.InfoWindow({\r\n          content: this.createInfoWindowContent(farm),\r\n          offset: new window.AMap.Pixel(0, -30)\r\n        });\r\n        \r\n        marker.on('click', () => {\r\n          infoWindow.open(this.map, marker.getPosition());\r\n          this.selectedFarm = farm;\r\n        });\r\n        \r\n        this.farmMarkers.push({ marker, polygon });\r\n      });\r\n      \r\n      console.log('‚úÖ Ê∏≤Êüì‰∫Ü', this.farmMarkers.length, '‰∏™ÂÜúÂú∫Ê†áËÆ∞');\r\n      \r\n      if (hasRealLocation) {\r\n        this.$message.success('Â∑≤Âä†ËΩΩÂÜúÂú∫ÁúüÂÆû‰ΩçÁΩÆÂíåÂå∫Âüü');\r\n      }\r\n    },\r\n    \r\n    // ÂàõÂª∫‰ø°ÊÅØÁ™óÂè£ÂÜÖÂÆπ\r\n    createInfoWindowContent(farm) {\r\n      return `\r\n        <div style=\"padding: 15px; min-width: 250px; font-family: Arial, sans-serif;\">\r\n          <h3 style=\"margin: 0 0 12px 0; color: #2e7d32; font-size: 16px; border-bottom: 2px solid #4caf50; padding-bottom: 8px;\">\r\n            ${farm.farm}\r\n          </h3>\r\n          <p style=\"margin: 6px 0; color: #666; font-size: 14px;\">\r\n            <strong>üåæ ‰ΩúÁâ©Ôºö</strong>${farm.crop || 'Êú™Áü•'}\r\n          </p>\r\n          <p style=\"margin: 6px 0; color: #666; font-size: 14px;\">\r\n            <strong>üìè Èù¢ÁßØÔºö</strong>${farm.area || 'Êú™Áü•'}‰∫©\r\n          </p>\r\n          <p style=\"margin: 6px 0; color: #666; font-size: 14px;\">\r\n            <strong>üå± Êï∞ÈáèÔºö</strong>${farm.number || 0}Ê†™\r\n          </p>\r\n          <p style=\"margin: 6px 0; color: #666; font-size: 14px;\">\r\n            <strong>üìä Áä∂ÊÄÅÔºö</strong><span style=\"color: ${farm.state === 'Ê≠£Â∏∏' ? '#67c23a' : '#e6a23c'}\">${farm.state || 'Êú™Áü•'}</span>\r\n          </p>\r\n          <p style=\"margin: 6px 0; color: #666; font-size: 14px;\">\r\n            <strong>üë§ Ë¥üË¥£‰∫∫Ôºö</strong>${farm.keeper || 'Êú™Áü•'}\r\n          </p>\r\n          <p style=\"margin: 6px 0; color: #999; font-size: 12px;\">\r\n            üìç ${farm.address || 'ÊöÇÊó†Âú∞ÂùÄ'}\r\n          </p>\r\n        </div>\r\n      `;\r\n    },\r\n    \r\n    // ÈÄâÊã©ÂÜúÂú∫\r\n    selectFarm(farm) {\r\n      if (!this.map || !this.mapLoaded) {\r\n        this.$message.warning('Âú∞ÂõæÊú™Âä†ËΩΩÂÆåÊàê');\r\n        return;\r\n      }\r\n      \r\n      this.selectedFarm = farm;\r\n      \r\n      // ÊâæÂà∞ÂØπÂ∫îÁöÑÊ†áËÆ∞\r\n      const markerItem = this.farmMarkers.find(m => m.marker && m.marker.getTitle() === farm.farm);\r\n      const marker = markerItem ? markerItem.marker : null;\r\n      \r\n      if (marker) {\r\n        const position = marker.getPosition();\r\n        \r\n        // ÂÆö‰ΩçÂà∞ËØ•ÂÜúÂú∫\r\n        this.map.setCenter(position);\r\n        this.map.setZoom(16);\r\n        \r\n        // ÂàõÂª∫Âπ∂ÊòæÁ§∫‰ø°ÊÅØÁ™óÂè£\r\n        const infoWindow = new window.AMap.InfoWindow({\r\n          content: this.createInfoWindowContent(farm),\r\n          offset: new window.AMap.Pixel(0, -30)\r\n        });\r\n        \r\n        infoWindow.open(this.map, position);\r\n        \r\n        // Ê∑ªÂä†Ë∑≥Âä®Âä®ÁîªÊ†áËÆ∞\r\n        const highlightMarker = new window.AMap.Marker({\r\n          position: position,\r\n          icon: new window.AMap.Icon({\r\n            size: new window.AMap.Size(40, 40),\r\n            image: 'data:image/svg+xml;base64,' + btoa(`\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\">\r\n                <circle cx=\"20\" cy=\"20\" r=\"18\" fill=\"#ff4444\" stroke=\"#fff\" stroke-width=\"3\"/>\r\n                <circle cx=\"20\" cy=\"20\" r=\"8\" fill=\"#fff\"/>\r\n              </svg>\r\n            `),\r\n            imageSize: new window.AMap.Size(40, 40)\r\n          }),\r\n          zIndex: 200,\r\n          animation: 'AMAP_ANIMATION_BOUNCE'\r\n        });\r\n        \r\n        highlightMarker.setMap(this.map);\r\n        \r\n        // 5ÁßíÂêéÁßªÈô§È´ò‰∫Æ\r\n        setTimeout(() => {\r\n          highlightMarker.setMap(null);\r\n        }, 5000);\r\n        \r\n        this.$message.success(`Â∑≤ÂÆö‰ΩçÂà∞Ôºö${farm.farm}`);\r\n      }\r\n    },\r\n    \r\n    // Ëá™Âä®ÂÆö‰Ωç\r\n    autoLocate() {\r\n      if (!this.map) return;\r\n      \r\n      if (navigator.geolocation) {\r\n        const loading = this.$loading({ text: 'ÂÆö‰Ωç‰∏≠...' });\r\n        \r\n        navigator.geolocation.getCurrentPosition(\r\n          (position) => {\r\n            const { longitude, latitude } = position.coords;\r\n            this.map.setCenter([longitude, latitude]);\r\n            this.map.setZoom(16);\r\n            this.currentLocation = `${latitude.toFixed(6)}, ${longitude.toFixed(6)}`;\r\n            \r\n            loading.close();\r\n            this.$message.success('ÂÆö‰ΩçÊàêÂäü');\r\n          },\r\n          (error) => {\r\n            loading.close();\r\n            console.error('ÂÆö‰ΩçÂ§±Ë¥•:', error);\r\n            this.$message.warning('ÂÆö‰ΩçÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§‰ΩçÁΩÆ');\r\n          }\r\n        );\r\n      } else {\r\n        this.$message.error('ÊµèËßàÂô®‰∏çÊîØÊåÅÂÆö‰ΩçÂäüËÉΩ');\r\n      }\r\n    },\r\n    \r\n    // Âú∞ÂõæÊéßÂà∂\r\n    zoomIn() {\r\n      if (this.map) this.map.zoomIn();\r\n    },\r\n    \r\n    zoomOut() {\r\n      if (this.map) this.map.zoomOut();\r\n    },\r\n    \r\n    resetView() {\r\n      if (this.map) {\r\n        this.map.setZoomAndCenter(13, [110.479, 29.117]);\r\n        this.map.setPitch(60);\r\n        this.$message.success('ËßÜÂõæÂ∑≤ÈáçÁΩÆ');\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.gaode-map-page {\r\n  width: 100%;\r\n  height: 100vh;\r\n  background: #f5f7fa;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n/* È°∂ÈÉ®‰ø°ÊÅØÊ†è */\r\n.top-bar {\r\n  height: 60px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 30px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  z-index: 100;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.title {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.position-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  padding: 8px 16px;\r\n  border-radius: 20px;\r\n  color: white;\r\n  font-size: 14px;\r\n}\r\n\r\n/* ‰∏ªÂÜÖÂÆπÂå∫ */\r\n.main-container {\r\n  flex: 1;\r\n  display: flex;\r\n  gap: 20px;\r\n  padding: 20px;\r\n  overflow: hidden;\r\n  min-height: 0;\r\n}\r\n\r\n/* Â∑¶‰æßÈù¢Êùø */\r\n.left-panel {\r\n  width: 350px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.panel-header {\r\n  padding: 16px;\r\n  border-bottom: 1px solid #eee;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.panel-header h3 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  color: #333;\r\n}\r\n\r\n.search-box {\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.farm-list-container {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 12px;\r\n}\r\n\r\n.empty-tip {\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n}\r\n\r\n/* ÂÜúÂú∫ÂàóË°®È°π */\r\n.farm-item {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n  padding: 14px;\r\n  margin-bottom: 10px;\r\n  background: #fafafa;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  border: 2px solid transparent;\r\n}\r\n\r\n.farm-item:hover {\r\n  background: #e8f5e9;\r\n  border-color: #4caf50;\r\n  transform: translateX(4px);\r\n}\r\n\r\n.farm-item.active {\r\n  background: #e8f5e9;\r\n  border-color: #4caf50;\r\n}\r\n\r\n.farm-icon {\r\n  font-size: 28px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.farm-info {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.farm-name {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.farm-details {\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.detail-item {\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.farm-address {\r\n  font-size: 12px;\r\n  color: #999;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n/* Âè≥‰æßÂú∞ÂõæÈù¢Êùø */\r\n.right-map-panel {\r\n  flex: 1;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n  position: relative;\r\n  min-height: 600px;\r\n}\r\n\r\n.loading-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  gap: 15px;\r\n}\r\n\r\n.loading-overlay p {\r\n  font-size: 14px;\r\n  color: #666;\r\n}\r\n\r\n.map-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 600px;\r\n}\r\n\r\n/* Âú∞ÂõæÊéßÂà∂ÊåâÈíÆ */\r\n.map-controls {\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 20px;\r\n  z-index: 10;\r\n}\r\n\r\n/* ÊªöÂä®Êù°ÁæéÂåñ */\r\n.farm-list-container::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.farm-list-container::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n  border-radius: 3px;\r\n}\r\n\r\n.farm-list-container::-webkit-scrollbar-thumb {\r\n  background: #4caf50;\r\n  border-radius: 3px;\r\n}\r\n\r\n.farm-list-container::-webkit-scrollbar-thumb:hover {\r\n  background: #45a049;\r\n}\r\n\r\n/* ÈöêËóèÈ´òÂæ∑Âú∞Âõælogo */\r\n:deep(.amap-logo) {\r\n  display: none !important;\r\n}\r\n\r\n:deep(.amap-copyright) {\r\n  opacity: 0.3;\r\n}\r\n</style>\r\n\r\n"]}]}