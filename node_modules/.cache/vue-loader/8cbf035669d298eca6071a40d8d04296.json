{"remainingRequest":"F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\1\\smart\\vue\\src\\components\\FarmLocationSelector.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\1\\smart\\vue\\src\\components\\FarmLocationSelector.vue","mtime":1763557547443},{"path":"F:\\1\\smart\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803512432},{"path":"F:\\1\\smart\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735803514062},{"path":"F:\\1\\smart\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803512432},{"path":"F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1735803514728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdGYXJtTG9jYXRpb25TZWxlY3RvcicsDQogIHByb3BzOiB7DQogICAgdmlzaWJsZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICAvLyDliJ3lp4vkvY3nva7mlbDmja4NCiAgICBpbml0aWFsRGF0YTogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbWFwOiBudWxsLA0KICAgICAgbWFya2VyOiBudWxsLA0KICAgICAgcG9seWdvbjogbnVsbCwNCiAgICAgIGRyYXdNb2RlOiBmYWxzZSwNCiAgICAgIHNlYXJjaEtleXdvcmQ6ICcnLA0KICAgICAgY2VudGVyOiBudWxsLA0KICAgICAgY29vcmRpbmF0ZXM6IFtdLA0KICAgICAgYXJlYVNpemU6IDAsDQogICAgICBhbWFwS2V5OiAnJywNCiAgICAgIGdlb2NvZGVyOiBudWxsLA0KICAgICAgdGVtcFBhdGg6IFtdLCAvLyDkuLTml7bnu5jliLbot6/lvoQNCiAgICAgIG1hcEluaXRpYWxpemVkOiBmYWxzZSwgLy8g5Zyw5Zu+5Yid5aeL5YyW54q25oCBDQogICAgICBzZWxlY3RlZFBvaUluZGV4OiAwLCAvLyDpgInkuK3nmoRQT0nntKLlvJUNCiAgICAgIHRlbXBNYXJrZXJzOiBbXSAvLyDkuLTml7bmoIforrDngrnvvIjnu5jliLbmqKHlvI/vvIkNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgdmlzaWJsZSh2YWwpIHsNCiAgICAgIGlmICh2YWwgJiYgIXRoaXMubWFwSW5pdGlhbGl6ZWQpIHsNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIHRoaXMuaW5pdE1hcCgpDQogICAgICAgIH0pDQogICAgICB9DQogICAgfQ0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIC8vIOe7hOS7tumUgOavgeaXtua4heeQhuWcsOWbvg0KICAgIHRoaXMuZGVzdHJveU1hcCgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBpbml0TWFwKCkgew0KICAgICAgaWYgKHRoaXMubWFwSW5pdGlhbGl6ZWQpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIHRyeSB7DQogICAgICAgIC8vIOiOt+WPlumrmOW+t+WcsOWbvktleQ0KICAgICAgICBpZiAoIXRoaXMuYW1hcEtleSkgew0KICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMucmVxdWVzdC5nZXQoJy9hZXRoZXIvd2VhdGhlci9jb25maWcnKQ0KICAgICAgICAgIGlmICghcmVzLmRhdGEgfHwgIXJlcy5kYXRhLmpzS2V5KSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+aXoOazleiOt+WPluWcsOWbvumFjee9ricpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuYW1hcEtleSA9IHJlcy5kYXRhLmpzS2V5DQogICAgICAgIH0NCg0KICAgICAgICAvLyDliqDovb3pq5jlvrflnLDlm77ohJrmnKwNCiAgICAgICAgYXdhaXQgdGhpcy5sb2FkQW1hcFNjcmlwdCgpDQogICAgICAgIA0KICAgICAgICAvLyDmo4Dmn6XlnLDlm77lrrnlmajmmK/lkKblrZjlnKgNCiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zhcm0tbG9jYXRpb24tbWFwJykNCiAgICAgICAgaWYgKCFjb250YWluZXIpIHsNCiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+WcsOWbvuWuueWZqOS4jeWtmOWcqCcpDQogICAgICAgIH0NCg0KICAgICAgICAvLyDliJvlu7rlnLDlm74NCiAgICAgICAgY29uc3QgZGVmYXVsdENlbnRlciA9IFsxMTAuNDc5MTkxLCAyOS4xMTcwOTZdIC8vIOW8oOWutueVjOm7mOiupOS4reW/g+eCuQ0KICAgICAgICBjb25zdCBpbml0aWFsQ2VudGVyID0gdGhpcy5pbml0aWFsRGF0YS5jZW50ZXJMbmcgJiYgdGhpcy5pbml0aWFsRGF0YS5jZW50ZXJMYXQNCiAgICAgICAgICA/IFtOdW1iZXIodGhpcy5pbml0aWFsRGF0YS5jZW50ZXJMbmcpLCBOdW1iZXIodGhpcy5pbml0aWFsRGF0YS5jZW50ZXJMYXQpXQ0KICAgICAgICAgIDogZGVmYXVsdENlbnRlcg0KDQogICAgICAgIHRoaXMubWFwID0gbmV3IHdpbmRvdy5BTWFwLk1hcCgnZmFybS1sb2NhdGlvbi1tYXAnLCB7DQogICAgICAgICAgem9vbTogMTMsDQogICAgICAgICAgY2VudGVyOiBpbml0aWFsQ2VudGVyLA0KICAgICAgICAgIG1hcFN0eWxlOiAnYW1hcDovL3N0eWxlcy9ub3JtYWwnDQogICAgICAgIH0pDQoNCiAgICAgICAgLy8g5re75Yqg5bel5YW35qCPDQogICAgICAgIHRoaXMubWFwLmFkZENvbnRyb2wobmV3IHdpbmRvdy5BTWFwLlRvb2xCYXIoew0KICAgICAgICAgIHBvc2l0aW9uOiAnUlQnDQogICAgICAgIH0pKQ0KDQogICAgICAgIC8vIOa3u+WKoOavlOS+i+Wwug0KICAgICAgICB0aGlzLm1hcC5hZGRDb250cm9sKG5ldyB3aW5kb3cuQU1hcC5TY2FsZSgpKQ0KDQogICAgICAgIC8vIOWIm+W7uuWcsOeQhue8lueggeWZqA0KICAgICAgICB0aGlzLmdlb2NvZGVyID0gbmV3IHdpbmRvdy5BTWFwLkdlb2NvZGVyKCkNCg0KICAgICAgICAvLyDlpoLmnpzmnInliJ3lp4vmlbDmja7vvIzmmL7npLoNCiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbERhdGEuY2VudGVyTG5nICYmIHRoaXMuaW5pdGlhbERhdGEuY2VudGVyTGF0KSB7DQogICAgICAgICAgdGhpcy5jZW50ZXIgPSB7DQogICAgICAgICAgICBsbmc6IE51bWJlcih0aGlzLmluaXRpYWxEYXRhLmNlbnRlckxuZyksDQogICAgICAgICAgICBsYXQ6IE51bWJlcih0aGlzLmluaXRpYWxEYXRhLmNlbnRlckxhdCkNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5hZGRNYXJrZXIodGhpcy5jZW50ZXIpDQoNCiAgICAgICAgICAvLyDlpoLmnpzmnInljLrln5/mlbDmja7vvIzmmL7npLrlpJrovrnlvaINCiAgICAgICAgICBpZiAodGhpcy5pbml0aWFsRGF0YS5jb29yZGluYXRlcykgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgY29uc3QgY29vcmRzID0gdHlwZW9mIHRoaXMuaW5pdGlhbERhdGEuY29vcmRpbmF0ZXMgPT09ICdzdHJpbmcnDQogICAgICAgICAgICAgICAgPyBKU09OLnBhcnNlKHRoaXMuaW5pdGlhbERhdGEuY29vcmRpbmF0ZXMpDQogICAgICAgICAgICAgICAgOiB0aGlzLmluaXRpYWxEYXRhLmNvb3JkaW5hdGVzDQogICAgICAgICAgICAgIA0KICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb29yZHMpICYmIGNvb3Jkcy5sZW5ndGggPj0gMykgew0KICAgICAgICAgICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBjb29yZHMNCiAgICAgICAgICAgICAgICB0aGlzLmRyYXdQb2x5Z29uKGNvb3JkcykNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfop6PmnpDlnZDmoIfmlbDmja7lpLHotKUnLCBlKQ0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+WOhuWPsuWMuuWfn+aVsOaNruWKoOi9veWksei0pScpDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8g5Zyw5Zu+54K55Ye75LqL5Lu2DQogICAgICAgIHRoaXMubWFwLm9uKCdjbGljaycsIHRoaXMub25NYXBDbGljaykNCiAgICAgICAgDQogICAgICAgIHRoaXMubWFwSW5pdGlhbGl6ZWQgPSB0cnVlDQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCflnLDlm77liJ3lp4vljJblpLHotKUnLCBlcnJvcikNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Zyw5Zu+5Yid5aeL5YyW5aSx6LSl77yaJyArIGVycm9yLm1lc3NhZ2UpDQogICAgICB9DQogICAgfSwNCg0KICAgIGxvYWRBbWFwU2NyaXB0KCkgew0KICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsNCiAgICAgICAgaWYgKHdpbmRvdy5BTWFwKSB7DQogICAgICAgICAgcmVzb2x2ZSgpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCg0KICAgICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKQ0KICAgICAgICBzY3JpcHQuc3JjID0gYGh0dHBzOi8vd2ViYXBpLmFtYXAuY29tL21hcHM/dj0yLjAma2V5PSR7dGhpcy5hbWFwS2V5fSZwbHVnaW49QU1hcC5HZW9jb2RlcixBTWFwLlBsYWNlU2VhcmNoLEFNYXAuVG9vbEJhcixBTWFwLlNjYWxlLEFNYXAuUG9seWdvbixBTWFwLk1hcmtlcmANCiAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IHJlc29sdmUNCiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSByZWplY3QNCiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpDQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvLyDmkJzntKLlnLDlnYAgLSDkvb/nlKhQT0nmkJzntKLmiJblnLDnkIbnvJbnoIENCiAgICBzZWFyY2hMb2NhdGlvbigpIHsNCiAgICAgIGlmICghdGhpcy5zZWFyY2hLZXl3b3JkIHx8ICF0aGlzLnNlYXJjaEtleXdvcmQudHJpbSgpKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36L6T5YWl5pCc57Si5YWz6ZSu6K+NJykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGNvbnN0IGtleXdvcmQgPSB0aGlzLnNlYXJjaEtleXdvcmQudHJpbSgpDQogICAgICANCiAgICAgIC8vIOS9v+eUqCBBTWFwLlBsYWNlU2VhcmNoIOi/m+ihjFBPSeaQnOe0og0KICAgICAgd2luZG93LkFNYXAucGx1Z2luKCdBTWFwLlBsYWNlU2VhcmNoJywgKCkgPT4gew0KICAgICAgICBjb25zdCBwbGFjZVNlYXJjaCA9IG5ldyB3aW5kb3cuQU1hcC5QbGFjZVNlYXJjaCh7DQogICAgICAgICAgY2l0eTogJ+W8oOWutueVjCcsIC8vIOm7mOiupOWfjuW4gg0KICAgICAgICAgIGNpdHlsaW1pdDogZmFsc2UsIC8vIOS4jemZkOWItuWfjuW4guiMg+WbtA0KICAgICAgICAgIHBhZ2VTaXplOiAxMCwgLy8g6L+U5ZueMTDmnaHnu5PmnpwNCiAgICAgICAgICBleHRlbnNpb25zOiAnYWxsJyAvLyDov5Tlm57or6bnu4bkv6Hmga8NCiAgICAgICAgfSkNCg0KICAgICAgICBwbGFjZVNlYXJjaC5zZWFyY2goa2V5d29yZCwgKHN0YXR1cywgcmVzdWx0KSA9PiB7DQogICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2NvbXBsZXRlJyAmJiByZXN1bHQucG9pTGlzdCAmJiByZXN1bHQucG9pTGlzdC5wb2lzICYmIHJlc3VsdC5wb2lMaXN0LnBvaXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgLy8gUE9J5pCc57Si5oiQ5YqfDQogICAgICAgICAgICBjb25zdCBwb2lzID0gcmVzdWx0LnBvaUxpc3QucG9pcw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAocG9pcy5sZW5ndGggPT09IDEpIHsNCiAgICAgICAgICAgICAgLy8g5Y+q5pyJ5LiA5Liq57uT5p6c77yM55u05o6l5a6a5L2NDQogICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VhcmNoUmVzdWx0KHBvaXNbMF0pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAvLyDlpJrkuKrnu5PmnpzvvIzmmL7npLrpgInmi6nliJfooagNCiAgICAgICAgICAgICAgdGhpcy5zaG93U2VhcmNoUmVzdWx0cyhwb2lzKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBQT0nmkJzntKLlpLHotKXvvIzlsJ3or5XlnLDnkIbnvJbnoIENCiAgICAgICAgICAgIHRoaXMuc2VhcmNoV2l0aEdlb2NvZGUoa2V5d29yZCkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvLyDlpITnkIbmkJzntKLnu5PmnpwNCiAgICBoYW5kbGVTZWFyY2hSZXN1bHQocG9pKSB7DQogICAgICBjb25zdCBsb2NhdGlvbiA9IHBvaS5sb2NhdGlvbg0KICAgICAgdGhpcy5jZW50ZXIgPSB7DQogICAgICAgIGxuZzogTnVtYmVyKGxvY2F0aW9uLmxuZyksDQogICAgICAgIGxhdDogTnVtYmVyKGxvY2F0aW9uLmxhdCkNCiAgICAgIH0NCiAgICAgIA0KICAgICAgdGhpcy5tYXAuc2V0Q2VudGVyKFtsb2NhdGlvbi5sbmcsIGxvY2F0aW9uLmxhdF0pDQogICAgICB0aGlzLm1hcC5zZXRab29tKDE2KQ0KICAgICAgdGhpcy5hZGRNYXJrZXIodGhpcy5jZW50ZXIpDQogICAgICANCiAgICAgIGNvbnN0IGFkZHJlc3NJbmZvID0gcG9pLmFkZHJlc3MgfHwgcG9pLnBuYW1lICsgcG9pLmNpdHluYW1lICsgcG9pLmFkbmFtZQ0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHsNCiAgICAgICAgbWVzc2FnZTogYOWumuS9jeaIkOWKn++8miR7cG9pLm5hbWV9YCwNCiAgICAgICAgZGVzY3JpcHRpb246IGFkZHJlc3NJbmZvLA0KICAgICAgICBkdXJhdGlvbjogMzAwMA0KICAgICAgfSkNCiAgICB9LA0KDQogICAgLy8g5pi+56S65aSa5Liq5pCc57Si57uT5p6c5L6b55So5oi36YCJ5oupDQogICAgc2hvd1NlYXJjaFJlc3VsdHMocG9pcykgew0KICAgICAgY29uc3QgaXRlbXMgPSBwb2lzLnNsaWNlKDAsIDUpLm1hcCgocG9pLCBpbmRleCkgPT4gew0KICAgICAgICBjb25zdCBhZGRyZXNzID0gcG9pLmFkZHJlc3MgfHwgYCR7cG9pLnBuYW1lfSR7cG9pLmNpdHluYW1lfSR7cG9pLmFkbmFtZX1gDQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgbGFiZWw6IGAke2luZGV4ICsgMX0uICR7cG9pLm5hbWV9IC0gJHthZGRyZXNzfWAsDQogICAgICAgICAgdmFsdWU6IGluZGV4LA0KICAgICAgICAgIHBvaTogcG9pDQogICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICAgIHRoaXMuJG1zZ2JveCh7DQogICAgICAgIHRpdGxlOiAn5pCc57Si5Yiw5aSa5Liq57uT5p6c77yM6K+36YCJ5oup77yaJywNCiAgICAgICAgbWVzc2FnZTogdGhpcy4kY3JlYXRlRWxlbWVudCgnZWwtcmFkaW8tZ3JvdXAnLCB7DQogICAgICAgICAgcHJvcHM6IHsgdmFsdWU6IDAgfSwNCiAgICAgICAgICBvbjogew0KICAgICAgICAgICAgaW5wdXQ6ICh2YWwpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFBvaUluZGV4ID0gdmFsDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9LCBpdGVtcy5tYXAoaXRlbSA9PiANCiAgICAgICAgICB0aGlzLiRjcmVhdGVFbGVtZW50KCdlbC1yYWRpbycsIHsNCiAgICAgICAgICAgIHByb3BzOiB7IGxhYmVsOiBpdGVtLnZhbHVlIH0sDQogICAgICAgICAgICBzdHlsZTogeyBkaXNwbGF5OiAnYmxvY2snLCBtYXJnaW5Cb3R0b206ICcxMHB4JyB9DQogICAgICAgICAgfSwgaXRlbS5sYWJlbCkNCiAgICAgICAgKSksDQogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsDQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIGJlZm9yZUNsb3NlOiAoYWN0aW9uLCBpbnN0YW5jZSwgZG9uZSkgPT4gew0KICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdjb25maXJtJykgew0KICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRQb2kgPSBwb2lzW3RoaXMuc2VsZWN0ZWRQb2lJbmRleCB8fCAwXQ0KICAgICAgICAgICAgdGhpcy5oYW5kbGVTZWFyY2hSZXN1bHQoc2VsZWN0ZWRQb2kpDQogICAgICAgICAgfQ0KICAgICAgICAgIGRvbmUoKQ0KICAgICAgICB9DQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSkNCiAgICB9LA0KDQogICAgLy8g5L2/55So5Zyw55CG57yW56CB5pCc57SiDQogICAgc2VhcmNoV2l0aEdlb2NvZGUoa2V5d29yZCkgew0KICAgICAgaWYgKCF0aGlzLmdlb2NvZGVyKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WcsOeQhue8lueggeWZqOacquWIneWni+WMlu+8jOivt+eojeWQjuWGjeivlScpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KDQogICAgICB0aGlzLmdlb2NvZGVyLmdldExvY2F0aW9uKGtleXdvcmQsIChzdGF0dXMsIHJlc3VsdCkgPT4gew0KICAgICAgICBpZiAoc3RhdHVzID09PSAnY29tcGxldGUnICYmIHJlc3VsdC5nZW9jb2RlcyAmJiByZXN1bHQuZ2VvY29kZXMubGVuZ3RoKSB7DQogICAgICAgICAgY29uc3QgbG9jYXRpb24gPSByZXN1bHQuZ2VvY29kZXNbMF0ubG9jYXRpb24NCiAgICAgICAgICB0aGlzLmNlbnRlciA9IHsNCiAgICAgICAgICAgIGxuZzogTnVtYmVyKGxvY2F0aW9uLmxuZyksDQogICAgICAgICAgICBsYXQ6IE51bWJlcihsb2NhdGlvbi5sYXQpDQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgIHRoaXMubWFwLnNldENlbnRlcihbbG9jYXRpb24ubG5nLCBsb2NhdGlvbi5sYXRdKQ0KICAgICAgICAgIHRoaXMubWFwLnNldFpvb20oMTUpDQogICAgICAgICAgdGhpcy5hZGRNYXJrZXIodGhpcy5jZW50ZXIpDQogICAgICAgICAgDQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGDlrprkvY3miJDlip/vvJoke3Jlc3VsdC5nZW9jb2Rlc1swXS5mb3JtYXR0ZWRBZGRyZXNzIHx8IGtleXdvcmR9YCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmnKrmib7liLDor6XlnLDlnYDvvIzor7flsJ3or5Xmm7Tor6bnu4bnmoTlnLDlnYDmj4/ov7AnKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvLyDmt7vliqDmoIforrANCiAgICBhZGRNYXJrZXIocG9zaXRpb24pIHsNCiAgICAgIGlmICghcG9zaXRpb24gfHwgdHlwZW9mIHBvc2l0aW9uLmxuZyAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHBvc2l0aW9uLmxhdCAhPT0gJ251bWJlcicpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcign5peg5pWI55qE5L2N572u5pWw5o2uJywgcG9zaXRpb24pDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KDQogICAgICAvLyDnp7vpmaTml6fmoIforrANCiAgICAgIGlmICh0aGlzLm1hcmtlcikgew0KICAgICAgICB0aGlzLm1hcC5yZW1vdmUodGhpcy5tYXJrZXIpDQogICAgICB9DQoNCiAgICAgIC8vIOa3u+WKoOaWsOagh+iusA0KICAgICAgdGhpcy5tYXJrZXIgPSBuZXcgd2luZG93LkFNYXAuTWFya2VyKHsNCiAgICAgICAgcG9zaXRpb246IFtwb3NpdGlvbi5sbmcsIHBvc2l0aW9uLmxhdF0sDQogICAgICAgIHRpdGxlOiAn5Yac5Zy65Lit5b+DJywNCiAgICAgICAgaWNvbjogbmV3IHdpbmRvdy5BTWFwLkljb24oew0KICAgICAgICAgIHNpemU6IG5ldyB3aW5kb3cuQU1hcC5TaXplKDMyLCAzMiksDQogICAgICAgICAgaW1hZ2U6ICcvL2EuYW1hcC5jb20vanNhcGlfZGVtb3Mvc3RhdGljL2RlbW8tY2VudGVyL2ljb25zL3BvaS1tYXJrZXItcmVkLnBuZycsDQogICAgICAgICAgaW1hZ2VTaXplOiBuZXcgd2luZG93LkFNYXAuU2l6ZSgzMiwgMzIpDQogICAgICAgIH0pDQogICAgICB9KQ0KDQogICAgICB0aGlzLm1hcC5hZGQodGhpcy5tYXJrZXIpDQogICAgfSwNCg0KICAgIC8vIOWcsOWbvueCueWHu+S6i+S7tg0KICAgIG9uTWFwQ2xpY2soZSkgew0KICAgICAgaWYgKCFlIHx8ICFlLmxuZ2xhdCkgew0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgaWYgKHRoaXMuZHJhd01vZGUpIHsNCiAgICAgICAgLy8g57uY5Yi25qih5byP77ya5re75Yqg5aSa6L655b2i6aG254K5DQogICAgICAgIGNvbnN0IHBvaW50ID0gew0KICAgICAgICAgIGxuZzogTnVtYmVyKGUubG5nbGF0LmxuZyksDQogICAgICAgICAgbGF0OiBOdW1iZXIoZS5sbmdsYXQubGF0KQ0KICAgICAgICB9DQogICAgICAgIHRoaXMudGVtcFBhdGgucHVzaChwb2ludCkNCg0KICAgICAgICAvLyDmt7vliqDpobbngrnmoIforrANCiAgICAgICAgY29uc3QgdmVydGV4TWFya2VyID0gbmV3IHdpbmRvdy5BTWFwLk1hcmtlcih7DQogICAgICAgICAgcG9zaXRpb246IFtwb2ludC5sbmcsIHBvaW50LmxhdF0sDQogICAgICAgICAgaWNvbjogbmV3IHdpbmRvdy5BTWFwLkljb24oew0KICAgICAgICAgICAgc2l6ZTogbmV3IHdpbmRvdy5BTWFwLlNpemUoMjAsIDIwKSwNCiAgICAgICAgICAgIGltYWdlOiAnLy9hLmFtYXAuY29tL2pzYXBpX2RlbW9zL3N0YXRpYy9kZW1vLWNlbnRlci9pY29ucy9wb2ktbWFya2VyLWRlZmF1bHQucG5nJywNCiAgICAgICAgICAgIGltYWdlU2l6ZTogbmV3IHdpbmRvdy5BTWFwLlNpemUoMjAsIDIwKQ0KICAgICAgICAgIH0pLA0KICAgICAgICAgIG9mZnNldDogbmV3IHdpbmRvdy5BTWFwLlBpeGVsKC0xMCwgLTEwKSwNCiAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgY29udGVudDogYDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICM0Q0FGNTA7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMnB4IDZweDsgYm9yZGVyLXJhZGl1czogM3B4OyBmb250LXNpemU6IDEycHg7Ij4ke3RoaXMudGVtcFBhdGgubGVuZ3RofTwvZGl2PmAsDQogICAgICAgICAgICBvZmZzZXQ6IG5ldyB3aW5kb3cuQU1hcC5QaXhlbCgwLCAtMzApDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLm1hcC5hZGQodmVydGV4TWFya2VyKQ0KICAgICAgICB0aGlzLnRlbXBNYXJrZXJzLnB1c2godmVydGV4TWFya2VyKQ0KDQogICAgICAgIC8vIOWunuaXtue7mOWItuWkmui+ueW9og0KICAgICAgICBpZiAodGhpcy50ZW1wUGF0aC5sZW5ndGggPj0gMikgew0KICAgICAgICAgIHRoaXMuZHJhd1BvbHlnb24odGhpcy50ZW1wUGF0aCwgdHJ1ZSkNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIOaPkOekuueUqOaIt+i/m+W6pg0KICAgICAgICBpZiAodGhpcy50ZW1wUGF0aC5sZW5ndGggPT09IDEpIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+W3sua3u+WKoOesrDHkuKrngrnvvIznu6fnu63ngrnlh7vmt7vliqDovrnnlYzngrknKQ0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGVtcFBhdGgubGVuZ3RoID09PSAyKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCflt7Lmt7vliqDnrKwy5Liq54K577yM6Iez5bCR6ZyA6KaBM+S4queCueW9ouaIkOWMuuWfnycpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGDlt7Lmt7vliqDnrKwke3RoaXMudGVtcFBhdGgubGVuZ3RofeS4queCuWApDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIOaZrumAmuaooeW8j++8muiuvue9ruS4reW/g+eCuQ0KICAgICAgICB0aGlzLmNlbnRlciA9IHsNCiAgICAgICAgICBsbmc6IE51bWJlcihlLmxuZ2xhdC5sbmcpLA0KICAgICAgICAgIGxhdDogTnVtYmVyKGUubG5nbGF0LmxhdCkNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmFkZE1hcmtlcih0aGlzLmNlbnRlcikNCiAgICAgIH0NCiAgICB9LA0KDQogICAgLy8g57uY5Yi25aSa6L655b2iDQogICAgZHJhd1BvbHlnb24ocGF0aCwgaXNUZW1wID0gZmFsc2UpIHsNCiAgICAgIGlmICghcGF0aCB8fCAhQXJyYXkuaXNBcnJheShwYXRoKSB8fCBwYXRoLmxlbmd0aCA8IDIpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcign5peg5pWI55qE6Lev5b6E5pWw5o2uJywgcGF0aCkNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIC8vIOenu+mZpOaXp+Wkmui+ueW9og0KICAgICAgaWYgKHRoaXMucG9seWdvbikgew0KICAgICAgICB0aGlzLm1hcC5yZW1vdmUodGhpcy5wb2x5Z29uKQ0KICAgICAgfQ0KDQogICAgICAvLyDovazmjaLlnZDmoIfmoLzlvI/lubbpqozor4ENCiAgICAgIGNvbnN0IGFtYXBQYXRoID0gcGF0aC5tYXAocCA9PiB7DQogICAgICAgIGlmICghcCB8fCB0eXBlb2YgcC5sbmcgIT09ICdudW1iZXInIHx8IHR5cGVvZiBwLmxhdCAhPT0gJ251bWJlcicpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCfml6DmlYjnmoTlnZDmoIfngrknLCBwKQ0KICAgICAgICAgIHJldHVybiBudWxsDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIFtwLmxuZywgcC5sYXRdDQogICAgICB9KS5maWx0ZXIocCA9PiBwICE9PSBudWxsKQ0KDQogICAgICBpZiAoYW1hcFBhdGgubGVuZ3RoIDwgMikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCfmnInmlYjlnZDmoIfngrnkuI3otrMnKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgLy8g5Yib5bu65aSa6L655b2iDQogICAgICB0aGlzLnBvbHlnb24gPSBuZXcgd2luZG93LkFNYXAuUG9seWdvbih7DQogICAgICAgIHBhdGg6IGFtYXBQYXRoLA0KICAgICAgICBzdHJva2VDb2xvcjogJyM0Q0FGNTAnLA0KICAgICAgICBzdHJva2VXZWlnaHQ6IDMsDQogICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuOCwNCiAgICAgICAgZmlsbENvbG9yOiBpc1RlbXAgPyAnIzgxQzc4NCcgOiAnIzRDQUY1MCcsDQogICAgICAgIGZpbGxPcGFjaXR5OiBpc1RlbXAgPyAwLjIgOiAwLjM1LA0KICAgICAgICB6SW5kZXg6IDUwDQogICAgICB9KQ0KDQogICAgICB0aGlzLm1hcC5hZGQodGhpcy5wb2x5Z29uKQ0KDQogICAgICAvLyDorqHnrpfpnaLnp6/vvIjku4XlnKjlrozmiJDnu5jliLbml7bvvIkNCiAgICAgIGlmICghaXNUZW1wICYmIHBhdGgubGVuZ3RoID49IDMpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICB0aGlzLmFyZWFTaXplID0gTWF0aC5yb3VuZCh0aGlzLnBvbHlnb24uZ2V0QXJlYSgpKQ0KICAgICAgICAgIA0KICAgICAgICAgIC8vIOiuoeeul+S4reW/g+eCuQ0KICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMucG9seWdvbi5nZXRCb3VuZHMoKQ0KICAgICAgICAgIGNvbnN0IGNlbnRlciA9IGJvdW5kcy5nZXRDZW50ZXIoKQ0KICAgICAgICAgIHRoaXMuY2VudGVyID0gew0KICAgICAgICAgICAgbG5nOiBOdW1iZXIoY2VudGVyLmxuZyksDQogICAgICAgICAgICBsYXQ6IE51bWJlcihjZW50ZXIubGF0KQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmFkZE1hcmtlcih0aGlzLmNlbnRlcikNCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCforqHnrpfpnaLnp6/lpLHotKUnLCBlcnJvcikNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyDliIfmjaLnu5jliLbmqKHlvI8NCiAgICB0b2dnbGVEcmF3TW9kZSgpIHsNCiAgICAgIHRoaXMuZHJhd01vZGUgPSAhdGhpcy5kcmF3TW9kZQ0KICAgICAgDQogICAgICBpZiAodGhpcy5kcmF3TW9kZSkgew0KICAgICAgICB0aGlzLnRlbXBQYXRoID0gW10NCiAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCfor7flnKjlnLDlm77kuIrngrnlh7vmoIforrDlhpzlnLrovrnnlYwnKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8g5a6M5oiQ57uY5Yi2DQogICAgICAgIGlmICh0aGlzLnRlbXBQYXRoLmxlbmd0aCA8IDMpIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+iHs+WwkemcgOimgTPkuKrngrnmiY3og73lvaLmiJDljLrln58nKQ0KICAgICAgICAgIHRoaXMudGVtcFBhdGggPSBbXQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IFsuLi50aGlzLnRlbXBQYXRoXQ0KICAgICAgICB0aGlzLmRyYXdQb2x5Z29uKHRoaXMuY29vcmRpbmF0ZXMsIGZhbHNlKQ0KICAgICAgICB0aGlzLnRlbXBQYXRoID0gW10NCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfljLrln5/nu5jliLblrozmiJAnKQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyDmuIXpmaTlpJrovrnlvaINCiAgICBjbGVhclBvbHlnb24oKSB7DQogICAgICAvLyDmuIXpmaTlpJrovrnlvaINCiAgICAgIGlmICh0aGlzLnBvbHlnb24pIHsNCiAgICAgICAgdGhpcy5tYXAucmVtb3ZlKHRoaXMucG9seWdvbikNCiAgICAgICAgdGhpcy5wb2x5Z29uID0gbnVsbA0KICAgICAgfQ0KICAgICAgDQogICAgICAvLyDmuIXpmaTmiYDmnInkuLTml7bpobbngrnmoIforrANCiAgICAgIGlmICh0aGlzLnRlbXBNYXJrZXJzICYmIHRoaXMudGVtcE1hcmtlcnMubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLm1hcC5yZW1vdmUodGhpcy50ZW1wTWFya2VycykNCiAgICAgICAgdGhpcy50ZW1wTWFya2VycyA9IFtdDQogICAgICB9DQogICAgICANCiAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBbXQ0KICAgICAgdGhpcy5hcmVhU2l6ZSA9IDANCiAgICAgIHRoaXMudGVtcFBhdGggPSBbXQ0KICAgICAgdGhpcy5kcmF3TW9kZSA9IGZhbHNlDQogICAgICANCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yy65Z+f5bey5riF6ZmkJykNCiAgICB9LA0KDQogICAgLy8g56Gu6K6k6YCJ5oupDQogICAgaGFuZGxlQ29uZmlybSgpIHsNCiAgICAgIGlmICghdGhpcy5jZW50ZXIgfHwgdHlwZW9mIHRoaXMuY2VudGVyLmxuZyAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHRoaXMuY2VudGVyLmxhdCAhPT0gJ251bWJlcicpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7flhYjpgInmi6nmiJbmkJzntKLlhpzlnLrkvY3nva4nKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgLy8g6aqM6K+B57uP57qs5bqm6IyD5Zu0DQogICAgICBpZiAodGhpcy5jZW50ZXIubG5nIDwgLTE4MCB8fCB0aGlzLmNlbnRlci5sbmcgPiAxODAgfHwgDQogICAgICAgICAgdGhpcy5jZW50ZXIubGF0IDwgLTkwIHx8IHRoaXMuY2VudGVyLmxhdCA+IDkwKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WdkOagh+aVsOaNruW8guW4uO+8jOivt+mHjeaWsOmAieaLqScpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KDQogICAgICBjb25zdCBkYXRhID0gew0KICAgICAgICBjZW50ZXJMbmc6IHRoaXMuY2VudGVyLmxuZywNCiAgICAgICAgY2VudGVyTGF0OiB0aGlzLmNlbnRlci5sYXQsDQogICAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCA+PSAzID8gSlNPTi5zdHJpbmdpZnkodGhpcy5jb29yZGluYXRlcykgOiBudWxsLA0KICAgICAgICBhcmVhU2l6ZTogdGhpcy5hcmVhU2l6ZQ0KICAgICAgfQ0KDQogICAgICB0aGlzLiRlbWl0KCdjb25maXJtJywgZGF0YSkNCiAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKQ0KICAgIH0sDQoNCiAgICAvLyDlhbPpl63lr7nor53moYYNCiAgICBoYW5kbGVDbG9zZSgpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp2aXNpYmxlJywgZmFsc2UpDQogICAgICB0aGlzLmRlc3Ryb3lNYXAoKQ0KICAgIH0sDQoNCiAgICAvLyDplIDmr4HlnLDlm74NCiAgICBkZXN0cm95TWFwKCkgew0KICAgICAgLy8g5riF55CG5Li05pe25qCH6K6wDQogICAgICBpZiAodGhpcy50ZW1wTWFya2VycyAmJiB0aGlzLnRlbXBNYXJrZXJzLmxlbmd0aCA+IDAgJiYgdGhpcy5tYXApIHsNCiAgICAgICAgdGhpcy5tYXAucmVtb3ZlKHRoaXMudGVtcE1hcmtlcnMpDQogICAgICAgIHRoaXMudGVtcE1hcmtlcnMgPSBbXQ0KICAgICAgfQ0KICAgICAgDQogICAgICAvLyDmuIXnkIblnLDlm74NCiAgICAgIGlmICh0aGlzLm1hcCkgew0KICAgICAgICB0aGlzLm1hcC5kZXN0cm95KCkNCiAgICAgICAgdGhpcy5tYXAgPSBudWxsDQogICAgICB9DQogICAgICANCiAgICAgIC8vIOmHjee9rueKtuaAgQ0KICAgICAgdGhpcy5tYXJrZXIgPSBudWxsDQogICAgICB0aGlzLnBvbHlnb24gPSBudWxsDQogICAgICB0aGlzLmdlb2NvZGVyID0gbnVsbA0KICAgICAgdGhpcy5kcmF3TW9kZSA9IGZhbHNlDQogICAgICB0aGlzLnRlbXBQYXRoID0gW10NCiAgICAgIHRoaXMuc2VsZWN0ZWRQb2lJbmRleCA9IDANCiAgICAgIHRoaXMubWFwSW5pdGlhbGl6ZWQgPSBmYWxzZQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["FarmLocationSelector.vue"],"names":[],"mappings":";AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FarmLocationSelector.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-dialog \r\n    title=\"选择农场位置\" \r\n    :visible.sync=\"visible\" \r\n    width=\"90%\"\r\n    top=\"5vh\"\r\n    :close-on-click-modal=\"false\"\r\n    @close=\"handleClose\"\r\n  >\r\n    <div class=\"location-selector\">\r\n      <!-- 搜索栏 -->\r\n      <div class=\"search-bar\">\r\n        <el-input\r\n          v-model=\"searchKeyword\"\r\n          placeholder=\"请输入地址搜索（如：张家界市武陵源区）\"\r\n          clearable\r\n          @keyup.enter.native=\"searchLocation\"\r\n        >\r\n          <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchLocation\">搜索</el-button>\r\n        </el-input>\r\n        \r\n        <div class=\"tool-buttons\">\r\n          <el-button \r\n            :type=\"drawMode ? 'success' : 'primary'\" \r\n            icon=\"el-icon-edit\" \r\n            size=\"small\"\r\n            @click=\"toggleDrawMode\"\r\n          >\r\n            {{ drawMode ? '完成绘制' : '开始绘制' }}\r\n          </el-button>\r\n          <el-button \r\n            type=\"warning\" \r\n            icon=\"el-icon-delete\" \r\n            size=\"small\"\r\n            @click=\"clearPolygon\"\r\n            v-if=\"polygon\"\r\n          >\r\n            清除区域\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 地图容器 -->\r\n      <div id=\"farm-location-map\" class=\"map-container\"></div>\r\n\r\n      <!-- 操作提示 -->\r\n      <div class=\"tips\" v-if=\"drawMode\">\r\n        <i class=\"el-icon-info\"></i>\r\n        <span>绘制模式：在地图上依次点击标记农场边界点（至少3个点），点击\"完成绘制\"结束</span>\r\n        <span v-if=\"tempPath.length > 0\" style=\"margin-left: 10px; color: #4CAF50; font-weight: bold;\">\r\n          已标记 {{ tempPath.length }} 个点\r\n        </span>\r\n      </div>\r\n      <div class=\"tips\" v-else style=\"background: #E3F2FD; border-left-color: #2196F3;\">\r\n        <i class=\"el-icon-info\" style=\"color: #2196F3;\"></i>\r\n        <span>搜索提示：可以搜索地名、学校、景点等，如\"吉首大学\"、\"天门山\"、\"张家界市武陵源区\"</span>\r\n      </div>\r\n\r\n      <!-- 坐标信息 -->\r\n      <div class=\"coord-info\" v-if=\"center\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"8\">\r\n            <el-tag>中心经度: {{ center.lng.toFixed(6) }}</el-tag>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-tag>中心纬度: {{ center.lat.toFixed(6) }}</el-tag>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-tag type=\"success\" v-if=\"areaSize\">面积: {{ areaSize }} m²</el-tag>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"handleClose\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"handleConfirm\" :disabled=\"!center\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FarmLocationSelector',\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 初始位置数据\r\n    initialData: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      map: null,\r\n      marker: null,\r\n      polygon: null,\r\n      drawMode: false,\r\n      searchKeyword: '',\r\n      center: null,\r\n      coordinates: [],\r\n      areaSize: 0,\r\n      amapKey: '',\r\n      geocoder: null,\r\n      tempPath: [], // 临时绘制路径\r\n      mapInitialized: false, // 地图初始化状态\r\n      selectedPoiIndex: 0, // 选中的POI索引\r\n      tempMarkers: [] // 临时标记点（绘制模式）\r\n    }\r\n  },\r\n  watch: {\r\n    visible(val) {\r\n      if (val && !this.mapInitialized) {\r\n        this.$nextTick(() => {\r\n          this.initMap()\r\n        })\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    // 组件销毁时清理地图\r\n    this.destroyMap()\r\n  },\r\n  methods: {\r\n    async initMap() {\r\n      if (this.mapInitialized) {\r\n        return\r\n      }\r\n\r\n      try {\r\n        // 获取高德地图Key\r\n        if (!this.amapKey) {\r\n          const res = await this.request.get('/aether/weather/config')\r\n          if (!res.data || !res.data.jsKey) {\r\n            throw new Error('无法获取地图配置')\r\n          }\r\n          this.amapKey = res.data.jsKey\r\n        }\r\n\r\n        // 加载高德地图脚本\r\n        await this.loadAmapScript()\r\n        \r\n        // 检查地图容器是否存在\r\n        const container = document.getElementById('farm-location-map')\r\n        if (!container) {\r\n          throw new Error('地图容器不存在')\r\n        }\r\n\r\n        // 创建地图\r\n        const defaultCenter = [110.479191, 29.117096] // 张家界默认中心点\r\n        const initialCenter = this.initialData.centerLng && this.initialData.centerLat\r\n          ? [Number(this.initialData.centerLng), Number(this.initialData.centerLat)]\r\n          : defaultCenter\r\n\r\n        this.map = new window.AMap.Map('farm-location-map', {\r\n          zoom: 13,\r\n          center: initialCenter,\r\n          mapStyle: 'amap://styles/normal'\r\n        })\r\n\r\n        // 添加工具栏\r\n        this.map.addControl(new window.AMap.ToolBar({\r\n          position: 'RT'\r\n        }))\r\n\r\n        // 添加比例尺\r\n        this.map.addControl(new window.AMap.Scale())\r\n\r\n        // 创建地理编码器\r\n        this.geocoder = new window.AMap.Geocoder()\r\n\r\n        // 如果有初始数据，显示\r\n        if (this.initialData.centerLng && this.initialData.centerLat) {\r\n          this.center = {\r\n            lng: Number(this.initialData.centerLng),\r\n            lat: Number(this.initialData.centerLat)\r\n          }\r\n          this.addMarker(this.center)\r\n\r\n          // 如果有区域数据，显示多边形\r\n          if (this.initialData.coordinates) {\r\n            try {\r\n              const coords = typeof this.initialData.coordinates === 'string'\r\n                ? JSON.parse(this.initialData.coordinates)\r\n                : this.initialData.coordinates\r\n              \r\n              if (Array.isArray(coords) && coords.length >= 3) {\r\n                this.coordinates = coords\r\n                this.drawPolygon(coords)\r\n              }\r\n            } catch (e) {\r\n              console.error('解析坐标数据失败', e)\r\n              this.$message.warning('历史区域数据加载失败')\r\n            }\r\n          }\r\n        }\r\n\r\n        // 地图点击事件\r\n        this.map.on('click', this.onMapClick)\r\n        \r\n        this.mapInitialized = true\r\n      } catch (error) {\r\n        console.error('地图初始化失败', error)\r\n        this.$message.error('地图初始化失败：' + error.message)\r\n      }\r\n    },\r\n\r\n    loadAmapScript() {\r\n      return new Promise((resolve, reject) => {\r\n        if (window.AMap) {\r\n          resolve()\r\n          return\r\n        }\r\n\r\n        const script = document.createElement('script')\r\n        script.src = `https://webapi.amap.com/maps?v=2.0&key=${this.amapKey}&plugin=AMap.Geocoder,AMap.PlaceSearch,AMap.ToolBar,AMap.Scale,AMap.Polygon,AMap.Marker`\r\n        script.onload = resolve\r\n        script.onerror = reject\r\n        document.head.appendChild(script)\r\n      })\r\n    },\r\n\r\n    // 搜索地址 - 使用POI搜索或地理编码\r\n    searchLocation() {\r\n      if (!this.searchKeyword || !this.searchKeyword.trim()) {\r\n        this.$message.warning('请输入搜索关键词')\r\n        return\r\n      }\r\n\r\n      const keyword = this.searchKeyword.trim()\r\n      \r\n      // 使用 AMap.PlaceSearch 进行POI搜索\r\n      window.AMap.plugin('AMap.PlaceSearch', () => {\r\n        const placeSearch = new window.AMap.PlaceSearch({\r\n          city: '张家界', // 默认城市\r\n          citylimit: false, // 不限制城市范围\r\n          pageSize: 10, // 返回10条结果\r\n          extensions: 'all' // 返回详细信息\r\n        })\r\n\r\n        placeSearch.search(keyword, (status, result) => {\r\n          if (status === 'complete' && result.poiList && result.poiList.pois && result.poiList.pois.length > 0) {\r\n            // POI搜索成功\r\n            const pois = result.poiList.pois\r\n            \r\n            if (pois.length === 1) {\r\n              // 只有一个结果，直接定位\r\n              this.handleSearchResult(pois[0])\r\n            } else {\r\n              // 多个结果，显示选择列表\r\n              this.showSearchResults(pois)\r\n            }\r\n          } else {\r\n            // POI搜索失败，尝试地理编码\r\n            this.searchWithGeocode(keyword)\r\n          }\r\n        })\r\n      })\r\n    },\r\n\r\n    // 处理搜索结果\r\n    handleSearchResult(poi) {\r\n      const location = poi.location\r\n      this.center = {\r\n        lng: Number(location.lng),\r\n        lat: Number(location.lat)\r\n      }\r\n      \r\n      this.map.setCenter([location.lng, location.lat])\r\n      this.map.setZoom(16)\r\n      this.addMarker(this.center)\r\n      \r\n      const addressInfo = poi.address || poi.pname + poi.cityname + poi.adname\r\n      this.$message.success({\r\n        message: `定位成功：${poi.name}`,\r\n        description: addressInfo,\r\n        duration: 3000\r\n      })\r\n    },\r\n\r\n    // 显示多个搜索结果供用户选择\r\n    showSearchResults(pois) {\r\n      const items = pois.slice(0, 5).map((poi, index) => {\r\n        const address = poi.address || `${poi.pname}${poi.cityname}${poi.adname}`\r\n        return {\r\n          label: `${index + 1}. ${poi.name} - ${address}`,\r\n          value: index,\r\n          poi: poi\r\n        }\r\n      })\r\n\r\n      this.$msgbox({\r\n        title: '搜索到多个结果，请选择：',\r\n        message: this.$createElement('el-radio-group', {\r\n          props: { value: 0 },\r\n          on: {\r\n            input: (val) => {\r\n              this.selectedPoiIndex = val\r\n            }\r\n          }\r\n        }, items.map(item => \r\n          this.$createElement('el-radio', {\r\n            props: { label: item.value },\r\n            style: { display: 'block', marginBottom: '10px' }\r\n          }, item.label)\r\n        )),\r\n        showCancelButton: true,\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        beforeClose: (action, instance, done) => {\r\n          if (action === 'confirm') {\r\n            const selectedPoi = pois[this.selectedPoiIndex || 0]\r\n            this.handleSearchResult(selectedPoi)\r\n          }\r\n          done()\r\n        }\r\n      }).catch(() => {})\r\n    },\r\n\r\n    // 使用地理编码搜索\r\n    searchWithGeocode(keyword) {\r\n      if (!this.geocoder) {\r\n        this.$message.error('地理编码器未初始化，请稍后再试')\r\n        return\r\n      }\r\n\r\n      this.geocoder.getLocation(keyword, (status, result) => {\r\n        if (status === 'complete' && result.geocodes && result.geocodes.length) {\r\n          const location = result.geocodes[0].location\r\n          this.center = {\r\n            lng: Number(location.lng),\r\n            lat: Number(location.lat)\r\n          }\r\n          \r\n          this.map.setCenter([location.lng, location.lat])\r\n          this.map.setZoom(15)\r\n          this.addMarker(this.center)\r\n          \r\n          this.$message.success(`定位成功：${result.geocodes[0].formattedAddress || keyword}`)\r\n        } else {\r\n          this.$message.error('未找到该地址，请尝试更详细的地址描述')\r\n        }\r\n      })\r\n    },\r\n\r\n    // 添加标记\r\n    addMarker(position) {\r\n      if (!position || typeof position.lng !== 'number' || typeof position.lat !== 'number') {\r\n        console.error('无效的位置数据', position)\r\n        return\r\n      }\r\n\r\n      // 移除旧标记\r\n      if (this.marker) {\r\n        this.map.remove(this.marker)\r\n      }\r\n\r\n      // 添加新标记\r\n      this.marker = new window.AMap.Marker({\r\n        position: [position.lng, position.lat],\r\n        title: '农场中心',\r\n        icon: new window.AMap.Icon({\r\n          size: new window.AMap.Size(32, 32),\r\n          image: '//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-red.png',\r\n          imageSize: new window.AMap.Size(32, 32)\r\n        })\r\n      })\r\n\r\n      this.map.add(this.marker)\r\n    },\r\n\r\n    // 地图点击事件\r\n    onMapClick(e) {\r\n      if (!e || !e.lnglat) {\r\n        return\r\n      }\r\n\r\n      if (this.drawMode) {\r\n        // 绘制模式：添加多边形顶点\r\n        const point = {\r\n          lng: Number(e.lnglat.lng),\r\n          lat: Number(e.lnglat.lat)\r\n        }\r\n        this.tempPath.push(point)\r\n\r\n        // 添加顶点标记\r\n        const vertexMarker = new window.AMap.Marker({\r\n          position: [point.lng, point.lat],\r\n          icon: new window.AMap.Icon({\r\n            size: new window.AMap.Size(20, 20),\r\n            image: '//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png',\r\n            imageSize: new window.AMap.Size(20, 20)\r\n          }),\r\n          offset: new window.AMap.Pixel(-10, -10),\r\n          label: {\r\n            content: `<div style=\"background: #4CAF50; color: white; padding: 2px 6px; border-radius: 3px; font-size: 12px;\">${this.tempPath.length}</div>`,\r\n            offset: new window.AMap.Pixel(0, -30)\r\n          }\r\n        })\r\n        this.map.add(vertexMarker)\r\n        this.tempMarkers.push(vertexMarker)\r\n\r\n        // 实时绘制多边形\r\n        if (this.tempPath.length >= 2) {\r\n          this.drawPolygon(this.tempPath, true)\r\n        }\r\n\r\n        // 提示用户进度\r\n        if (this.tempPath.length === 1) {\r\n          this.$message.info('已添加第1个点，继续点击添加边界点')\r\n        } else if (this.tempPath.length === 2) {\r\n          this.$message.info('已添加第2个点，至少需要3个点形成区域')\r\n        } else {\r\n          this.$message.success(`已添加第${this.tempPath.length}个点`)\r\n        }\r\n      } else {\r\n        // 普通模式：设置中心点\r\n        this.center = {\r\n          lng: Number(e.lnglat.lng),\r\n          lat: Number(e.lnglat.lat)\r\n        }\r\n        this.addMarker(this.center)\r\n      }\r\n    },\r\n\r\n    // 绘制多边形\r\n    drawPolygon(path, isTemp = false) {\r\n      if (!path || !Array.isArray(path) || path.length < 2) {\r\n        console.error('无效的路径数据', path)\r\n        return\r\n      }\r\n\r\n      // 移除旧多边形\r\n      if (this.polygon) {\r\n        this.map.remove(this.polygon)\r\n      }\r\n\r\n      // 转换坐标格式并验证\r\n      const amapPath = path.map(p => {\r\n        if (!p || typeof p.lng !== 'number' || typeof p.lat !== 'number') {\r\n          console.error('无效的坐标点', p)\r\n          return null\r\n        }\r\n        return [p.lng, p.lat]\r\n      }).filter(p => p !== null)\r\n\r\n      if (amapPath.length < 2) {\r\n        console.error('有效坐标点不足')\r\n        return\r\n      }\r\n\r\n      // 创建多边形\r\n      this.polygon = new window.AMap.Polygon({\r\n        path: amapPath,\r\n        strokeColor: '#4CAF50',\r\n        strokeWeight: 3,\r\n        strokeOpacity: 0.8,\r\n        fillColor: isTemp ? '#81C784' : '#4CAF50',\r\n        fillOpacity: isTemp ? 0.2 : 0.35,\r\n        zIndex: 50\r\n      })\r\n\r\n      this.map.add(this.polygon)\r\n\r\n      // 计算面积（仅在完成绘制时）\r\n      if (!isTemp && path.length >= 3) {\r\n        try {\r\n          this.areaSize = Math.round(this.polygon.getArea())\r\n          \r\n          // 计算中心点\r\n          const bounds = this.polygon.getBounds()\r\n          const center = bounds.getCenter()\r\n          this.center = {\r\n            lng: Number(center.lng),\r\n            lat: Number(center.lat)\r\n          }\r\n          this.addMarker(this.center)\r\n        } catch (error) {\r\n          console.error('计算面积失败', error)\r\n        }\r\n      }\r\n    },\r\n\r\n    // 切换绘制模式\r\n    toggleDrawMode() {\r\n      this.drawMode = !this.drawMode\r\n      \r\n      if (this.drawMode) {\r\n        this.tempPath = []\r\n        this.$message.info('请在地图上点击标记农场边界')\r\n      } else {\r\n        // 完成绘制\r\n        if (this.tempPath.length < 3) {\r\n          this.$message.warning('至少需要3个点才能形成区域')\r\n          this.tempPath = []\r\n          return\r\n        }\r\n\r\n        this.coordinates = [...this.tempPath]\r\n        this.drawPolygon(this.coordinates, false)\r\n        this.tempPath = []\r\n        this.$message.success('区域绘制完成')\r\n      }\r\n    },\r\n\r\n    // 清除多边形\r\n    clearPolygon() {\r\n      // 清除多边形\r\n      if (this.polygon) {\r\n        this.map.remove(this.polygon)\r\n        this.polygon = null\r\n      }\r\n      \r\n      // 清除所有临时顶点标记\r\n      if (this.tempMarkers && this.tempMarkers.length > 0) {\r\n        this.map.remove(this.tempMarkers)\r\n        this.tempMarkers = []\r\n      }\r\n      \r\n      this.coordinates = []\r\n      this.areaSize = 0\r\n      this.tempPath = []\r\n      this.drawMode = false\r\n      \r\n      this.$message.success('区域已清除')\r\n    },\r\n\r\n    // 确认选择\r\n    handleConfirm() {\r\n      if (!this.center || typeof this.center.lng !== 'number' || typeof this.center.lat !== 'number') {\r\n        this.$message.warning('请先选择或搜索农场位置')\r\n        return\r\n      }\r\n\r\n      // 验证经纬度范围\r\n      if (this.center.lng < -180 || this.center.lng > 180 || \r\n          this.center.lat < -90 || this.center.lat > 90) {\r\n        this.$message.error('坐标数据异常，请重新选择')\r\n        return\r\n      }\r\n\r\n      const data = {\r\n        centerLng: this.center.lng,\r\n        centerLat: this.center.lat,\r\n        coordinates: this.coordinates.length >= 3 ? JSON.stringify(this.coordinates) : null,\r\n        areaSize: this.areaSize\r\n      }\r\n\r\n      this.$emit('confirm', data)\r\n      this.handleClose()\r\n    },\r\n\r\n    // 关闭对话框\r\n    handleClose() {\r\n      this.$emit('update:visible', false)\r\n      this.destroyMap()\r\n    },\r\n\r\n    // 销毁地图\r\n    destroyMap() {\r\n      // 清理临时标记\r\n      if (this.tempMarkers && this.tempMarkers.length > 0 && this.map) {\r\n        this.map.remove(this.tempMarkers)\r\n        this.tempMarkers = []\r\n      }\r\n      \r\n      // 清理地图\r\n      if (this.map) {\r\n        this.map.destroy()\r\n        this.map = null\r\n      }\r\n      \r\n      // 重置状态\r\n      this.marker = null\r\n      this.polygon = null\r\n      this.geocoder = null\r\n      this.drawMode = false\r\n      this.tempPath = []\r\n      this.selectedPoiIndex = 0\r\n      this.mapInitialized = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.location-selector {\r\n  padding: 10px;\r\n}\r\n\r\n.search-bar {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 15px;\r\n  align-items: center;\r\n}\r\n\r\n.search-bar .el-input {\r\n  flex: 1;\r\n}\r\n\r\n.tool-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.map-container {\r\n  width: 100%;\r\n  height: 500px;\r\n  border: 2px solid #4CAF50;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n.tips {\r\n  margin-top: 10px;\r\n  padding: 10px;\r\n  background: #E8F5E9;\r\n  border-left: 4px solid #4CAF50;\r\n  border-radius: 4px;\r\n  color: #2C5530;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.tips i {\r\n  font-size: 18px;\r\n  color: #4CAF50;\r\n}\r\n\r\n.coord-info {\r\n  margin-top: 15px;\r\n  padding: 10px;\r\n  background: #F5F5F5;\r\n  border-radius: 4px;\r\n}\r\n\r\n.coord-info .el-tag {\r\n  font-size: 13px;\r\n  padding: 8px 12px;\r\n}\r\n\r\n/* 对话框样式 */\r\n::v-deep .el-dialog {\r\n  border-radius: 12px;\r\n}\r\n\r\n::v-deep .el-dialog__header {\r\n  background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(129, 199, 132, 0.1) 100%);\r\n  border-bottom: 2px solid rgba(76, 175, 80, 0.2);\r\n  padding: 20px;\r\n}\r\n\r\n::v-deep .el-dialog__title {\r\n  color: #2C5530;\r\n  font-weight: 600;\r\n  font-size: 18px;\r\n}\r\n\r\n::v-deep .el-dialog__body {\r\n  padding: 20px;\r\n}\r\n</style>\r\n\r\n"]}]}