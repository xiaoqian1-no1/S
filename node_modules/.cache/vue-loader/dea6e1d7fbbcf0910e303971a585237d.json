{"remainingRequest":"F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\1\\smart\\vue\\src\\views\\AetherMonitor.vue?vue&type=style&index=0&id=788749ea&scoped=true&lang=css","dependencies":[{"path":"F:\\1\\smart\\vue\\src\\views\\AetherMonitor.vue","mtime":1763349363065},{"path":"F:\\1\\smart\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1735803513193},{"path":"F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1735803515658},{"path":"F:\\1\\smart\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1735803514041},{"path":"F:\\1\\smart\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735803512432},{"path":"F:\\1\\smart\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1735803514728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouYWV0aGVyLW1vbml0b3Igew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHBhZGRpbmc6IDIwcHg7DQogIG1pbi1oZWlnaHQ6IDEwMHZoOw0KICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KDQovKiDnspLlrZDnlLvluIMgKi8NCi5wYXJ0aWNsZS1jYW52YXMgew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIHRvcDogMDsNCiAgbGVmdDogMDsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTAwJTsNCiAgei1pbmRleDogMDsNCiAgcG9pbnRlci1ldmVudHM6IG5vbmU7DQp9DQoNCi8qIOehruS/neWGheWuueWcqOeykuWtkOS5i+S4iiAqLw0KLmFldGhlci1tb25pdG9yID4gKjpub3QoLnBhcnRpY2xlLWNhbnZhcykgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHotaW5kZXg6IDE7DQp9DQoNCi5oZWFkZXIgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIG1hcmdpbi1ib3R0b206IDIwcHg7DQogIHBhZGRpbmc6IDE1cHggMjBweDsNCiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQ1KSAhaW1wb3J0YW50Ow0KICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7DQogIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgYm94LXNoYWRvdzogMCAycHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7DQp9DQoNCi50aXRsZSB7DQogIGZvbnQtc2l6ZTogMjRweDsNCiAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogIGNvbG9yOiAjMzAzMTMzOw0KfQ0KDQoua3BpLXJvdyB7DQogIG1hcmdpbi1ib3R0b206IDIwcHg7DQp9DQoNCi5rcGktY2FyZCB7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7DQogIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40NSkgIWltcG9ydGFudDsNCiAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOw0KfQ0KDQoua3BpLWNhcmQ6aG92ZXIgew0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7DQogIGJveC1zaGFkb3c6IDAgNHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjE1KTsNCn0NCg0KLmtwaS1sYWJlbCB7DQogIGZvbnQtc2l6ZTogMTRweDsNCiAgY29sb3I6ICM5MDkzOTk7DQogIG1hcmdpbi1ib3R0b206IDEwcHg7DQp9DQoNCi5rcGktdmFsdWUgew0KICBmb250LXNpemU6IDM2cHg7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KICBjb2xvcjogIzQwOUVGRjsNCiAgbWFyZ2luOiAxMHB4IDA7DQp9DQoNCi5rcGktZGVzYyB7DQogIGZvbnQtc2l6ZTogMTJweDsNCiAgY29sb3I6ICNDMEM0Q0M7DQp9DQoNCi53ZWF0aGVyLWNhcmQgLmtwaS12YWx1ZSB7DQogIGNvbG9yOiAjRTZBMjNDOw0KfQ0KDQoubGFtcC1jYXJkIC5sYW1wLWNvbnRyb2wgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBnYXA6IDEwcHg7DQogIG1hcmdpbjogMTVweCAwOw0KfQ0KDQoubGFtcC1jYXJkIGkgew0KICBmb250LXNpemU6IDQ4cHg7DQogIGNvbG9yOiAjRENERkU2Ow0KICB0cmFuc2l0aW9uOiBhbGwgMC4zczsNCn0NCg0KLmxhbXAtY2FyZCBpLmFjdGl2ZSB7DQogIGNvbG9yOiAjRjU2QzZDOw0KICBhbmltYXRpb246IHB1bHNlIDJzIGluZmluaXRlOw0KfQ0KDQpAa2V5ZnJhbWVzIHB1bHNlIHsNCiAgMCUsIDEwMCUgeyBvcGFjaXR5OiAxOyB9DQogIDUwJSB7IG9wYWNpdHk6IDAuNjsgfQ0KfQ0KDQoud2VhdGhlci1yb3csDQouY2hhcnQtcm93IHsNCiAgbWFyZ2luLWJvdHRvbTogMjBweDsNCn0NCg0KLmNhcmQtaGVhZGVyIHsNCiAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogIGZvbnQtc2l6ZTogMTZweDsNCn0NCg0KLmZvcmVjYXN0LWxpc3Qgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsNCiAgZmxleC13cmFwOiB3cmFwOw0KICBnYXA6IDEwcHg7DQp9DQoNCi5mb3JlY2FzdC1pdGVtIHsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBwYWRkaW5nOiAxMHB4Ow0KICBib3JkZXItcmFkaXVzOiA4cHg7DQogIGJhY2tncm91bmQ6ICNmNWY3ZmE7DQogIG1pbi13aWR0aDogODBweDsNCn0NCg0KLmZvcmVjYXN0LWl0ZW0gLnRpbWUgew0KICBmb250LXNpemU6IDEycHg7DQogIGNvbG9yOiAjOTA5Mzk5Ow0KICBtYXJnaW4tYm90dG9tOiA1cHg7DQp9DQoNCi5mb3JlY2FzdC1pdGVtIC53ZWF0aGVyLWljb24gew0KICBmb250LXNpemU6IDMycHg7DQogIG1hcmdpbjogNXB4IDA7DQp9DQoNCi5mb3JlY2FzdC1pdGVtIC50ZW1wIHsNCiAgZm9udC1zaXplOiAxNHB4Ow0KICBmb250LXdlaWdodDogYm9sZDsNCiAgY29sb3I6ICMzMDMxMzM7DQp9DQoNCi5hbGVydC1saXN0IHsNCiAgbWF4LWhlaWdodDogNDAwcHg7DQogIG92ZXJmbG93LXk6IGF1dG87DQp9DQoNCi5hbGVydC1pdGVtIHsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7DQogIHBhZGRpbmc6IDEycHg7DQogIG1hcmdpbi1ib3R0b206IDEwcHg7DQogIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgYmFja2dyb3VuZDogI0ZFRjBGMDsNCiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjRjU2QzZDOw0KfQ0KDQouYWxlcnQtaXRlbS53YXJuaW5nIHsNCiAgYmFja2dyb3VuZDogI0ZERjZFQzsNCiAgYm9yZGVyLWxlZnQtY29sb3I6ICNFNkEyM0M7DQp9DQoNCi5hbGVydC1pdGVtIGkgew0KICBmb250LXNpemU6IDIwcHg7DQogIG1hcmdpbi1yaWdodDogMTBweDsNCiAgY29sb3I6ICNGNTZDNkM7DQp9DQoNCi5hbGVydC1pdGVtLndhcm5pbmcgaSB7DQogIGNvbG9yOiAjRTZBMjNDOw0KfQ0KDQouYWxlcnQtY29udGVudCB7DQogIGZsZXg6IDE7DQp9DQoNCi5hbGVydC10aXRsZSB7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KICBmb250LXNpemU6IDE0cHg7DQogIG1hcmdpbi1ib3R0b206IDVweDsNCn0NCg0KLmFsZXJ0LWRlc2Mgew0KICBmb250LXNpemU6IDEycHg7DQogIGNvbG9yOiAjNjA2MjY2Ow0KfQ0KDQovKiDmiYDmnInljaHniYfnu5/kuIDljYrpgI/mmI7mlYjmnpwgKi8NCi53ZWF0aGVyLWZvcmVjYXN0LWNhcmQsDQouYWxlcnQtY2FyZCwNCi5jaGFydC1yb3cgLmVsLWNhcmQgew0KICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNDUpICFpbXBvcnRhbnQ7DQogIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsNCn0NCg0KLyogRWxlbWVudCBVSeWNoeeJh+WGhemDqOiDjOaZr+S5n+imgemAj+aYjiAqLw0KLmVsLWNhcmQgew0KICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNDUpICFpbXBvcnRhbnQ7DQogIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsNCn0NCg0KLmVsLWNhcmRfX2hlYWRlciB7DQogIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKSAhaW1wb3J0YW50Ow0KICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KTsNCn0NCg0KLmVsLWNhcmRfX2JvZHkgew0KICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50Ow0KfQ0K"},{"version":3,"sources":["AetherMonitor.vue"],"names":[],"mappings":";AA+mBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"AetherMonitor.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"aether-monitor\">\r\n    <!-- ÁªøËâ≤Á≤íÂ≠êËÉåÊôØ -->\r\n    <canvas ref=\"particleCanvas\" class=\"particle-canvas\"></canvas>\r\n    \r\n    <!-- È°∂ÈÉ®Ê†áÈ¢òÊ†è -->\r\n    <div class=\"header\">\r\n      <div class=\"title\">AetherHarvest ¬∑ Êô∫ÊÖßÂÜú‰∏öÊï∞ÊçÆÁõëÊéß</div>\r\n      <div class=\"status-group\">\r\n        <el-tag :type=\"deviceOnline ? 'success' : 'danger'\" size=\"small\">\r\n          {{ deviceOnline ? 'ËÆæÂ§áÂú®Á∫ø' : 'ËÆæÂ§áÁ¶ªÁ∫ø' }}\r\n        </el-tag>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ÂÖ≥ÈîÆÊåáÊ†áÂç°Áâá -->\r\n    <el-row :gutter=\"20\" class=\"kpi-row\">\r\n      <!-- ÂÆ§Â§ñÊ∏©Â∫¶ -->\r\n      <el-col :span=\"6\">\r\n        <el-card class=\"kpi-card weather-card\">\r\n          <div class=\"kpi-label\">ÂÆ§Â§ñÊ∏©Â∫¶</div>\r\n          <div class=\"kpi-value\">\r\n            {{ weatherNow && weatherNow.temp ? weatherNow.temp + '‚ÑÉ' : '--' }}\r\n          </div>\r\n          <div class=\"kpi-desc\">\r\n            {{ weatherNow && weatherNow.text || 'Âä†ËΩΩ‰∏≠...' }}\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- ÂÆ§ÂÜÖÊ∏©Â∫¶ -->\r\n      <el-col :span=\"6\">\r\n        <el-card class=\"kpi-card\">\r\n          <div class=\"kpi-label\">ÂÆ§ÂÜÖÊ∏©Â∫¶</div>\r\n          <div class=\"kpi-value\">{{ temperature === null ? '--' : temperature + '‚ÑÉ' }}</div>\r\n          <div class=\"kpi-desc\">STM32 ÂÆûÊó∂Ê£ÄÊµã</div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- ÂÆ§ÂÜÖÊπøÂ∫¶ -->\r\n      <el-col :span=\"6\">\r\n        <el-card class=\"kpi-card\">\r\n          <div class=\"kpi-label\">ÂÆ§ÂÜÖÊπøÂ∫¶</div>\r\n          <div class=\"kpi-value\">{{ humidity === null ? '--' : humidity + '%' }}</div>\r\n          <div class=\"kpi-desc\">STM32 ÂÆûÊó∂Ê£ÄÊµã</div>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- ÂÖâÁÖßÁÅØÊéßÂà∂ -->\r\n      <el-col :span=\"6\">\r\n        <el-card class=\"kpi-card lamp-card\">\r\n          <div class=\"kpi-label\">ÂÖâÁÖßÁÅØ</div>\r\n          <div class=\"lamp-control\">\r\n            <i class=\"el-icon-sunny\" :class=\"{ active: ledOn }\"></i>\r\n            <el-switch\r\n              v-model=\"ledOn\"\r\n              @change=\"toggleLamp\"\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#dcdfe6\"\r\n            ></el-switch>\r\n          </div>\r\n          <div class=\"kpi-desc\">{{ ledOn ? 'Â∑≤ÂºÄÂêØ' : 'Â∑≤ÂÖ≥Èó≠' }}</div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- Â§©Ê∞îÈ¢ÑÊä•ÂíåÈ¢ÑË≠¶ -->\r\n    <el-row :gutter=\"20\" class=\"weather-row\">\r\n      <!-- Â§©Ê∞îÈ¢ÑÊä• -->\r\n      <el-col :span=\"16\">\r\n        <el-card class=\"weather-forecast-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>üìÖ Â§©Ê∞îÈ¢ÑÊä•</span>\r\n          </div>\r\n          <el-tabs v-model=\"activeWeatherTab\">\r\n            <el-tab-pane label=\"24Â∞èÊó∂\" name=\"24h\">\r\n              <div class=\"forecast-list\" v-if=\"weather24h.length > 0\">\r\n                <div v-for=\"(item, index) in weather24h.slice(0, 8)\" :key=\"index\" class=\"forecast-item\">\r\n                  <div class=\"time\">{{ formatTime(item.fxTime) }}</div>\r\n                  <div class=\"weather-icon\">{{ getWeatherIcon(item.text) }}</div>\r\n                  <div class=\"temp\">{{ item.temp }}‚ÑÉ</div>\r\n                </div>\r\n              </div>\r\n              <el-empty v-else description=\"ÊöÇÊó†Êï∞ÊçÆ\" :image-size=\"60\"></el-empty>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"7Â§©\" name=\"7d\">\r\n              <div class=\"forecast-list\" v-if=\"weather7d.length > 0\">\r\n                <div v-for=\"(item, index) in weather7d\" :key=\"index\" class=\"forecast-item\">\r\n                  <div class=\"time\">{{ formatDate(item.fxDate) }}</div>\r\n                  <div class=\"weather-icon\">{{ getWeatherIcon(item.textDay) }}</div>\r\n                  <div class=\"temp\">{{ item.tempMin }}~{{ item.tempMax }}‚ÑÉ</div>\r\n                </div>\r\n              </div>\r\n              <el-empty v-else description=\"ÊöÇÊó†Êï∞ÊçÆ\" :image-size=\"60\"></el-empty>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- È¢ÑË≠¶‰ø°ÊÅØ -->\r\n      <el-col :span=\"8\">\r\n        <el-card class=\"alert-card\">\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>‚ö†Ô∏è È¢ÑË≠¶‰ø°ÊÅØ</span>\r\n          </div>\r\n          <div class=\"alert-list\">\r\n            <!-- Â§©Ê∞îÈ¢ÑË≠¶ -->\r\n            <div v-if=\"weatherAlerts.length > 0\">\r\n              <div v-for=\"(alert, index) in weatherAlerts\" :key=\"'weather-' + index\" class=\"alert-item warning\">\r\n                <i class=\"el-icon-warning\"></i>\r\n                <div class=\"alert-content\">\r\n                  <div class=\"alert-title\">{{ alert.title }}</div>\r\n                  <div class=\"alert-desc\">{{ alert.text }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- Ê∏©ÊπøÂ∫¶È¢ÑË≠¶ -->\r\n            <div v-if=\"tempAlert\" class=\"alert-item danger\">\r\n              <i class=\"el-icon-warning\"></i>\r\n              <div class=\"alert-content\">\r\n                <div class=\"alert-title\">Ê∏©Â∫¶ÂºÇÂ∏∏</div>\r\n                <div class=\"alert-desc\">{{ tempAlert }}</div>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"humiAlert\" class=\"alert-item warning\">\r\n              <i class=\"el-icon-warning\"></i>\r\n              <div class=\"alert-content\">\r\n                <div class=\"alert-title\">ÊπøÂ∫¶ÂºÇÂ∏∏</div>\r\n                <div class=\"alert-desc\">{{ humiAlert }}</div>\r\n              </div>\r\n            </div>\r\n            <el-empty v-if=\"!weatherAlerts.length && !tempAlert && !humiAlert\" description=\"ÊöÇÊó†È¢ÑË≠¶\" :image-size=\"60\"></el-empty>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- ÂéÜÂè≤Êï∞ÊçÆÂõæË°® -->\r\n    <el-row :gutter=\"20\" class=\"chart-row\">\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>üìà Ê∏©Â∫¶Ë∂ãÂäø</span>\r\n          </div>\r\n          <div ref=\"tempChart\" style=\"height: 300px;\"></div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"card-header\">\r\n            <span>üíß ÊπøÂ∫¶Ë∂ãÂäø</span>\r\n          </div>\r\n          <div ref=\"humiChart\" style=\"height: 300px;\"></div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts';\r\n\r\nexport default {\r\n  name: 'AetherMonitor',\r\n  data() {\r\n    return {\r\n      // ËÆæÂ§áÁä∂ÊÄÅ\r\n      deviceOnline: false,\r\n      temperature: null,\r\n      humidity: null,\r\n      ledOn: false,\r\n      \r\n      // Â§©Ê∞îÊï∞ÊçÆ\r\n      weatherNow: null,\r\n      weather24h: [],\r\n      weather7d: [],\r\n      weatherAlerts: [],\r\n      activeWeatherTab: '24h',\r\n      \r\n      // È¢ÑË≠¶\r\n      tempAlert: '',\r\n      humiAlert: '',\r\n      \r\n      // ÈòàÂÄº\r\n      tempThresholdHigh: 30,\r\n      tempThresholdLow: 10,\r\n      humiThresholdHigh: 75,\r\n      humiThresholdLow: 25,\r\n      \r\n      // ÂéÜÂè≤Êï∞ÊçÆ\r\n      historyData: [],\r\n      \r\n      // ÂõæË°®ÂÆû‰æã\r\n      tempChartInstance: null,\r\n      humiChartInstance: null,\r\n      \r\n      // ËΩÆËØ¢ÂÆöÊó∂Âô®\r\n      pollingTimer: null,\r\n      weatherTimer: null,\r\n      \r\n      // Á≤íÂ≠êÂä®ÁîªÁõ∏ÂÖ≥\r\n      particles: [],\r\n      canvas: null,\r\n      ctx: null,\r\n      animationId: null,\r\n      canvasWidth: 0,\r\n      canvasHeight: 0,\r\n      mouseX: 0,\r\n      mouseY: 0,\r\n      mouseMoving: false\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    this.initParticleCanvas();\r\n    this.initCharts();\r\n    this.fetchDeviceStatus();\r\n    this.fetchWeatherData();\r\n    this.fetchHistoryData();\r\n    \r\n    // ÂêØÂä®ËΩÆËØ¢\r\n    this.pollingTimer = setInterval(() => {\r\n      this.fetchDeviceStatus();\r\n    }, 5000); // ÊØè5ÁßíÊõ¥Êñ∞‰∏ÄÊ¨°ËÆæÂ§áÁä∂ÊÄÅ\r\n    \r\n    this.weatherTimer = setInterval(() => {\r\n      this.fetchWeatherData();\r\n    }, 300000); // ÊØè5ÂàÜÈíüÊõ¥Êñ∞‰∏ÄÊ¨°Â§©Ê∞î\r\n  },\r\n  \r\n  beforeDestroy() {\r\n    if (this.pollingTimer) {\r\n      clearInterval(this.pollingTimer);\r\n    }\r\n    if (this.weatherTimer) {\r\n      clearInterval(this.weatherTimer);\r\n    }\r\n    if (this.tempChartInstance) {\r\n      this.tempChartInstance.dispose();\r\n    }\r\n    if (this.humiChartInstance) {\r\n      this.humiChartInstance.dispose();\r\n    }\r\n    if (this.animationId) {\r\n      cancelAnimationFrame(this.animationId);\r\n    }\r\n    window.removeEventListener('resize', this.resizeCanvas);\r\n  },\r\n  \r\n  methods: {\r\n    // Ëé∑ÂèñËÆæÂ§áÁä∂ÊÄÅ\r\n    async fetchDeviceStatus() {\r\n      try {\r\n        const res = await this.request.get('/aether/device/status');\r\n        \r\n        if (res.code === '200' && res.data) {\r\n          const data = res.data;\r\n          this.deviceOnline = data.online;\r\n          this.temperature = data.temperature;\r\n          this.humidity = data.humidity;\r\n          this.ledOn = data.led === 1;\r\n          \r\n          // Ê£ÄÊü•ÈòàÂÄºÈ¢ÑË≠¶\r\n          this.checkThresholds();\r\n        }\r\n      } catch (error) {\r\n        console.error('Ëé∑ÂèñËÆæÂ§áÁä∂ÊÄÅÂ§±Ë¥•:', error);\r\n        this.deviceOnline = false;\r\n      }\r\n    },\r\n    \r\n    // ÊéßÂà∂LEDÁÅØ\r\n    async toggleLamp() {\r\n      try {\r\n        const res = await this.request.post('/aether/device/control/led', {\r\n          led: this.ledOn ? 1 : 0\r\n        });\r\n        \r\n        if (res.code === '200') {\r\n          this.$message.success(this.ledOn ? 'ÁÅØÂ∑≤ÂºÄÂêØ' : 'ÁÅØÂ∑≤ÂÖ≥Èó≠');\r\n        } else {\r\n          this.$message.error('ÊéßÂà∂Â§±Ë¥•');\r\n          this.ledOn = !this.ledOn; // ÊÅ¢Â§çÁä∂ÊÄÅ\r\n        }\r\n      } catch (error) {\r\n        console.error('ÊéßÂà∂LEDÂ§±Ë¥•:', error);\r\n        this.$message.error('ÊéßÂà∂Â§±Ë¥•');\r\n        this.ledOn = !this.ledOn;\r\n      }\r\n    },\r\n    \r\n    // Ëé∑ÂèñÂ§©Ê∞îÊï∞ÊçÆ\r\n    async fetchWeatherData() {\r\n      try {\r\n        // Ëé∑ÂèñÂÆûÊó∂Â§©Ê∞î\r\n        const nowRes = await this.request.get('/aether/weather/now');\r\n        if (nowRes.code === '200' && nowRes.data && nowRes.data.data) {\r\n          this.weatherNow = nowRes.data.data;\r\n        }\r\n        \r\n        // Ëé∑Âèñ7Â§©Â§©Ê∞î\r\n        const weekRes = await this.request.get('/aether/weather/7d');\r\n        if (weekRes.code === '200' && weekRes.data && weekRes.data.data) {\r\n          this.weather7d = weekRes.data.data.daily || [];\r\n          this.weather24h = weekRes.data.data.hourly || [];\r\n        }\r\n        \r\n        // Ëé∑ÂèñÈ¢ÑË≠¶\r\n        const alertRes = await this.request.get('/aether/weather/alerts');\r\n        if (alertRes.code === '200' && alertRes.data) {\r\n          this.weatherAlerts = alertRes.data.data || [];\r\n        }\r\n      } catch (error) {\r\n        console.error('Ëé∑ÂèñÂ§©Ê∞îÊï∞ÊçÆÂ§±Ë¥•:', error);\r\n      }\r\n    },\r\n    \r\n    // Ëé∑ÂèñÂéÜÂè≤Êï∞ÊçÆ\r\n    async fetchHistoryData() {\r\n      try {\r\n        const res = await this.request.get('/aether/readings/detail?days=7');\r\n        \r\n        if (res.code === '200' && res.data && res.data.data) {\r\n          this.historyData = res.data.data || [];\r\n          this.updateCharts();\r\n        }\r\n      } catch (error) {\r\n        console.error('Ëé∑ÂèñÂéÜÂè≤Êï∞ÊçÆÂ§±Ë¥•:', error);\r\n      }\r\n    },\r\n    \r\n    // Ê£ÄÊü•ÈòàÂÄº\r\n    checkThresholds() {\r\n      this.tempAlert = '';\r\n      this.humiAlert = '';\r\n      \r\n      if (this.temperature !== null) {\r\n        if (this.temperature > this.tempThresholdHigh) {\r\n          this.tempAlert = `ÂΩìÂâçÊ∏©Â∫¶ ${this.temperature}‚ÑÉ Ë∂ÖËøá‰∏äÈôê ${this.tempThresholdHigh}‚ÑÉ`;\r\n        } else if (this.temperature < this.tempThresholdLow) {\r\n          this.tempAlert = `ÂΩìÂâçÊ∏©Â∫¶ ${this.temperature}‚ÑÉ ‰Ωé‰∫é‰∏ãÈôê ${this.tempThresholdLow}‚ÑÉ`;\r\n        }\r\n      }\r\n      \r\n      if (this.humidity !== null) {\r\n        if (this.humidity > this.humiThresholdHigh) {\r\n          this.humiAlert = `ÂΩìÂâçÊπøÂ∫¶ ${this.humidity}% Ë∂ÖËøá‰∏äÈôê ${this.humiThresholdHigh}%`;\r\n        } else if (this.humidity < this.humiThresholdLow) {\r\n          this.humiAlert = `ÂΩìÂâçÊπøÂ∫¶ ${this.humidity}% ‰Ωé‰∫é‰∏ãÈôê ${this.humiThresholdLow}%`;\r\n        }\r\n      }\r\n    },\r\n    \r\n    // ÂàùÂßãÂåñÂõæË°®\r\n    initCharts() {\r\n      this.tempChartInstance = echarts.init(this.$refs.tempChart);\r\n      this.humiChartInstance = echarts.init(this.$refs.humiChart);\r\n      \r\n      window.addEventListener('resize', () => {\r\n        this.tempChartInstance && this.tempChartInstance.resize();\r\n        this.humiChartInstance && this.humiChartInstance.resize();\r\n      });\r\n    },\r\n    \r\n    // Êõ¥Êñ∞ÂõæË°®\r\n    updateCharts() {\r\n      if (!this.historyData || this.historyData.length === 0) return;\r\n      \r\n      const times = this.historyData.map(item => {\r\n        const date = new Date(item.date);\r\n        return `${date.getMonth() + 1}/${date.getDate()} ${date.getHours()}:${String(date.getMinutes()).padStart(2, '0')}`;\r\n      });\r\n      const temps = this.historyData.map(item => item.temp);\r\n      const humis = this.historyData.map(item => item.humi);\r\n      \r\n      // Ê∏©Â∫¶ÂõæË°®\r\n      const tempOption = {\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: times,\r\n          boundaryGap: false\r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          name: 'Ê∏©Â∫¶(‚ÑÉ)'\r\n        },\r\n        series: [{\r\n          name: 'Ê∏©Â∫¶',\r\n          type: 'line',\r\n          smooth: true,\r\n          data: temps,\r\n          itemStyle: {\r\n            color: '#409EFF'\r\n          },\r\n          areaStyle: {\r\n            color: {\r\n              type: 'linear',\r\n              x: 0,\r\n              y: 0,\r\n              x2: 0,\r\n              y2: 1,\r\n              colorStops: [{\r\n                offset: 0, color: 'rgba(64, 158, 255, 0.3)'\r\n              }, {\r\n                offset: 1, color: 'rgba(64, 158, 255, 0.05)'\r\n              }]\r\n            }\r\n          }\r\n        }]\r\n      };\r\n      \r\n      // ÊπøÂ∫¶ÂõæË°®\r\n      const humiOption = {\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          data: times,\r\n          boundaryGap: false\r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          name: 'ÊπøÂ∫¶(%)'\r\n        },\r\n        series: [{\r\n          name: 'ÊπøÂ∫¶',\r\n          type: 'line',\r\n          smooth: true,\r\n          data: humis,\r\n          itemStyle: {\r\n            color: '#67C23A'\r\n          },\r\n          areaStyle: {\r\n            color: {\r\n              type: 'linear',\r\n              x: 0,\r\n              y: 0,\r\n              x2: 0,\r\n              y2: 1,\r\n              colorStops: [{\r\n                offset: 0, color: 'rgba(103, 194, 58, 0.3)'\r\n              }, {\r\n                offset: 1, color: 'rgba(103, 194, 58, 0.05)'\r\n              }]\r\n            }\r\n          }\r\n        }]\r\n      };\r\n      \r\n      this.tempChartInstance.setOption(tempOption);\r\n      this.humiChartInstance.setOption(humiOption);\r\n    },\r\n    \r\n    // Ê†ºÂºèÂåñÊó∂Èó¥\r\n    formatTime(timeStr) {\r\n      const date = new Date(timeStr);\r\n      return `${date.getHours()}:00`;\r\n    },\r\n    \r\n    // Ê†ºÂºèÂåñÊó•Êúü\r\n    formatDate(dateStr) {\r\n      const date = new Date(dateStr);\r\n      return `${date.getMonth() + 1}/${date.getDate()}`;\r\n    },\r\n    \r\n    // Ëé∑ÂèñÂ§©Ê∞îÂõæÊ†á\r\n    getWeatherIcon(text) {\r\n      const iconMap = {\r\n        'Êô¥': '‚òÄÔ∏è',\r\n        'Â§ö‰∫ë': '‚õÖ',\r\n        'Èò¥': '‚òÅÔ∏è',\r\n        'Èõ®': 'üåßÔ∏è',\r\n        'Èõ™': '‚ùÑÔ∏è',\r\n        'Èõ∑': '‚ö°'\r\n      };\r\n      \r\n      for (let key in iconMap) {\r\n        if (text && text.includes(key)) {\r\n          return iconMap[key];\r\n        }\r\n      }\r\n      return 'üå§Ô∏è';\r\n    },\r\n    \r\n    // ========== Á≤íÂ≠êÂä®ÁîªÊñπÊ≥ï ==========\r\n    \r\n    initParticleCanvas() {\r\n      this.$nextTick(() => {\r\n        this.canvas = this.$refs.particleCanvas;\r\n        if (!this.canvas) return;\r\n        \r\n        this.ctx = this.canvas.getContext('2d');\r\n        this.resizeCanvas();\r\n        window.addEventListener('resize', this.resizeCanvas);\r\n        this.initParticles();\r\n        this.animate();\r\n      });\r\n    },\r\n    \r\n    resizeCanvas() {\r\n      if (!this.canvas) return;\r\n      const container = this.canvas.parentElement;\r\n      if (container) {\r\n        const { width, height } = container.getBoundingClientRect();\r\n        const dpr = window.devicePixelRatio || 1;\r\n        this.canvas.width = width * dpr;\r\n        this.canvas.height = height * dpr;\r\n        this.ctx.scale(dpr, dpr);\r\n        this.canvas.style.width = `${width}px`;\r\n        this.canvas.style.height = `${height}px`;\r\n        this.canvasWidth = width;\r\n        this.canvasHeight = height;\r\n        if (this.particles.length === 0) {\r\n          this.initParticles(Math.floor(width * height / 10000));\r\n        }\r\n      }\r\n    },\r\n    \r\n    initParticles(count = 80) {\r\n      const particles = [];\r\n      const width = this.canvasWidth;\r\n      const height = this.canvasHeight;\r\n      for (let i = 0; i < count; i++) {\r\n        const type = Math.random() > 0.9 ? 'special' : (Math.random() > 0.8 ? 'bright' : 'normal');\r\n        const angle = Math.random() * Math.PI * 2;\r\n        const speed = 0.3 + Math.random() * 0.3;\r\n        particles.push({\r\n          x: Math.random() * width,\r\n          y: Math.random() * height,\r\n          vx: Math.cos(angle) * speed,\r\n          vy: Math.sin(angle) * speed,\r\n          r: type === 'special' ? 2.5 : (type === 'bright' ? 2 : 1.5),\r\n          alpha: type === 'special' ? 0.8 : (type === 'bright' ? 0.6 : 0.5),\r\n          color: this.getRandomGreenColor(),\r\n          type: type\r\n        });\r\n      }\r\n      this.particles = particles;\r\n    },\r\n    \r\n    getRandomGreenColor() {\r\n      const colors = [[76, 175, 80], [102, 187, 106], [129, 199, 132], [165, 214, 167], [144, 238, 144], [50, 205, 50]];\r\n      return colors[Math.floor(Math.random() * colors.length)];\r\n    },\r\n    \r\n    animate() {\r\n      if (!this.ctx) return;\r\n      const ctx = this.ctx;\r\n      const particles = this.particles;\r\n      const width = this.canvasWidth;\r\n      const height = this.canvasHeight;\r\n      \r\n      ctx.clearRect(0, 0, width, height);\r\n      const bgGradient = ctx.createLinearGradient(0, 0, width, height);\r\n      bgGradient.addColorStop(0, \"rgba(214, 234, 212, 0.3)\");\r\n      bgGradient.addColorStop(0.3, \"rgba(200, 230, 201, 0.25)\");\r\n      bgGradient.addColorStop(0.6, \"rgba(180, 220, 180, 0.2)\");\r\n      bgGradient.addColorStop(1, \"rgba(165, 214, 167, 0.15)\");\r\n      ctx.fillStyle = bgGradient;\r\n      ctx.fillRect(0, 0, width, height);\r\n      \r\n      for (let i = 0; i < particles.length; i++) {\r\n        const p = particles[i];\r\n        p.x = (p.x + p.vx + width) % width;\r\n        p.y = (p.y + p.vy + height) % height;\r\n        const speed = Math.sqrt(p.vx * p.vx + p.vy * p.vy);\r\n        if (speed > 1) {\r\n          p.vx *= 0.98;\r\n          p.vy *= 0.98;\r\n        }\r\n        \r\n        ctx.beginPath();\r\n        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);\r\n        ctx.fillStyle = `rgba(${p.color[0]}, ${p.color[1]}, ${p.color[2]}, ${p.alpha})`;\r\n        ctx.fill();\r\n        \r\n        if (p.type === 'special' || p.type === 'bright') {\r\n          const gradient = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.r * 3);\r\n          gradient.addColorStop(0, `rgba(${p.color[0]}, ${p.color[1]}, ${p.color[2]}, ${p.alpha * 0.3})`);\r\n          gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');\r\n          ctx.fillStyle = gradient;\r\n          ctx.fillRect(p.x - p.r * 3, p.y - p.r * 3, p.r * 6, p.r * 6);\r\n        }\r\n        \r\n        for (let j = i + 1; j < particles.length; j++) {\r\n          const p2 = particles[j];\r\n          const dx = p.x - p2.x;\r\n          const dy = p.y - p2.y;\r\n          const distance = Math.sqrt(dx * dx + dy * dy);\r\n          if (distance < 120) {\r\n            ctx.beginPath();\r\n            ctx.moveTo(p.x, p.y);\r\n            ctx.lineTo(p2.x, p2.y);\r\n            const opacity = (1 - distance / 120) * 0.3;\r\n            ctx.strokeStyle = `rgba(129, 199, 132, ${opacity})`;\r\n            ctx.lineWidth = 0.5;\r\n            ctx.stroke();\r\n          }\r\n        }\r\n      }\r\n      this.animationId = requestAnimationFrame(this.animate);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.aether-monitor {\r\n  position: relative;\r\n  padding: 20px;\r\n  min-height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Á≤íÂ≠êÁîªÂ∏É */\r\n.particle-canvas {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n/* Á°Æ‰øùÂÜÖÂÆπÂú®Á≤íÂ≠ê‰πã‰∏ä */\r\n.aether-monitor > *:not(.particle-canvas) {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  padding: 15px 20px;\r\n  background: rgba(255, 255, 255, 0.45) !important;\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.title {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n}\r\n\r\n.kpi-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.kpi-card {\r\n  text-align: center;\r\n  transition: all 0.3s;\r\n  background: rgba(255, 255, 255, 0.45) !important;\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.kpi-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.kpi-label {\r\n  font-size: 14px;\r\n  color: #909399;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.kpi-value {\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  color: #409EFF;\r\n  margin: 10px 0;\r\n}\r\n\r\n.kpi-desc {\r\n  font-size: 12px;\r\n  color: #C0C4CC;\r\n}\r\n\r\n.weather-card .kpi-value {\r\n  color: #E6A23C;\r\n}\r\n\r\n.lamp-card .lamp-control {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin: 15px 0;\r\n}\r\n\r\n.lamp-card i {\r\n  font-size: 48px;\r\n  color: #DCDFE6;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.lamp-card i.active {\r\n  color: #F56C6C;\r\n  animation: pulse 2s infinite;\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.6; }\r\n}\r\n\r\n.weather-row,\r\n.chart-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n}\r\n\r\n.forecast-list {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n}\r\n\r\n.forecast-item {\r\n  text-align: center;\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  background: #f5f7fa;\r\n  min-width: 80px;\r\n}\r\n\r\n.forecast-item .time {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.forecast-item .weather-icon {\r\n  font-size: 32px;\r\n  margin: 5px 0;\r\n}\r\n\r\n.forecast-item .temp {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n}\r\n\r\n.alert-list {\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.alert-item {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: 12px;\r\n  margin-bottom: 10px;\r\n  border-radius: 8px;\r\n  background: #FEF0F0;\r\n  border-left: 4px solid #F56C6C;\r\n}\r\n\r\n.alert-item.warning {\r\n  background: #FDF6EC;\r\n  border-left-color: #E6A23C;\r\n}\r\n\r\n.alert-item i {\r\n  font-size: 20px;\r\n  margin-right: 10px;\r\n  color: #F56C6C;\r\n}\r\n\r\n.alert-item.warning i {\r\n  color: #E6A23C;\r\n}\r\n\r\n.alert-content {\r\n  flex: 1;\r\n}\r\n\r\n.alert-title {\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.alert-desc {\r\n  font-size: 12px;\r\n  color: #606266;\r\n}\r\n\r\n/* ÊâÄÊúâÂç°ÁâáÁªü‰∏ÄÂçäÈÄèÊòéÊïàÊûú */\r\n.weather-forecast-card,\r\n.alert-card,\r\n.chart-row .el-card {\r\n  background: rgba(255, 255, 255, 0.45) !important;\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n/* Element UIÂç°ÁâáÂÜÖÈÉ®ËÉåÊôØ‰πüË¶ÅÈÄèÊòé */\r\n.el-card {\r\n  background: rgba(255, 255, 255, 0.45) !important;\r\n  backdrop-filter: blur(10px);\r\n}\r\n\r\n.el-card__header {\r\n  background: rgba(255, 255, 255, 0.3) !important;\r\n  backdrop-filter: blur(5px);\r\n}\r\n\r\n.el-card__body {\r\n  background: transparent !important;\r\n}\r\n</style>\r\n"]}]}